var r1=Object.create;var Wa=Object.defineProperty,i1=Object.defineProperties,o1=Object.getOwnPropertyDescriptor,s1=Object.getOwnPropertyDescriptors,a1=Object.getOwnPropertyNames,Dd=Object.getOwnPropertySymbols,c1=Object.getPrototypeOf,Sd=Object.prototype.hasOwnProperty,l1=Object.prototype.propertyIsEnumerable;var Ad=(e,t,r)=>t in e?Wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,J=(e,t)=>{for(var r in t||={})Sd.call(t,r)&&Ad(e,r,t[r]);if(Dd)for(var r of Dd(t))l1.call(t,r)&&Ad(e,r,t[r]);return e},Ke=(e,t)=>i1(e,s1(t));var u1=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var d1=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of a1(t))!Sd.call(e,l)&&l!==r&&Wa(e,l,{get:()=>t[l],enumerable:!(s=o1(t,l))||s.enumerable});return e};var f1=(e,t,r)=>(r=e!=null?r1(c1(e)):{},d1(t||!e||!e.__esModule?Wa(r,"default",{value:e,enumerable:!0}):r,e));var Wg=u1((xa,Gg)=>{"use strict";(function(e,t){typeof xa=="object"&&typeof Gg<"u"?t(xa):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ZXing={}))})(xa,function(e){"use strict";function t(m){return m==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,n){m.__proto__=n}||function(m,n){for(var i in n)n.hasOwnProperty(i)&&(m[i]=n[i])};function s(m,n){r(m,n);function i(){this.constructor=m}m.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function l(m,n){var i=Object.setPrototypeOf;i?i(m,n):m.__proto__=n}function d(m,n){n===void 0&&(n=m.constructor);var i=Error.captureStackTrace;i&&i(m,n)}var p=function(m){s(n,m);function n(i){var o=this.constructor,a=m.call(this,i)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1}),l(a,o.prototype),d(a),a}return n}(Error);let x=(()=>{class m extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}return m.kind="Exception",m})(),C=(()=>{class m extends x{}return m.kind="ArgumentException",m})(),y=(()=>{class m extends x{}return m.kind="IllegalArgumentException",m})();class v{constructor(n){if(this.binarizer=n,n===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,o,a){let c=this.binarizer.getLuminanceSource().crop(n,i,o,a);return new v(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){let n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let S=(()=>{class m extends x{static getChecksumInstance(){return new m}}return m.kind="ChecksumException",m})();class V{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class L{static arraycopy(n,i,o,a,c){for(;c--;)o[a++]=n[i++]}static currentTimeMillis(){return Date.now()}}let Y=(()=>{class m extends x{}return m.kind="IndexOutOfBoundsException",m})(),$=(()=>{class m extends Y{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}return m.kind="ArrayIndexOutOfBoundsException",m})();class q{static fill(n,i){for(let o=0,a=n.length;o<a;o++)n[o]=i}static fillWithin(n,i,o,a){q.rangeCheck(n.length,i,o);for(let c=i;c<o;c++)n[c]=a}static rangeCheck(n,i,o){if(i>o)throw new y("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new $(i);if(o>n)throw new $(o)}static asList(...n){return n}static create(n,i,o){return Array.from({length:n}).map(c=>Array.from({length:i}).fill(o))}static createInt32Array(n,i,o){return Array.from({length:n}).map(c=>Int32Array.from({length:i}).fill(o))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let o=0,a=n.length;o<a;o++)if(n[o]!==i[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(let o of n)i=31*i+o;return i}static fillUint8Array(n,i){for(let o=0;o!==n.length;o++)n[o]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){let o=new Uint8Array(i);return o.set(n),o}return n.slice(0,i)}static copyOfRange(n,i,o){let a=o-i,c=new Int32Array(a);return L.arraycopy(n,i,c,0,a),c}static binarySearch(n,i,o){o===void 0&&(o=q.numberComparator);let a=0,c=n.length-1;for(;a<=c;){let u=c+a>>1,f=o(i,n[u]);if(f>0)a=u+1;else if(f<0)c=u-1;else return u}return-a-1}static numberComparator(n,i){return n-i}}class H{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let o=31;return i=n<<16,i!==0&&(o-=16,n=i),i=n<<8,i!==0&&(o-=8,n=i),i=n<<4,i!==0&&(o-=4,n=i),i=n<<2,i!==0&&(o-=2,n=i),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ue{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=ue.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){let i=ue.makeArray(n);L.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){let i=this.size;if(n>=i)return i;let o=this.bits,a=Math.floor(n/32),c=o[a];c&=~((1<<(n&31))-1);let u=o.length;for(;c===0;){if(++a===u)return i;c=o[a]}let f=a*32+H.numberOfTrailingZeros(c);return f>i?i:f}getNextUnset(n){let i=this.size;if(n>=i)return i;let o=this.bits,a=Math.floor(n/32),c=~o[a];c&=~((1<<(n&31))-1);let u=o.length;for(;c===0;){if(++a===u)return i;c=~o[a]}let f=a*32+H.numberOfTrailingZeros(c);return f>i?i:f}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new y;if(i===n)return;i--;let o=Math.floor(n/32),a=Math.floor(i/32),c=this.bits;for(let u=o;u<=a;u++){let f=u>o?0:n&31,g=(2<<(u<a?31:i&31))-(1<<f);c[u]|=g}}clear(){let n=this.bits.length,i=this.bits;for(let o=0;o<n;o++)i[o]=0}isRange(n,i,o){if(i<n||n<0||i>this.size)throw new y;if(i===n)return!0;i--;let a=Math.floor(n/32),c=Math.floor(i/32),u=this.bits;for(let f=a;f<=c;f++){let h=f>a?0:n&31,w=(2<<(f<c?31:i&31))-(1<<h)&4294967295;if((u[f]&w)!==(o?w:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){let i=n.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new y("Sizes don't match");let i=this.bits;for(let o=0,a=i.length;o<a;o++)i[o]^=n.bits[o]}toBytes(n,i,o,a){for(let c=0;c<a;c++){let u=0;for(let f=0;f<8;f++)this.get(n)&&(u|=1<<7-f),n++;i[o+c]=u}}getBitArray(){return this.bits}reverse(){let n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,a=this.bits;for(let c=0;c<o;c++){let u=a[c];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,n[i-c]=u}if(this.size!==o*32){let c=o*32-this.size,u=n[0]>>>c;for(let f=1;f<o;f++){let h=n[f];u|=h<<32-c,n[f-1]=u,u=h>>>c}n[o-1]=u}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof ue))return!1;let i=n;return this.size===i.size&&q.equals(this.bits,i.bits)}hashCode(){return 31*this.size+q.hashCode(this.bits)}toString(){let n="";for(let i=0,o=this.size;i<o;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new ue(this.size,this.bits.slice())}}var We=function(m){return m[m.OTHER=0]="OTHER",m[m.PURE_BARCODE=1]="PURE_BARCODE",m[m.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",m[m.TRY_HARDER=3]="TRY_HARDER",m[m.CHARACTER_SET=4]="CHARACTER_SET",m[m.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",m[m.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",m[m.ASSUME_GS1=7]="ASSUME_GS1",m[m.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",m[m.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",m[m.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",m}(We||{}),oe=We;let B=(()=>{class m extends x{static getFormatInstance(){return new m}}return m.kind="FormatException",m})();var se=function(m){return m[m.Cp437=0]="Cp437",m[m.ISO8859_1=1]="ISO8859_1",m[m.ISO8859_2=2]="ISO8859_2",m[m.ISO8859_3=3]="ISO8859_3",m[m.ISO8859_4=4]="ISO8859_4",m[m.ISO8859_5=5]="ISO8859_5",m[m.ISO8859_6=6]="ISO8859_6",m[m.ISO8859_7=7]="ISO8859_7",m[m.ISO8859_8=8]="ISO8859_8",m[m.ISO8859_9=9]="ISO8859_9",m[m.ISO8859_10=10]="ISO8859_10",m[m.ISO8859_11=11]="ISO8859_11",m[m.ISO8859_13=12]="ISO8859_13",m[m.ISO8859_14=13]="ISO8859_14",m[m.ISO8859_15=14]="ISO8859_15",m[m.ISO8859_16=15]="ISO8859_16",m[m.SJIS=16]="SJIS",m[m.Cp1250=17]="Cp1250",m[m.Cp1251=18]="Cp1251",m[m.Cp1252=19]="Cp1252",m[m.Cp1256=20]="Cp1256",m[m.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",m[m.UTF8=22]="UTF8",m[m.ASCII=23]="ASCII",m[m.Big5=24]="Big5",m[m.GB18030=25]="GB18030",m[m.EUC_KR=26]="EUC_KR",m}(se||{});class U{constructor(n,i,o,...a){this.valueIdentifier=n,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,U.VALUE_IDENTIFIER_TO_ECI.set(n,this),U.NAME_TO_ECI.set(o,this);let c=this.values;for(let u=0,f=c.length;u!==f;u++){let h=c[u];U.VALUES_TO_ECI.set(h,this)}for(let u of a)U.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new B("incorect value");let i=U.VALUES_TO_ECI.get(n);if(i===void 0)throw new B("incorect value");return i}static getCharacterSetECIByName(n){let i=U.NAME_TO_ECI.get(n);if(i===void 0)throw new B("incorect value");return i}equals(n){if(!(n instanceof U))return!1;let i=n;return this.getName()===i.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(se.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(se.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(se.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(se.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(se.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(se.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(se.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(se.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(se.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(se.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(se.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(se.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(se.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(se.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(se.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(se.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(se.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(se.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(se.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(se.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(se.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(se.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(se.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(se.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(se.Big5,28,"Big5"),U.GB18030=new U(se.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(se.EUC_KR,30,"EUC_KR","EUC-KR");let bn=(()=>{class m extends x{}return m.kind="UnsupportedOperationException",m})();class xt{static decode(n,i){let o=this.encodingName(i);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!xt.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){let o=this.encodingName(i);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof U?n:U.getCharacterSetECIByName(n)}static decodeFallback(n,i){let o=this.encodingCharacterSet(i);if(xt.isDecodeFallbackSupported(o)){let a="";for(let c=0,u=n.length;c<u;c++){let f=n[c].toString(16);f.length<2&&(f="0"+f),a+="%"+f}return decodeURIComponent(a)}if(o.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new bn(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(U.UTF8)||n.equals(U.ISO8859_1)||n.equals(U.ASCII)}static encodeFallback(n){let o=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let c=0;c<o.length;c++)a.push(o[c].charCodeAt(0));return new Uint8Array(a)}}class re{static castAsNonUtf8Char(n,i=null){let o=i?i.getName():this.ISO88591;return xt.decode(new Uint8Array([n]),o)}static guessEncoding(n,i){if(i!=null&&i.get(oe.CHARACTER_SET)!==void 0)return i.get(oe.CHARACTER_SET).toString();let o=n.length,a=!0,c=!0,u=!0,f=0,h=0,g=0,w=0,E=0,I=0,A=0,b=0,T=0,M=0,N=0,k=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let G=0;G<o&&(a||c||u);G++){let O=n[G]&255;u&&(f>0?O&128?f--:u=!1:O&128&&(O&64?(f++,O&32?(f++,O&16?(f++,O&8?u=!1:w++):g++):h++):u=!1)),a&&(O>127&&O<160?a=!1:O>159&&(O<192||O===215||O===247)&&N++),c&&(E>0?O<64||O===127||O>252?c=!1:E--:O===128||O===160||O>239?c=!1:O>160&&O<224?(I++,b=0,A++,A>T&&(T=A)):O>127?(E++,A=0,b++,b>M&&(M=b)):(A=0,b=0))}return u&&f>0&&(u=!1),c&&E>0&&(c=!1),u&&(k||h+g+w>0)?re.UTF8:c&&(re.ASSUME_SHIFT_JIS||T>=3||M>=3)?re.SHIFT_JIS:a&&c?T===2&&I===2||N*10>=o?re.SHIFT_JIS:re.ISO88591:a?re.ISO88591:c?re.SHIFT_JIS:u?re.UTF8:re.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let o=-1;function a(u,f,h,g,w,E){if(u==="%%")return"%";if(i[++o]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let I=w?parseInt(w.substr(1)):void 0,A;switch(E){case"s":A=i[o];break;case"c":A=i[o][0];break;case"f":A=parseFloat(i[o]).toFixed(u);break;case"p":A=parseFloat(i[o]).toPrecision(u);break;case"e":A=parseFloat(i[o]).toExponential(u);break;case"x":A=parseInt(i[o]).toString(I||16);break;case"d":A=parseFloat(parseInt(i[o],I||10).toPrecision(u)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(I);let b=parseInt(h),T=h&&h[0]+""=="0"?"0":" ";for(;A.length<b;)A=f!==void 0?A+T:T+A;return A}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,a)}static getBytes(n,i){return xt.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}re.SHIFT_JIS=U.SJIS.getName(),re.GB2312="GB2312",re.ISO88591=U.ISO8859_1.getName(),re.EUC_JP="EUC_JP",re.UTF8=U.UTF8.getName(),re.PLATFORM_DEFAULT_ENCODING=re.UTF8,re.ASSUME_SHIFT_JIS=!1;class ke{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=re.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,o){for(let a=i;i<i+o;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class it{constructor(n,i,o,a){if(this.width=n,this.height=i,this.rowSize=o,this.bits=a,i==null&&(i=n),this.height=i,n<1||i<1)throw new y("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){let i=n.length,o=n[0].length,a=new it(o,i);for(let c=0;c<i;c++){let u=n[c];for(let f=0;f<o;f++)u[f]&&a.set(f,c)}return a}static parseFromString(n,i,o){if(n===null)throw new y("stringRepresentation cannot be null");let a=new Array(n.length),c=0,u=0,f=-1,h=0,g=0;for(;g<n.length;)if(n.charAt(g)===`
`||n.charAt(g)==="\r"){if(c>u){if(f===-1)f=c-u;else if(c-u!==f)throw new y("row lengths do not match");u=c,h++}g++}else if(n.substring(g,g+i.length)===i)g+=i.length,a[c]=!0,c++;else if(n.substring(g,g+o.length)===o)g+=o.length,a[c]=!1,c++;else throw new y("illegal character encountered: "+n.substring(g));if(c>u){if(f===-1)f=c-u;else if(c-u!==f)throw new y("row lengths do not match");h++}let w=new it(f,h);for(let E=0;E<c;E++)a[E]&&w.set(Math.floor(E%f),Math.floor(E/f));return w}get(n,i){let o=i*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,i){let o=i*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,i){let o=i*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,i){let o=i*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new y("input matrix dimensions do not match");let i=new ue(Math.floor(this.width/32)+1),o=this.rowSize,a=this.bits;for(let c=0,u=this.height;c<u;c++){let f=c*o,h=n.getRow(c,i).getBitArray();for(let g=0;g<o;g++)a[f+g]^=h[g]}}clear(){let n=this.bits,i=n.length;for(let o=0;o<i;o++)n[o]=0}setRegion(n,i,o,a){if(i<0||n<0)throw new y("Left and top must be nonnegative");if(a<1||o<1)throw new y("Height and width must be at least 1");let c=n+o,u=i+a;if(u>this.height||c>this.width)throw new y("The region must fit inside the matrix");let f=this.rowSize,h=this.bits;for(let g=i;g<u;g++){let w=g*f;for(let E=n;E<c;E++)h[w+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new ue(this.width):i.clear();let o=this.rowSize,a=this.bits,c=n*o;for(let u=0;u<o;u++)i.setBulk(u*32,a[c+u]);return i}setRow(n,i){L.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){let n=this.getWidth(),i=this.getHeight(),o=new ue(n),a=new ue(n);for(let c=0,u=Math.floor((i+1)/2);c<u;c++)o=this.getRow(c,o),a=this.getRow(i-1-c,a),o.reverse(),a.reverse(),this.setRow(c,a),this.setRow(i-1-c,o)}getEnclosingRectangle(){let n=this.width,i=this.height,o=this.rowSize,a=this.bits,c=n,u=i,f=-1,h=-1;for(let g=0;g<i;g++)for(let w=0;w<o;w++){let E=a[g*o+w];if(E!==0){if(g<u&&(u=g),g>h&&(h=g),w*32<c){let I=0;for(;!(E<<31-I&4294967295);)I++;w*32+I<c&&(c=w*32+I)}if(w*32+31>f){let I=31;for(;!(E>>>I);)I--;w*32+I>f&&(f=w*32+I)}}}return f<c||h<u?null:Int32Array.from([c,u,f-c+1,h-u+1])}getTopLeftOnBit(){let n=this.rowSize,i=this.bits,o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;let a=o/n,c=o%n*32,u=i[o],f=0;for(;!(u<<31-f&4294967295);)f++;return c+=f,Int32Array.from([c,a])}getBottomRightOnBit(){let n=this.rowSize,i=this.bits,o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;let a=Math.floor(o/n),c=Math.floor(o%n)*32,u=i[o],f=31;for(;!(u>>>f);)f--;return c+=f,Int32Array.from([c,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof it))return!1;let i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&q.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+q.hashCode(this.bits),n}toString(n="X ",i="  ",o=`
`){return this.buildToString(n,i,o)}buildToString(n,i,o){let a=new ke;for(let c=0,u=this.height;c<u;c++){for(let f=0,h=this.width;f<h;f++)a.append(this.get(f,c)?n:i);a.append(o)}return a.toString()}clone(){return new it(this.width,this.height,this.rowSize,this.bits.slice())}}let P=(()=>{class m extends x{static getNotFoundInstance(){return new m}}return m.kind="NotFoundException",m})();class ot extends V{constructor(n){super(n),this.luminances=ot.EMPTY,this.buckets=new Int32Array(ot.LUMINANCE_BUCKETS)}getBlackRow(n,i){let o=this.getLuminanceSource(),a=o.getWidth();i==null||i.getSize()<a?i=new ue(a):i.clear(),this.initArrays(a);let c=o.getRow(n,this.luminances),u=this.buckets;for(let h=0;h<a;h++)u[(c[h]&255)>>ot.LUMINANCE_SHIFT]++;let f=ot.estimateBlackPoint(u);if(a<3)for(let h=0;h<a;h++)(c[h]&255)<f&&i.set(h);else{let h=c[0]&255,g=c[1]&255;for(let w=1;w<a-1;w++){let E=c[w+1]&255;(g*4-h-E)/2<f&&i.set(w),h=g,g=E}}return i}getBlackMatrix(){let n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight(),a=new it(i,o);this.initArrays(i);let c=this.buckets;for(let h=1;h<5;h++){let g=Math.floor(o*h/5),w=n.getRow(g,this.luminances),E=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<E;I++){let A=w[I]&255;c[A>>ot.LUMINANCE_SHIFT]++}}let u=ot.estimateBlackPoint(c),f=n.getMatrix();for(let h=0;h<o;h++){let g=h*i;for(let w=0;w<i;w++)(f[g+w]&255)<u&&a.set(w,h)}return a}createBinarizer(n){return new ot(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));let i=this.buckets;for(let o=0;o<ot.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(n){let i=n.length,o=0,a=0,c=0;for(let w=0;w<i;w++)n[w]>c&&(a=w,c=n[w]),n[w]>o&&(o=n[w]);let u=0,f=0;for(let w=0;w<i;w++){let E=w-a,I=n[w]*E*E;I>f&&(u=w,f=I)}if(a>u){let w=a;a=u,u=w}if(u-a<=i/16)throw new P;let h=u-1,g=-1;for(let w=u-1;w>a;w--){let E=w-a,I=E*E*(u-w)*(o-n[w]);I>g&&(h=w,g=I)}return h<<ot.LUMINANCE_SHIFT}}ot.LUMINANCE_BITS=5,ot.LUMINANCE_SHIFT=8-ot.LUMINANCE_BITS,ot.LUMINANCE_BUCKETS=1<<ot.LUMINANCE_BITS,ot.EMPTY=Uint8ClampedArray.from([0]);class pe extends ot{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight();if(i>=pe.MINIMUM_DIMENSION&&o>=pe.MINIMUM_DIMENSION){let a=n.getMatrix(),c=i>>pe.BLOCK_SIZE_POWER;i&pe.BLOCK_SIZE_MASK&&c++;let u=o>>pe.BLOCK_SIZE_POWER;o&pe.BLOCK_SIZE_MASK&&u++;let f=pe.calculateBlackPoints(a,c,u,i,o),h=new it(i,o);pe.calculateThresholdForBlock(a,c,u,i,o,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new pe(n)}static calculateThresholdForBlock(n,i,o,a,c,u,f){let h=c-pe.BLOCK_SIZE,g=a-pe.BLOCK_SIZE;for(let w=0;w<o;w++){let E=w<<pe.BLOCK_SIZE_POWER;E>h&&(E=h);let I=pe.cap(w,2,o-3);for(let A=0;A<i;A++){let b=A<<pe.BLOCK_SIZE_POWER;b>g&&(b=g);let T=pe.cap(A,2,i-3),M=0;for(let k=-2;k<=2;k++){let G=u[I+k];M+=G[T-2]+G[T-1]+G[T]+G[T+1]+G[T+2]}let N=M/25;pe.thresholdBlock(n,b,E,N,a,f)}}}static cap(n,i,o){return n<i?i:n>o?o:n}static thresholdBlock(n,i,o,a,c,u){for(let f=0,h=o*c+i;f<pe.BLOCK_SIZE;f++,h+=c)for(let g=0;g<pe.BLOCK_SIZE;g++)(n[h+g]&255)<=a&&u.set(i+g,o+f)}static calculateBlackPoints(n,i,o,a,c){let u=c-pe.BLOCK_SIZE,f=a-pe.BLOCK_SIZE,h=new Array(o);for(let g=0;g<o;g++){h[g]=new Int32Array(i);let w=g<<pe.BLOCK_SIZE_POWER;w>u&&(w=u);for(let E=0;E<i;E++){let I=E<<pe.BLOCK_SIZE_POWER;I>f&&(I=f);let A=0,b=255,T=0;for(let N=0,k=w*a+I;N<pe.BLOCK_SIZE;N++,k+=a){for(let G=0;G<pe.BLOCK_SIZE;G++){let O=n[k+G]&255;A+=O,O<b&&(b=O),O>T&&(T=O)}if(T-b>pe.MIN_DYNAMIC_RANGE)for(N++,k+=a;N<pe.BLOCK_SIZE;N++,k+=a)for(let G=0;G<pe.BLOCK_SIZE;G++)A+=n[k+G]&255}let M=A>>pe.BLOCK_SIZE_POWER*2;if(T-b<=pe.MIN_DYNAMIC_RANGE&&(M=b/2,g>0&&E>0)){let N=(h[g-1][E]+2*h[g][E-1]+h[g-1][E-1])/4;b<N&&(M=N)}h[g][E]=M}}return h}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class mi{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,o,a){throw new bn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new bn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new bn("This luminance source does not support rotation by 45 degrees.")}toString(){let n=new Uint8ClampedArray(this.width),i=new ke;for(let o=0;o<this.height;o++){let a=this.getRow(o,n);for(let c=0;c<this.width;c++){let u=a[c]&255,f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class Fn extends mi{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){let o=this.delegate.getRow(n,i),a=this.getWidth();for(let c=0;c<a;c++)o[c]=255-(o[c]&255);return o}getMatrix(){let n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let a=0;a<i;a++)o[a]=255-(n[a]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,o,a){return new Fn(this.delegate.crop(n,i,o,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Fn(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Fn(this.delegate.rotateCounterClockwise45())}}class kn extends mi{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=kn.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){let i=n.getContext("2d").getImageData(0,0,n.width,n.height);return kn.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,o){let a=new Uint8ClampedArray(i*o);for(let c=0,u=0,f=n.length;c<f;c+=4,u++){let h;if(n[c+3]===0)h=255;else{let w=n[c],E=n[c+1],I=n[c+2];h=306*w+601*E+117*I+512>>10}a[u]=h}return a}getRow(n,i){if(n<0||n>=this.getHeight())throw new y("Requested row is outside the image: "+n);let o=this.getWidth(),a=n*o;return i===null?i=this.buffer.slice(a,a+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(a,a+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,o,a){return super.crop(n,i,o,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){let i=this.getTempCanvasElement(),o=i.getContext("2d"),a=n*kn.DEGREE_TO_RADIANS,c=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*c+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*c+Math.abs(Math.cos(a))*u);return i.width=f,i.height=h,o.translate(f/2,h/2),o.rotate(a),o.drawImage(this.canvas,c/-2,u/-2),this.buffer=kn.makeBufferFromCanvasImageData(i),this}invert(){return new Fn(this)}}kn.DEGREE_TO_RADIANS=Math.PI/180;class Qu{constructor(n,i,o){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var It=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(m,n,i,o){function a(c){return c instanceof i?c:new i(function(u){u(c)})}return new(i||(i=Promise))(function(c,u){function f(w){try{g(o.next(w))}catch(E){u(E)}}function h(w){try{g(o.throw(w))}catch(E){u(E)}}function g(w){w.done?c(w.value):a(w.value).then(f,h)}g((o=o.apply(m,n||[])).next())})};class nr{constructor(n,i=500,o){this.reader=n,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return It(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");let n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(let o of n){let a=o.kind==="video"?"videoinput":o.kind;if(a!=="videoinput")continue;let c=o.deviceId||o.id,u=o.label||`Video device ${i.length+1}`,f=o.groupId,h={deviceId:c,label:u,kind:a,groupId:f};i.push(h)}return i})}getVideoInputDevices(){return It(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Qu(i.deviceId,i.label))})}findDeviceById(n){return It(this,void 0,void 0,function*(){let i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return It(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return It(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};let a={video:o};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(n,i){return It(this,void 0,void 0,function*(){let o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(n,i){return It(this,void 0,void 0,function*(){this.reset();let o=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,i,o){return It(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,o)})}decodeFromVideoDevice(n,i,o){return It(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};let c={video:a};return yield this.decodeFromConstraints(c,i,o)})}decodeFromConstraints(n,i,o){return It(this,void 0,void 0,function*(){let a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,i,o)})}decodeFromStream(n,i,o){return It(this,void 0,void 0,function*(){this.reset();let a=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(a,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return It(this,void 0,void 0,function*(){let o=this.prepareVideoElement(i);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((i,o)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return It(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){let o=document.getElementById(n);if(!o)throw new C(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new C(`element with id '${n}' must be an ${i} element`);return o}decodeFromImage(n,i){if(!n&&!i)throw new C("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new C("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,o){if(n===void 0&&i===void 0)throw new C("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new C("An image element must be provided.");this.reset();let i=this.prepareImageElement(n);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(n){let i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){let o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(n){if(!n)throw new C("A video element must be provided.");this.reset();let i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new C("An URL must be provided.");this.reset();let i=this.prepareImageElement();this.imageElement=i;let o=this._decodeOnLoadImage(i);return i.src=n,o}decodeFromVideoUrl(n){if(!n)throw new C("An URL must be provided.");this.reset();let i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=n,o}decodeFromVideoUrlContinuously(n,i){if(!n)throw new C("An URL must be provided.");this.reset();let o=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(o,i);return o.src=n,a}_decodeOnLoadImage(n){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return It(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return It(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,o=!0){this._stopAsyncDecode=!1;let a=(c,u)=>{if(this._stopAsyncDecode){u(new P("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{let f=this.decode(n);c(f)}catch(f){let h=i&&f instanceof P,w=(f instanceof S||f instanceof B)&&o;if(h||w)return setTimeout(a,this._timeBetweenDecodingAttempts,c,u);u(f)}};return new Promise((c,u)=>a(c,u))}decodeContinuously(n,i){this._stopContinuousDecode=!1;let o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{let a=this.decode(n);i(a,null),setTimeout(o,this.timeBetweenScansMillis)}catch(a){i(null,a);let c=a instanceof S||a instanceof B,u=a instanceof P;(c||u)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){let i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,o){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){let i=this.getCaptureCanvasContext(n);this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);let o=this.getCaptureCanvas(n),a=new kn(o),c=new pe(a);return new v(c)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){let o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){let i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;let i=document.createElement("canvas"),o,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),i.style.width=o+"px",i.style.height=a+"px",i.width=o,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class vt{constructor(n,i,o=i==null?0:8*i.length,a,c,u=L.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=o,this.resultPoints=a,this.format=c,this.timestamp=u,this.text=n,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=a,this.format=c,this.resultMetadata=null,u==null?this.timestamp=L.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){let i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){let o=new Array(i.length+n.length);L.arraycopy(i,0,o,0,i.length),L.arraycopy(n,0,o,i.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ku=function(m){return m[m.AZTEC=0]="AZTEC",m[m.CODABAR=1]="CODABAR",m[m.CODE_39=2]="CODE_39",m[m.CODE_93=3]="CODE_93",m[m.CODE_128=4]="CODE_128",m[m.DATA_MATRIX=5]="DATA_MATRIX",m[m.EAN_8=6]="EAN_8",m[m.EAN_13=7]="EAN_13",m[m.ITF=8]="ITF",m[m.MAXICODE=9]="MAXICODE",m[m.PDF_417=10]="PDF_417",m[m.QR_CODE=11]="QR_CODE",m[m.RSS_14=12]="RSS_14",m[m.RSS_EXPANDED=13]="RSS_EXPANDED",m[m.UPC_A=14]="UPC_A",m[m.UPC_E=15]="UPC_E",m[m.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",m}(Ku||{}),ee=Ku,Ju=function(m){return m[m.OTHER=0]="OTHER",m[m.ORIENTATION=1]="ORIENTATION",m[m.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",m[m.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",m[m.ISSUE_NUMBER=4]="ISSUE_NUMBER",m[m.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",m[m.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",m[m.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",m[m.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",m[m.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",m[m.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",m}(Ju||{}),st=Ju;class yi{constructor(n,i,o,a,c=-1,u=-1){this.rawBytes=n,this.text=i,this.byteSegments=o,this.ecLevel=a,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=u,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class xi{exp(n){return this.expTable[n]}log(n){if(n===0)throw new y;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class bt{constructor(n,i){if(i.length===0)throw new y;this.field=n;let o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-a),L.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);let i=this.coefficients,o;if(n===1){o=0;for(let u=0,f=i.length;u!==f;u++){let h=i[u];o=xi.addOrSubtract(o,h)}return o}o=i[0];let a=i.length,c=this.field;for(let u=1;u<a;u++)o=xi.addOrSubtract(c.multiply(n,o),i[u]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){let u=i;i=o,o=u}let a=new Int32Array(o.length),c=o.length-i.length;L.arraycopy(o,0,a,0,c);for(let u=c;u<o.length;u++)a[u]=xi.addOrSubtract(i[u-c],o[u]);return new bt(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();let i=this.coefficients,o=i.length,a=n.coefficients,c=a.length,u=new Int32Array(o+c-1),f=this.field;for(let h=0;h<o;h++){let g=i[h];for(let w=0;w<c;w++)u[h+w]=xi.addOrSubtract(u[h+w],f.multiply(g,a[w]))}return new bt(f,u)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;let i=this.coefficients.length,o=this.field,a=new Int32Array(i),c=this.coefficients;for(let u=0;u<i;u++)a[u]=o.multiply(c[u],n);return new bt(o,a)}multiplyByMonomial(n,i){if(n<0)throw new y;if(i===0)return this.field.getZero();let o=this.coefficients,a=o.length,c=new Int32Array(a+n),u=this.field;for(let f=0;f<a;f++)c[f]=u.multiply(o[f],i);return new bt(u,c)}divide(n){if(!this.field.equals(n.field))throw new y("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new y("Divide by 0");let i=this.field,o=i.getZero(),a=this,c=n.getCoefficient(n.getDegree()),u=i.inverse(c);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){let f=a.getDegree()-n.getDegree(),h=i.multiply(a.getCoefficient(a.getDegree()),u),g=n.multiplyByMonomial(f,h),w=i.buildMonomial(f,h);o=o.addOrSubtract(w),a=a.addOrSubtract(g)}return[o,a]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),i===0||o!==1){let a=this.field.log(o);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}let Ia=(()=>{class m extends x{}return m.kind="ArithmeticException",m})();class Ne extends xi{constructor(n,i,o){super(),this.primitive=n,this.size=i,this.generatorBase=o;let a=new Int32Array(i),c=1;for(let f=0;f<i;f++)a[f]=c,c*=2,c>=i&&(c^=n,c&=i-1);this.expTable=a;let u=new Int32Array(i);for(let f=0;f<i-1;f++)u[a[f]]=f;this.logTable=u,this.zero=new bt(this,Int32Array.from([0])),this.one=new bt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new y;if(i===0)return this.zero;let o=new Int32Array(n+1);return o[0]=i,new bt(this,o)}inverse(n){if(n===0)throw new Ia;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Ne.AZTEC_DATA_12=new Ne(4201,4096,1),Ne.AZTEC_DATA_10=new Ne(1033,1024,1),Ne.AZTEC_DATA_6=new Ne(67,64,1),Ne.AZTEC_PARAM=new Ne(19,16,1),Ne.QR_CODE_FIELD_256=new Ne(285,256,0),Ne.DATA_MATRIX_FIELD_256=new Ne(301,256,1),Ne.AZTEC_DATA_8=Ne.DATA_MATRIX_FIELD_256,Ne.MAXICODE_FIELD_64=Ne.AZTEC_DATA_6;let wi=(()=>{class m extends x{}return m.kind="ReedSolomonException",m})(),Tn=(()=>{class m extends x{}return m.kind="IllegalStateException",m})();class Ci{constructor(n){this.field=n}decode(n,i){let o=this.field,a=new bt(o,n),c=new Int32Array(i),u=!0;for(let A=0;A<i;A++){let b=a.evaluateAt(o.exp(A+o.getGeneratorBase()));c[c.length-1-A]=b,b!==0&&(u=!1)}if(u)return;let f=new bt(o,c),h=this.runEuclideanAlgorithm(o.buildMonomial(i,1),f,i),g=h[0],w=h[1],E=this.findErrorLocations(g),I=this.findErrorMagnitudes(w,E);for(let A=0;A<E.length;A++){let b=n.length-1-o.log(E[A]);if(b<0)throw new wi("Bad error location");n[b]=Ne.addOrSubtract(n[b],I[A])}}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){let A=n;n=i,i=A}let a=this.field,c=n,u=i,f=a.getZero(),h=a.getOne();for(;u.getDegree()>=(o/2|0);){let A=c,b=f;if(c=u,f=h,c.isZero())throw new wi("r_{i-1} was zero");u=A;let T=a.getZero(),M=c.getCoefficient(c.getDegree()),N=a.inverse(M);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let k=u.getDegree()-c.getDegree(),G=a.multiply(u.getCoefficient(u.getDegree()),N);T=T.addOrSubtract(a.buildMonomial(k,G)),u=u.addOrSubtract(c.multiplyByMonomial(k,G))}if(h=T.multiply(f).addOrSubtract(b),u.getDegree()>=c.getDegree())throw new Tn("Division algorithm failed to reduce polynomial?")}let g=h.getCoefficient(0);if(g===0)throw new wi("sigmaTilde(0) was zero");let w=a.inverse(g),E=h.multiplyScalar(w),I=u.multiplyScalar(w);return[E,I]}findErrorLocations(n){let i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);let o=new Int32Array(i),a=0,c=this.field;for(let u=1;u<c.getSize()&&a<i;u++)n.evaluateAt(u)===0&&(o[a]=c.inverse(u),a++);if(a!==i)throw new wi("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,i){let o=i.length,a=new Int32Array(o),c=this.field;for(let u=0;u<o;u++){let f=c.inverse(i[u]),h=1;for(let g=0;g<o;g++)if(u!==g){let w=c.multiply(i[g],f),E=w&1?w&-2:w|1;h=c.multiply(h,E)}a[u]=c.multiply(n.evaluateAt(f),c.inverse(h)),c.getGeneratorBase()!==0&&(a[u]=c.multiply(a[u],f))}return a}}var wt=function(m){return m[m.UPPER=0]="UPPER",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.DIGIT=3]="DIGIT",m[m.PUNCT=4]="PUNCT",m[m.BINARY=5]="BINARY",m}(wt||{});let va=(()=>{class m{decode(i){this.ddata=i;let o=i.getBits(),a=this.extractBits(o),c=this.correctBits(a),u=m.convertBoolArrayToByteArray(c),f=m.getEncodedData(c),h=new yi(u,f,null,null);return h.setNumBits(c.length),h}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,a=wt.UPPER,c=wt.UPPER,u="",f=0;for(;f<o;)if(c===wt.BINARY){if(o-f<5)break;let h=m.readCode(i,f,5);if(f+=5,h===0){if(o-f<11)break;h=m.readCode(i,f,11)+31,f+=11}for(let g=0;g<h;g++){if(o-f<8){f=o;break}let w=m.readCode(i,f,8);u+=re.castAsNonUtf8Char(w),f+=8}c=a}else{let h=c===wt.DIGIT?4:5;if(o-f<h)break;let g=m.readCode(i,f,h);f+=h;let w=m.getCharacter(c,g);w.startsWith("CTRL_")?(a=c,c=m.getTable(w.charAt(5)),w.charAt(6)==="L"&&(a=c)):(u+=w,c=a)}return u}static getTable(i){switch(i){case"L":return wt.LOWER;case"P":return wt.PUNCT;case"M":return wt.MIXED;case"D":return wt.DIGIT;case"B":return wt.BINARY;case"U":default:return wt.UPPER}}static getCharacter(i,o){switch(i){case wt.UPPER:return m.UPPER_TABLE[o];case wt.LOWER:return m.LOWER_TABLE[o];case wt.MIXED:return m.MIXED_TABLE[o];case wt.PUNCT:return m.PUNCT_TABLE[o];case wt.DIGIT:return m.DIGIT_TABLE[o];default:throw new Tn("Bad table")}}correctBits(i){let o,a;this.ddata.getNbLayers()<=2?(a=6,o=Ne.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,o=Ne.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,o=Ne.AZTEC_DATA_10):(a=12,o=Ne.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=i.length/a;if(u<c)throw new B;let f=i.length%a,h=new Int32Array(u);for(let A=0;A<u;A++,f+=a)h[A]=m.readCode(i,f,a);try{new Ci(o).decode(h,u-c)}catch(A){throw new B(A)}let g=(1<<a)-1,w=0;for(let A=0;A<c;A++){let b=h[A];if(b===0||b===g)throw new B;(b===1||b===g-1)&&w++}let E=new Array(c*a-w),I=0;for(let A=0;A<c;A++){let b=h[A];if(b===1||b===g-1)E.fill(b>1,I,I+a-1),I+=a-1;else for(let T=a-1;T>=0;--T)E[I++]=(b&1<<T)!==0}return E}extractBits(i){let o=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(o?11:14)+a*4,u=new Int32Array(c),f=new Array(this.totalBitsInLayer(a,o));if(o)for(let h=0;h<u.length;h++)u[h]=h;else{let h=c+1+2*H.truncDivision(H.truncDivision(c,2)-1,15),g=c/2,w=H.truncDivision(h,2);for(let E=0;E<g;E++){let I=E+H.truncDivision(E,15);u[g-E-1]=w-I-1,u[g+E]=w+I+1}}for(let h=0,g=0;h<a;h++){let w=(a-h)*4+(o?9:12),E=h*2,I=c-1-E;for(let A=0;A<w;A++){let b=A*2;for(let T=0;T<2;T++)f[g+b+T]=i.get(u[E+T],u[E+A]),f[g+2*w+b+T]=i.get(u[E+A],u[I-T]),f[g+4*w+b+T]=i.get(u[I-T],u[I-A]),f[g+6*w+b+T]=i.get(u[I-A],u[E+T])}g+=w*8}return f}static readCode(i,o,a){let c=0;for(let u=o;u<o+a;u++)c<<=1,i[u]&&(c|=1);return c}static readByte(i,o){let a=i.length-o;return a>=8?m.readCode(i,o,8):m.readCode(i,o,a)<<8-a}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let a=0;a<o.length;a++)o[a]=m.readByte(i,8*a);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}return m.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],m.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],m.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],m.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],m.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],m})();class be{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,o,a){let c=n-o,u=i-a;return Math.sqrt(c*c+u*u)}static sum(n){let i=0;for(let o=0,a=n.length;o!==a;o++){let c=n[o];i+=c}return i}}class So{static floatToIntBits(n){return n}}So.MAX_VALUE=Number.MAX_SAFE_INTEGER;class X{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof X){let i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*So.floatToIntBits(this.x)+So.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){let i=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]),c,u,f;if(o>=i&&o>=a?(u=n[0],c=n[1],f=n[2]):a>=o&&a>=i?(u=n[1],c=n[0],f=n[2]):(u=n[2],c=n[0],f=n[1]),this.crossProductZ(c,u,f)<0){let h=c;c=f,f=h}n[0]=c,n[1]=u,n[2]=f}static distance(n,i){return be.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,o){let a=i.x,c=i.y;return(o.x-a)*(n.y-c)-(o.y-c)*(n.x-a)}}class bo{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ed extends bo{constructor(n,i,o,a,c){super(n,i),this.compact=o,this.nbDatablocks=a,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let To=(()=>{class m{constructor(i,o,a,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=m.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);let u=o/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new P}detect(){let i=this.leftInit,o=this.rightInit,a=this.upInit,c=this.downInit,u=!1,f=!0,h=!1,g=!1,w=!1,E=!1,I=!1,A=this.width,b=this.height;for(;f;){f=!1;let T=!0;for(;(T||!g)&&o<A;)T=this.containsBlackPoint(a,c,o,!1),T?(o++,f=!0,g=!0):g||o++;if(o>=A){u=!0;break}let M=!0;for(;(M||!w)&&c<b;)M=this.containsBlackPoint(i,o,c,!0),M?(c++,f=!0,w=!0):w||c++;if(c>=b){u=!0;break}let N=!0;for(;(N||!E)&&i>=0;)N=this.containsBlackPoint(a,c,i,!1),N?(i--,f=!0,E=!0):E||i--;if(i<0){u=!0;break}let k=!0;for(;(k||!I)&&a>=0;)k=this.containsBlackPoint(i,o,a,!0),k?(a--,f=!0,I=!0):I||a--;if(a<0){u=!0;break}f&&(h=!0)}if(!u&&h){let T=o-i,M=null;for(let O=1;M===null&&O<T;O++)M=this.getBlackPointOnSegment(i,c-O,i+O,c);if(M==null)throw new P;let N=null;for(let O=1;N===null&&O<T;O++)N=this.getBlackPointOnSegment(i,a+O,i+O,a);if(N==null)throw new P;let k=null;for(let O=1;k===null&&O<T;O++)k=this.getBlackPointOnSegment(o,a+O,o-O,a);if(k==null)throw new P;let G=null;for(let O=1;G===null&&O<T;O++)G=this.getBlackPointOnSegment(o,c-O,o-O,c);if(G==null)throw new P;return this.centerEdges(G,M,k,N)}else throw new P}getBlackPointOnSegment(i,o,a,c){let u=be.round(be.distance(i,o,a,c)),f=(a-i)/u,h=(c-o)/u,g=this.image;for(let w=0;w<u;w++){let E=be.round(i+w*f),I=be.round(o+w*h);if(g.get(E,I))return new X(E,I)}return null}centerEdges(i,o,a,c){let u=i.getX(),f=i.getY(),h=o.getX(),g=o.getY(),w=a.getX(),E=a.getY(),I=c.getX(),A=c.getY(),b=m.CORR;return u<this.width/2?[new X(I-b,A+b),new X(h+b,g+b),new X(w-b,E-b),new X(u+b,f-b)]:[new X(I+b,A+b),new X(h+b,g-b),new X(w-b,E+b),new X(u-b,f-b)]}containsBlackPoint(i,o,a,c){let u=this.image;if(c){for(let f=i;f<=o;f++)if(u.get(f,a))return!0}else for(let f=i;f<=o;f++)if(u.get(a,f))return!0;return!1}}return m.INIT_SIZE=10,m.CORR=1,m})();class Da{static checkAndNudgePoints(n,i){let o=n.getWidth(),a=n.getHeight(),c=!0;for(let u=0;u<i.length&&c;u+=2){let f=Math.floor(i[u]),h=Math.floor(i[u+1]);if(f<-1||f>o||h<-1||h>a)throw new P;c=!1,f===-1?(i[u]=0,c=!0):f===o&&(i[u]=o-1,c=!0),h===-1?(i[u+1]=0,c=!0):h===a&&(i[u+1]=a-1,c=!0)}c=!0;for(let u=i.length-2;u>=0&&c;u-=2){let f=Math.floor(i[u]),h=Math.floor(i[u+1]);if(f<-1||f>o||h<-1||h>a)throw new P;c=!1,f===-1?(i[u]=0,c=!0):f===o&&(i[u]=o-1,c=!0),h===-1?(i[u+1]=0,c=!0):h===a&&(i[u+1]=a-1,c=!0)}}}class Jt{constructor(n,i,o,a,c,u,f,h,g){this.a11=n,this.a21=i,this.a31=o,this.a12=a,this.a22=c,this.a32=u,this.a13=f,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(n,i,o,a,c,u,f,h,g,w,E,I,A,b,T,M){let N=Jt.quadrilateralToSquare(n,i,o,a,c,u,f,h);return Jt.squareToQuadrilateral(g,w,E,I,A,b,T,M).times(N)}transformPoints(n){let i=n.length,o=this.a11,a=this.a12,c=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,w=this.a32,E=this.a33;for(let I=0;I<i;I+=2){let A=n[I],b=n[I+1],T=c*A+h*b+E;n[I]=(o*A+u*b+g)/T,n[I+1]=(a*A+f*b+w)/T}}transformPointsWithValues(n,i){let o=this.a11,a=this.a12,c=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,w=this.a32,E=this.a33,I=n.length;for(let A=0;A<I;A++){let b=n[A],T=i[A],M=c*b+h*T+E;n[A]=(o*b+u*T+g)/M,i[A]=(a*b+f*T+w)/M}}static squareToQuadrilateral(n,i,o,a,c,u,f,h){let g=n-o+c-f,w=i-a+u-h;if(g===0&&w===0)return new Jt(o-n,c-o,n,a-i,u-a,i,0,0,1);{let E=o-c,I=f-c,A=a-u,b=h-u,T=E*b-I*A,M=(g*b-I*w)/T,N=(E*w-g*A)/T;return new Jt(o-n+M*o,f-n+N*f,n,a-i+M*a,h-i+N*h,i,M,N,1)}}static quadrilateralToSquare(n,i,o,a,c,u,f,h){return Jt.squareToQuadrilateral(n,i,o,a,c,u,f,h).buildAdjoint()}buildAdjoint(){return new Jt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Jt(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class td extends Da{sampleGrid(n,i,o,a,c,u,f,h,g,w,E,I,A,b,T,M,N,k,G){let O=Jt.quadrilateralToQuadrilateral(a,c,u,f,h,g,w,E,I,A,b,T,M,N,k,G);return this.sampleGridWithTransform(n,i,o,O)}sampleGridWithTransform(n,i,o,a){if(i<=0||o<=0)throw new P;let c=new it(i,o),u=new Float32Array(2*i);for(let f=0;f<o;f++){let h=u.length,g=f+.5;for(let w=0;w<h;w+=2)u[w]=w/2+.5,u[w+1]=g;a.transformPoints(u),Da.checkAndNudgePoints(n,u);try{for(let w=0;w<h;w+=2)n.get(Math.floor(u[w]),Math.floor(u[w+1]))&&c.set(w/2,f)}catch{throw new P}}return c}}class Bn{static setGridSampler(n){Bn.gridSampler=n}static getInstance(){return Bn.gridSampler}}Bn.gridSampler=new td;class Dt{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new X(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class nd{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(n){let u=o[0];o[0]=o[2],o[2]=u}this.extractParameters(o);let a=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new ed(a,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new P;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(o,i);let a=0;for(let u=0;u<4;u++){let f=o[(this.shift+u)%4];this.compact?(a<<=7,a+=f>>1&127):(a<<=10,a+=(f>>2&992)+(f>>1&31))}let c=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(n,i){let o=0;n.forEach((a,c,u)=>{let f=(a>>i-2<<1)+(a&1);o=(o<<3)+f}),o=((o&1)<<11)+(o>>1);for(let a=0;a<4;a++)if(H.bitCount(o^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new P}getCorrectedParameterData(n,i){let o,a;i?(o=7,a=2):(o=10,a=4);let c=o-a,u=new Int32Array(o);for(let h=o-1;h>=0;--h)u[h]=n&15,n>>=4;try{new Ci(Ne.AZTEC_PARAM).decode(u,c)}catch{throw new P}let f=0;for(let h=0;h<a;h++)f=(f<<4)+u[h];return f}getBullsEyeCorners(n){let i=n,o=n,a=n,c=n,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(i,u,1,-1),I=this.getFirstDifferent(o,u,1,1),A=this.getFirstDifferent(a,u,-1,1),b=this.getFirstDifferent(c,u,-1,-1);if(this.nbCenterLayers>2){let T=this.distancePoint(b,E)*this.nbCenterLayers/(this.distancePoint(c,i)*(this.nbCenterLayers+2));if(T<.75||T>1.25||!this.isWhiteOrBlackRectangle(E,I,A,b))break}i=E,o=I,a=A,c=b,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new P;this.compact=this.nbCenterLayers===5;let f=new X(i.getX()+.5,i.getY()-.5),h=new X(o.getX()+.5,o.getY()+.5),g=new X(a.getX()-.5,a.getY()+.5),w=new X(c.getX()-.5,c.getY()-.5);return this.expandSquare([f,h,g,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,o,a;try{let f=new To(this.image).detect();n=f[0],i=f[1],o=f[2],a=f[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;n=this.getFirstDifferent(new Dt(h+7,g-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Dt(h+7,g+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Dt(h-7,g+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Dt(h-7,g-7),!1,-1,-1).toResultPoint()}let c=be.round((n.getX()+a.getX()+i.getX()+o.getX())/4),u=be.round((n.getY()+a.getY()+i.getY()+o.getY())/4);try{let f=new To(this.image,15,c,u).detect();n=f[0],i=f[1],o=f[2],a=f[3]}catch{n=this.getFirstDifferent(new Dt(c+7,u-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Dt(c+7,u+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Dt(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Dt(c-7,u-7),!1,-1,-1).toResultPoint()}return c=be.round((n.getX()+a.getX()+i.getX()+o.getX())/4),u=be.round((n.getY()+a.getY()+i.getY()+o.getY())/4),new Dt(c,u)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,o,a,c){let u=Bn.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return u.sampleGrid(n,f,f,h,h,g,h,g,g,h,g,i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY(),c.getX(),c.getY())}sampleLine(n,i,o){let a=0,c=this.distanceResultPoint(n,i),u=c/o,f=n.getX(),h=n.getY(),g=u*(i.getX()-n.getX())/c,w=u*(i.getY()-n.getY())/c;for(let E=0;E<o;E++)this.image.get(be.round(f+E*g),be.round(h+E*w))&&(a|=1<<o-E-1);return a}isWhiteOrBlackRectangle(n,i,o,a){let c=3;n=new Dt(n.getX()-c,n.getY()+c),i=new Dt(i.getX()-c,i.getY()-c),o=new Dt(o.getX()+c,o.getY()-c),a=new Dt(a.getX()+c,a.getY()+c);let u=this.getColor(a,n);if(u===0)return!1;let f=this.getColor(n,i);return f!==u||(f=this.getColor(i,o),f!==u)?!1:(f=this.getColor(o,a),f===u)}getColor(n,i){let o=this.distancePoint(n,i),a=(i.getX()-n.getX())/o,c=(i.getY()-n.getY())/o,u=0,f=n.getX(),h=n.getY(),g=this.image.get(n.getX(),n.getY()),w=Math.ceil(o);for(let I=0;I<w;I++)f+=a,h+=c,this.image.get(be.round(f),be.round(h))!==g&&u++;let E=u/o;return E>.1&&E<.9?0:E<=.1===g?1:-1}getFirstDifferent(n,i,o,a){let c=n.getX()+o,u=n.getY()+a;for(;this.isValid(c,u)&&this.image.get(c,u)===i;)c+=o,u+=a;for(c-=o,u-=a;this.isValid(c,u)&&this.image.get(c,u)===i;)c+=o;for(c-=o;this.isValid(c,u)&&this.image.get(c,u)===i;)u+=a;return u-=a,new Dt(c,u)}expandSquare(n,i,o){let a=o/(2*i),c=n[0].getX()-n[2].getX(),u=n[0].getY()-n[2].getY(),f=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,g=new X(f+a*c,h+a*u),w=new X(f-a*c,h-a*u);c=n[1].getX()-n[3].getX(),u=n[1].getY()-n[3].getY(),f=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let E=new X(f+a*c,h+a*u),I=new X(f-a*c,h-a*u);return[g,E,w,I]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=be.round(n.getX()),o=be.round(n.getY());return this.isValid(i,o)}distancePoint(n,i){return be.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return be.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class Mo{decode(n,i=null){let o=null,a=new nd(n.getBlackMatrix()),c=null,u=null;try{let w=a.detectMirror(!1);c=w.getPoints(),this.reportFoundResultPoints(i,c),u=new va().decode(w)}catch(w){o=w}if(u==null)try{let w=a.detectMirror(!0);c=w.getPoints(),this.reportFoundResultPoints(i,c),u=new va().decode(w)}catch(w){throw o??w}let f=new vt(u.getText(),u.getRawBytes(),u.getNumBits(),c,ee.AZTEC,L.currentTimeMillis()),h=u.getByteSegments();h!=null&&f.putMetadata(st.BYTE_SEGMENTS,h);let g=u.getECLevel();return g!=null&&f.putMetadata(st.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(n,i){if(n!=null){let o=n.get(oe.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((a,c,u)=>{o.foundPossibleResultPoint(a)})}}reset(){}}class y0 extends nr{constructor(n=500){super(new Mo,n)}}class Qe{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(oe.TRY_HARDER)===!0&&n.isRotateSupported()){let c=n.rotateCounterClockwise(),u=this.doDecode(c,i),f=u.getResultMetadata(),h=270;f!==null&&f.get(st.ORIENTATION)===!0&&(h=h+f.get(st.ORIENTATION)%360),u.putMetadata(st.ORIENTATION,h);let g=u.getResultPoints();if(g!==null){let w=c.getHeight();for(let E=0;E<g.length;E++)g[E]=new X(w-g[E].getY()-1,g[E].getX())}return u}else throw new P}}reset(){}doDecode(n,i){let o=n.getWidth(),a=n.getHeight(),c=new ue(o),u=i&&i.get(oe.TRY_HARDER)===!0,f=Math.max(1,a>>(u?8:5)),h;u?h=a:h=15;let g=Math.trunc(a/2);for(let w=0;w<h;w++){let E=Math.trunc((w+1)/2),I=(w&1)===0,A=g+f*(I?E:-E);if(A<0||A>=a)break;try{c=n.getBlackRow(A,c)}catch{continue}for(let b=0;b<2;b++){if(b===1&&(c.reverse(),i&&i.get(oe.NEED_RESULT_POINT_CALLBACK)===!0)){let T=new Map;i.forEach((M,N)=>T.set(N,M)),T.delete(oe.NEED_RESULT_POINT_CALLBACK),i=T}try{let T=this.decodeRow(A,c,i);if(b===1){T.putMetadata(st.ORIENTATION,180);let M=T.getResultPoints();M!==null&&(M[0]=new X(o-M[0].getX()-1,M[0].getY()),M[1]=new X(o-M[1].getX()-1,M[1].getY()))}return T}catch{}}}throw new P}static recordPattern(n,i,o){let a=o.length;for(let g=0;g<a;g++)o[g]=0;let c=n.getSize();if(i>=c)throw new P;let u=!n.get(i),f=0,h=i;for(;h<c;){if(n.get(h)!==u)o[f]++;else{if(++f===a)break;o[f]=1,u=!u}h++}if(!(f===a||f===a-1&&h===c))throw new P}static recordPatternInReverse(n,i,o){let a=o.length,c=n.get(i);for(;i>0&&a>=0;)n.get(--i)!==c&&(a--,c=!c);if(a>=0)throw new P;Qe.recordPattern(n,i+1,o)}static patternMatchVariance(n,i,o){let a=n.length,c=0,u=0;for(let g=0;g<a;g++)c+=n[g],u+=i[g];if(c<u)return Number.POSITIVE_INFINITY;let f=c/u;o*=f;let h=0;for(let g=0;g<a;g++){let w=n[g],E=i[g]*f,I=w>E?w-E:E-w;if(I>o)return Number.POSITIVE_INFINITY;h+=I}return h/c}}class z extends Qe{static findStartPattern(n){let i=n.getSize(),o=n.getNextSet(0),a=0,c=Int32Array.from([0,0,0,0,0,0]),u=o,f=!1,h=6;for(let g=o;g<i;g++)if(n.get(g)!==f)c[a]++;else{if(a===h-1){let w=z.MAX_AVG_VARIANCE,E=-1;for(let I=z.CODE_START_A;I<=z.CODE_START_C;I++){let A=Qe.patternMatchVariance(c,z.CODE_PATTERNS[I],z.MAX_INDIVIDUAL_VARIANCE);A<w&&(w=A,E=I)}if(E>=0&&n.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,E]);u+=c[0]+c[1],c=c.slice(2,c.length-1),c[a-1]=0,c[a]=0,a--}else a++;c[a]=1,f=!f}throw new P}static decodeCode(n,i,o){Qe.recordPattern(n,o,i);let a=z.MAX_AVG_VARIANCE,c=-1;for(let u=0;u<z.CODE_PATTERNS.length;u++){let f=z.CODE_PATTERNS[u],h=this.patternMatchVariance(i,f,z.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,c=u)}if(c>=0)return c;throw new P}decodeRow(n,i,o){let a=o&&o.get(oe.ASSUME_GS1)===!0,c=z.findStartPattern(i),u=c[2],f=0,h=new Uint8Array(20);h[f++]=u;let g;switch(u){case z.CODE_START_A:g=z.CODE_CODE_A;break;case z.CODE_START_B:g=z.CODE_CODE_B;break;case z.CODE_START_C:g=z.CODE_CODE_C;break;default:throw new B}let w=!1,E=!1,I="",A=c[0],b=c[1],T=Int32Array.from([0,0,0,0,0,0]),M=0,N=0,k=u,G=0,O=!0,ye=!1,de=!1;for(;!w;){let Rr=E;switch(E=!1,M=N,N=z.decodeCode(i,T,b),h[f++]=N,N!==z.CODE_STOP&&(O=!0),N!==z.CODE_STOP&&(G++,k+=G*N),A=b,b+=T.reduce((t1,n1)=>t1+n1,0),N){case z.CODE_START_A:case z.CODE_START_B:case z.CODE_START_C:throw new B}switch(g){case z.CODE_CODE_A:if(N<64)de===ye?I+=String.fromCharCode(32+N):I+=String.fromCharCode(32+N+128),de=!1;else if(N<96)de===ye?I+=String.fromCharCode(N-64):I+=String.fromCharCode(N+64),de=!1;else switch(N!==z.CODE_STOP&&(O=!1),N){case z.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+="");break;case z.CODE_FNC_2:case z.CODE_FNC_3:break;case z.CODE_FNC_4_A:!ye&&de?(ye=!0,de=!1):ye&&de?(ye=!1,de=!1):de=!0;break;case z.CODE_SHIFT:E=!0,g=z.CODE_CODE_B;break;case z.CODE_CODE_B:g=z.CODE_CODE_B;break;case z.CODE_CODE_C:g=z.CODE_CODE_C;break;case z.CODE_STOP:w=!0;break}break;case z.CODE_CODE_B:if(N<96)de===ye?I+=String.fromCharCode(32+N):I+=String.fromCharCode(32+N+128),de=!1;else switch(N!==z.CODE_STOP&&(O=!1),N){case z.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+="");break;case z.CODE_FNC_2:case z.CODE_FNC_3:break;case z.CODE_FNC_4_B:!ye&&de?(ye=!0,de=!1):ye&&de?(ye=!1,de=!1):de=!0;break;case z.CODE_SHIFT:E=!0,g=z.CODE_CODE_A;break;case z.CODE_CODE_A:g=z.CODE_CODE_A;break;case z.CODE_CODE_C:g=z.CODE_CODE_C;break;case z.CODE_STOP:w=!0;break}break;case z.CODE_CODE_C:if(N<100)N<10&&(I+="0"),I+=N;else switch(N!==z.CODE_STOP&&(O=!1),N){case z.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+="");break;case z.CODE_CODE_A:g=z.CODE_CODE_A;break;case z.CODE_CODE_B:g=z.CODE_CODE_B;break;case z.CODE_STOP:w=!0;break}break}Rr&&(g=g===z.CODE_CODE_A?z.CODE_CODE_B:z.CODE_CODE_A)}let Mt=b-A;if(b=i.getNextUnset(b),!i.isRange(b,Math.min(i.getSize(),b+(b-A)/2),!1))throw new P;if(k-=G*M,k%103!==M)throw new S;let on=I.length;if(on===0)throw new P;on>0&&O&&(g===z.CODE_CODE_C?I=I.substring(0,on-2):I=I.substring(0,on-1));let _t=(c[1]+c[0])/2,Ve=A+Mt/2,ht=h.length,Ft=new Uint8Array(ht);for(let Rr=0;Rr<ht;Rr++)Ft[Rr]=h[Rr];let Nr=[new X(_t,n),new X(Ve,n)];return new vt(I,Ft,0,Nr,ee.CODE_128,new Date().getTime())}}z.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],z.MAX_AVG_VARIANCE=.25,z.MAX_INDIVIDUAL_VARIANCE=.7,z.CODE_SHIFT=98,z.CODE_CODE_C=99,z.CODE_CODE_B=100,z.CODE_CODE_A=101,z.CODE_FNC_1=102,z.CODE_FNC_2=97,z.CODE_FNC_3=96,z.CODE_FNC_4_A=101,z.CODE_FNC_4_B=100,z.CODE_START_A=103,z.CODE_START_B=104,z.CODE_START_C=105,z.CODE_STOP=106;let Aa=(()=>{class m extends Qe{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=m.findAsteriskPattern(o,c),f=o.getNextSet(u[1]),h=o.getSize(),g,w;do{m.recordPattern(o,f,c);let M=m.toNarrowWidePattern(c);if(M<0)throw new P;g=m.patternToChar(M),this.decodeRowResult+=g,w=f;for(let N of c)f+=N;f=o.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let M of c)E+=M;let I=f-w-E;if(f!==h&&I*2<E)throw new P;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,N=0;for(let k=0;k<M;k++)N+=m.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(k));if(this.decodeRowResult.charAt(M)!==m.ALPHABET_STRING.charAt(N%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new P;let A;this.extendedMode?A=m.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let b=(u[1]+u[0])/2,T=w+E/2;return new vt(A,null,0,[new X(b,i),new X(T,i)],ee.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let a=i.getSize(),c=i.getNextSet(0),u=0,f=c,h=!1,g=o.length;for(let w=c;w<a;w++)if(i.get(w)!==h)o[u]++;else{if(u===g-1){if(this.toNarrowWidePattern(o)===m.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((w-f)/2)),f,!1))return[f,w];f+=o[0]+o[1],o.copyWithin(0,2,2+u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,h=!h}throw new P}static toNarrowWidePattern(i){let o=i.length,a=0,c;do{let u=2147483647;for(let g of i)g<u&&g>a&&(u=g);a=u,c=0;let f=0,h=0;for(let g=0;g<o;g++){let w=i[g];w>a&&(h|=1<<o-1-g,c++,f+=w)}if(c===3){for(let g=0;g<o&&c>0;g++){let w=i[g];if(w>a&&(c--,w*2>=f))return-1}return h}}while(c>3);return-1}static patternToChar(i){for(let o=0;o<m.CHARACTER_ENCODINGS.length;o++)if(m.CHARACTER_ENCODINGS[o]===i)return m.ALPHABET_STRING.charAt(o);if(i===m.ASTERISK_ENCODING)return"*";throw new P}static decodeExtended(i){let o=i.length,a="";for(let c=0;c<o;c++){let u=i.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=i.charAt(c+1),h="\0";switch(u){case"+":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)+32);else throw new B;break;case"$":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)-64);else throw new B;break;case"%":if(f>="A"&&f<="E")h=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")h=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")h=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")h="\0";else if(f==="V")h="@";else if(f==="W")h="`";else if(f==="X"||f==="Y"||f==="Z")h="\x7F";else throw new B;break;case"/":if(f>="A"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")h=":";else throw new B;break}a+=h,c++}else a+=u}return a}}return m.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",m.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],m.ASTERISK_ENCODING=148,m})();class Ue extends Qe{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,o){let a=this.decodeStart(i),c=this.decodeEnd(i),u=new ke;Ue.decodeMiddle(i,a[1],c[0],u);let f=u.toString(),h=null;o!=null&&(h=o.get(oe.ALLOWED_LENGTHS)),h==null&&(h=Ue.DEFAULT_ALLOWED_LENGTHS);let g=f.length,w=!1,E=0;for(let b of h){if(g===b){w=!0;break}b>E&&(E=b)}if(!w&&g>E&&(w=!0),!w)throw new B;let I=[new X(a[1],n),new X(c[0],n)];return new vt(f,null,0,I,ee.ITF,new Date().getTime())}static decodeMiddle(n,i,o,a){let c=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(c.fill(0),u.fill(0),f.fill(0);i<o;){Qe.recordPattern(n,i,c);for(let g=0;g<5;g++){let w=2*g;u[g]=c[w],f[g]=c[w+1]}let h=Ue.decodeDigit(u);a.append(h.toString()),h=this.decodeDigit(f),a.append(h.toString()),c.forEach(function(g){i+=g})}}decodeStart(n){let i=Ue.skipWhiteSpace(n),o=Ue.findGuardPattern(n,i,Ue.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let a=i-1;o>0&&a>=0&&!n.get(a);a--)o--;if(o!==0)throw new P}static skipWhiteSpace(n){let i=n.getSize(),o=n.getNextSet(0);if(o===i)throw new P;return o}decodeEnd(n){n.reverse();try{let i=Ue.skipWhiteSpace(n),o;try{o=Ue.findGuardPattern(n,i,Ue.END_PATTERN_REVERSED[0])}catch(c){c instanceof P&&(o=Ue.findGuardPattern(n,i,Ue.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let a=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-a,o}finally{n.reverse()}}static findGuardPattern(n,i,o){let a=o.length,c=new Int32Array(a),u=n.getSize(),f=!1,h=0,g=i;c.fill(0);for(let w=i;w<u;w++)if(n.get(w)!==f)c[h]++;else{if(h===a-1){if(Qe.patternMatchVariance(c,o,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE)return[g,w];g+=c[0]+c[1],L.arraycopy(c,2,c,0,h-1),c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,f=!f}throw new P}static decodeDigit(n){let i=Ue.MAX_AVG_VARIANCE,o=-1,a=Ue.PATTERNS.length;for(let c=0;c<a;c++){let u=Ue.PATTERNS[c],f=Qe.patternMatchVariance(n,u,Ue.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,o=c):f===i&&(o=-1)}if(o>=0)return o%10;throw new P}}Ue.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ue.MAX_AVG_VARIANCE=.38,Ue.MAX_INDIVIDUAL_VARIANCE=.5,Ue.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ue.START_PATTERN=Int32Array.from([1,1,1,1]),Ue.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class qe extends Qe{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,o,a=0,c=Int32Array.from([0,0,0]);for(;!i;){c=Int32Array.from([0,0,0]),o=qe.findGuardPattern(n,a,!1,this.START_END_PATTERN,c);let u=o[0];a=o[1];let f=u-(a-u);f>=0&&(i=n.isRange(f,u,!1))}return o}static checkChecksum(n){return qe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return qe.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let a=i-1;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-48;if(c<0||c>9)throw new B;o+=c}o*=3;for(let a=i-2;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-48;if(c<0||c>9)throw new B;o+=c}return(1e3-o)%10}static decodeEnd(n,i){return qe.findGuardPattern(n,i,!1,qe.START_END_PATTERN,new Int32Array(qe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,o,a){return this.findGuardPattern(n,i,o,a,new Int32Array(a.length))}static findGuardPattern(n,i,o,a,c){let u=n.getSize();i=o?n.getNextUnset(i):n.getNextSet(i);let f=0,h=i,g=a.length,w=o;for(let E=i;E<u;E++)if(n.get(E)!==w)c[f]++;else{if(f===g-1){if(Qe.patternMatchVariance(c,a,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return Int32Array.from([h,E]);h+=c[0]+c[1];let I=c.slice(2,c.length-1);for(let A=0;A<f-1;A++)c[A]=I[A];c[f-1]=0,c[f]=0,f--}else f++;c[f]=1,w=!w}throw new P}static decodeDigit(n,i,o,a){this.recordPattern(n,o,i);let c=this.MAX_AVG_VARIANCE,u=-1,f=a.length;for(let h=0;h<f;h++){let g=a[h],w=Qe.patternMatchVariance(i,g,qe.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,u=h)}if(u>=0)return u;throw new P}}qe.MAX_AVG_VARIANCE=.48,qe.MAX_INDIVIDUAL_VARIANCE=.7,qe.START_END_PATTERN=Int32Array.from([1,1,1]),qe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),qe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ei{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let a=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,a),u=a.toString(),f=Ei.parseExtensionString(u),h=[new X((o[0]+o[1])/2,n),new X(c,n)],g=new vt(u,null,0,h,ee.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u=i[1],f=0;for(let g=0;g<5&&u<c;g++){let w=qe.decodeDigit(n,a,u,qe.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let E of a)u+=E;w>=10&&(f|=1<<4-g),g!==4&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==5)throw new P;let h=this.determineCheckDigit(f);if(Ei.extensionChecksum(o.toString())!==h)throw new P;return u}static extensionChecksum(n){let i=n.length,o=0;for(let a=i-2;a>=0;a-=2)o+=n.charAt(a).charCodeAt(0)-48;o*=3;for(let a=i-1;a>=0;a-=2)o+=n.charAt(a).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new P}static parseExtensionString(n){if(n.length!==5)return null;let i=Ei.parseExtension5String(n);return i==null?null:new Map([[st.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="\xA3";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(n.substring(1)),a=(o/100).toString(),c=o%100,u=c<10?"0"+c:c.toString();return i+a+"."+u}}class Sa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let a=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,a),u=a.toString(),f=Sa.parseExtensionString(u),h=[new X((o[0]+o[1])/2,n),new X(c,n)],g=new vt(u,null,0,h,ee.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u=i[1],f=0;for(let h=0;h<2&&u<c;h++){let g=qe.decodeDigit(n,a,u,qe.L_AND_G_PATTERNS);o+=String.fromCharCode(48+g%10);for(let w of a)u+=w;g>=10&&(f|=1<<1-h),h!==1&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==2)throw new P;if(parseInt(o.toString())%4!==f)throw new P;return u}static parseExtensionString(n){return n.length!==2?null:new Map([[st.ISSUE_NUMBER,parseInt(n)]])}}class rd{static decodeRow(n,i,o){let a=qe.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ei().decodeRow(n,i,a)}catch{return new Sa().decodeRow(n,i,a)}}}rd.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends qe{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=Re.L_PATTERNS[n-10],o=new Int32Array(i.length);for(let a=0;a<i.length;a++)o[a]=i[i.length-a-1];Re.L_AND_G_PATTERNS[n]=o}}decodeRow(n,i,o){let a=Re.findStartGuardPattern(i),c=o==null?null:o.get(oe.NEED_RESULT_POINT_CALLBACK);if(c!=null){let O=new X((a[0]+a[1])/2,n);c.foundPossibleResultPoint(O)}let u=this.decodeMiddle(i,a,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(c!=null){let O=new X(f,n);c.foundPossibleResultPoint(O)}let g=this.decodeEnd(i,f);if(c!=null){let O=new X((g[0]+g[1])/2,n);c.foundPossibleResultPoint(O)}let w=g[1],E=w+(w-g[0]);if(E>=i.getSize()||!i.isRange(w,E,!1))throw new P;let I=h.toString();if(I.length<8)throw new B;if(!Re.checkChecksum(I))throw new S;let A=(a[1]+a[0])/2,b=(g[1]+g[0])/2,T=this.getBarcodeFormat(),M=[new X(A,n),new X(b,n)],N=new vt(I,null,0,M,T,new Date().getTime()),k=0;try{let O=rd.decodeRow(n,i,g[1]);N.putMetadata(st.UPC_EAN_EXTENSION,O.getText()),N.putAllMetadata(O.getResultMetadata()),N.addResultPoints(O.getResultPoints()),k=O.getText().length}catch{}let G=o==null?null:o.get(oe.ALLOWED_EAN_EXTENSIONS);if(G!=null){let O=!1;for(let ye in G)if(k.toString()===ye){O=!0;break}if(!O)throw new P}return N}decodeEnd(n,i){return Re.findGuardPattern(n,i,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Re.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return Re.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let a=i-1;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-48;if(c<0||c>9)throw new B;o+=c}o*=3;for(let a=i-2;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-48;if(c<0||c>9)throw new B;o+=c}return(1e3-o)%10}}let _o=(()=>{class m extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),f=o[1],h=0;for(let w=0;w<6&&f<u;w++){let E=Re.decodeDigit(i,c,f,Re.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let I of c)f+=I;E>=10&&(h|=1<<5-w)}a=m.determineFirstDigit(a,h),f=Re.findGuardPattern(i,f,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&f<u;w++){let E=Re.decodeDigit(i,c,f,Re.L_PATTERNS);a+=String.fromCharCode(48+E);for(let I of c)f+=I}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return ee.EAN_13}static determineFirstDigit(i,o){for(let a=0;a<10;a++)if(o===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new P}}return m.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],m})();class id extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u=i[1];for(let h=0;h<4&&u<c;h++){let g=Re.decodeDigit(n,a,u,Re.L_PATTERNS);o+=String.fromCharCode(48+g);for(let w of a)u+=w}u=Re.findGuardPattern(n,u,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<c;h++){let g=Re.decodeDigit(n,a,u,Re.L_PATTERNS);o+=String.fromCharCode(48+g);for(let w of a)u+=w}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return ee.EAN_8}}class od extends Re{constructor(){super(...arguments),this.ean13Reader=new _o}getBarcodeFormat(){return ee.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,o))}decodeMiddle(n,i,o){return this.ean13Reader.decodeMiddle(n,i,o)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let o=new vt(i.substring(1),null,null,n.getResultPoints(),ee.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new P}reset(){this.ean13Reader.reset()}}class en extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters.map(g=>g);a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u=i[1],f=0;for(let g=0;g<6&&u<c;g++){let w=en.decodeDigit(n,a,u,en.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let E of a)u+=E;w>=10&&(f|=1<<5-g)}let h=en.determineNumSysAndCheckDigit(o,f);return{rowOffset:u,resultString:h}}decodeEnd(n,i){return en.findGuardPatternWithoutCounters(n,i,!0,en.MIDDLE_END_PATTERN)}checkChecksum(n){return Re.checkChecksum(en.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let o=0;o<=1;o++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][a]){let c=String.fromCharCode(48+o),u=String.fromCharCode(48+a);return c+n+u}throw P.getNotFoundInstance()}getBarcodeFormat(){return ee.UPC_E}static convertUPCEtoUPCA(n){let i=n.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new ke;o.append(n.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(a),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(a);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}en.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),en.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ba extends Qe{constructor(n){super();let i=n==null?null:n.get(oe.POSSIBLE_FORMATS),o=[];t(i)?(o.push(new _o),o.push(new od),o.push(new id),o.push(new en)):(i.indexOf(ee.EAN_13)>-1&&o.push(new _o),i.indexOf(ee.UPC_A)>-1&&o.push(new od),i.indexOf(ee.EAN_8)>-1&&o.push(new id),i.indexOf(ee.UPC_E)>-1&&o.push(new en)),this.readers=o}decodeRow(n,i,o){for(let a of this.readers)try{let c=a.decodeRow(n,i,o),u=c.getBarcodeFormat()===ee.EAN_13&&c.getText().charAt(0)==="0",f=o==null?null:o.get(oe.POSSIBLE_FORMATS),h=f==null||f.includes(ee.UPC_A);if(u&&h){let g=c.getRawBytes(),w=new vt(c.getText().substring(1),g,g?g.length:null,c.getResultPoints(),ee.UPC_A);return w.putAllMetadata(c.getResultMetadata()),w}return c}catch{}throw new P}reset(){for(let n of this.readers)n.reset()}}let rr=(()=>{class m extends Qe{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let a=0;a<o.length;a++)if(Qe.patternMatchVariance(i,o[a],m.MAX_INDIVIDUAL_VARIANCE)<m.MAX_AVG_VARIANCE)return a;throw new P}static count(i){return be.sum(new Int32Array(i))}static increment(i,o){let a=0,c=o[0];for(let u=1;u<i.length;u++)o[u]>c&&(c=o[u],a=u);i[a]++}static decrement(i,o){let a=0,c=o[0];for(let u=1;u<i.length;u++)o[u]<c&&(c=o[u],a=u);i[a]--}static isFinderPattern(i){let o=i[0]+i[1],a=o+i[2]+i[3],c=o/a;if(c>=m.MIN_FINDER_PATTERN_RATIO&&c<=m.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let h of i)h>f&&(f=h),h<u&&(u=h);return f<10*u}return!1}}return m.MAX_AVG_VARIANCE=.2,m.MAX_INDIVIDUAL_VARIANCE=.45,m.MIN_FINDER_PATTERN_RATIO=9.5/12,m.MAX_FINDER_PATTERN_RATIO=12.5/14,m})();class Ar{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Ar))return!1;let i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class No{constructor(n,i,o,a,c){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new X(o,c)),this.resultPoints.push(new X(a,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof No))return!1;let i=n;return this.value===i.value}hashCode(){return this.value}}class pn{constructor(){}static getRSSvalue(n,i,o){let a=0;for(let h of n)a+=h;let c=0,u=0,f=n.length;for(let h=0;h<f-1;h++){let g;for(g=1,u|=1<<h;g<n[h];g++,u&=~(1<<h)){let w=pn.combins(a-g-1,f-h-2);if(o&&u===0&&a-g-(f-h-1)>=f-h-1&&(w-=pn.combins(a-g-(f-h),f-h-2)),f-h-1>1){let E=0;for(let I=a-g-(f-h-2);I>i;I--)E+=pn.combins(a-g-I-1,f-h-3);w-=E*(f-1-h)}else a-g>i&&w--;c+=w}a-=g}return c}static combins(n,i){let o,a;n-i>i?(a=i,o=n-i):(a=n-i,o=i);let c=1,u=1;for(let f=n;f>o;f--)c*=f,u<=a&&(c/=u,u++);for(;u<=a;)c/=u,u++;return c}}class x0{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let o=12*i,a=new ue(o),c=0,f=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&a.set(c),c++;for(let h=1;h<n.length;++h){let g=n[h],w=g.getLeftChar().getValue();for(let E=11;E>=0;--E)w&1<<E&&a.set(c),c++;if(g.getRightChar()!=null){let E=g.getRightChar().getValue();for(let I=11;I>=0;--I)E&1<<I&&a.set(c),c++}}return a}}class ir{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ta{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}let tn=(()=>{class m extends Ta{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===m.FNC1}}return m.FNC1="$",m})();class or extends Ta{constructor(n,i,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Sr=(()=>{class m extends Ta{constructor(i,o,a){if(super(i),o<0||o>10||a<0||a>10)throw new B;this.firstDigit=o,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===m.FNC1}isSecondDigitFNC1(){return this.secondDigit===m.FNC1}isAnyFNC1(){return this.firstDigit===m.FNC1||this.secondDigit===m.FNC1}}return m.FNC1=10,m})();class W{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new P;let i=n.substring(0,2);for(let c of W.TWO_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===W.VARIABLE_LENGTH?W.processVariableAI(2,c[2],n):W.processFixedAI(2,c[1],n);if(n.length<3)throw new P;let o=n.substring(0,3);for(let c of W.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===W.VARIABLE_LENGTH?W.processVariableAI(3,c[2],n):W.processFixedAI(3,c[1],n);for(let c of W.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===W.VARIABLE_LENGTH?W.processVariableAI(4,c[2],n):W.processFixedAI(4,c[1],n);if(n.length<4)throw new P;let a=n.substring(0,4);for(let c of W.FOUR_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===W.VARIABLE_LENGTH?W.processVariableAI(4,c[2],n):W.processFixedAI(4,c[1],n);throw new P}static processFixedAI(n,i,o){if(o.length<n)throw new P;let a=o.substring(0,n);if(o.length<n+i)throw new P;let c=o.substring(n,n+i),u=o.substring(n+i),f="("+a+")"+c,h=W.parseFieldsInGeneralPurpose(u);return h==null?f:f+h}static processVariableAI(n,i,o){let a=o.substring(0,n),c;o.length<n+i?c=o.length:c=n+i;let u=o.substring(n,c),f=o.substring(c),h="("+a+")"+u,g=W.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}}W.VARIABLE_LENGTH=[],W.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",W.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",W.VARIABLE_LENGTH,20],["22",W.VARIABLE_LENGTH,29],["30",W.VARIABLE_LENGTH,8],["37",W.VARIABLE_LENGTH,8],["90",W.VARIABLE_LENGTH,30],["91",W.VARIABLE_LENGTH,30],["92",W.VARIABLE_LENGTH,30],["93",W.VARIABLE_LENGTH,30],["94",W.VARIABLE_LENGTH,30],["95",W.VARIABLE_LENGTH,30],["96",W.VARIABLE_LENGTH,30],["97",W.VARIABLE_LENGTH,3],["98",W.VARIABLE_LENGTH,30],["99",W.VARIABLE_LENGTH,30]],W.THREE_DIGIT_DATA_LENGTH=[["240",W.VARIABLE_LENGTH,30],["241",W.VARIABLE_LENGTH,30],["242",W.VARIABLE_LENGTH,6],["250",W.VARIABLE_LENGTH,30],["251",W.VARIABLE_LENGTH,30],["253",W.VARIABLE_LENGTH,17],["254",W.VARIABLE_LENGTH,20],["400",W.VARIABLE_LENGTH,30],["401",W.VARIABLE_LENGTH,30],["402",17],["403",W.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",W.VARIABLE_LENGTH,20],["421",W.VARIABLE_LENGTH,15],["422",3],["423",W.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],W.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",W.VARIABLE_LENGTH,15],["391",W.VARIABLE_LENGTH,18],["392",W.VARIABLE_LENGTH,15],["393",W.VARIABLE_LENGTH,18],["703",W.VARIABLE_LENGTH,30]],W.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",W.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",W.VARIABLE_LENGTH,20],["8003",W.VARIABLE_LENGTH,30],["8004",W.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",W.VARIABLE_LENGTH,30],["8008",W.VARIABLE_LENGTH,12],["8018",18],["8020",W.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",W.VARIABLE_LENGTH,70],["8200",W.VARIABLE_LENGTH,70]];class br{constructor(n){this.buffer=new ke,this.information=n}decodeAllCodes(n,i){let o=i,a=null;do{let c=this.decodeGeneralPurposeField(o,a),u=W.parseFieldsInGeneralPurpose(c.getNewString());if(u!=null&&n.append(u),c.isRemaining()?a=""+c.getRemainingValue():a=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(n,4);return c===0?new Sr(this.information.getSize(),Sr.FNC1,Sr.FNC1):new Sr(this.information.getSize(),c-1,Sr.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),o=(i-8)/11,a=(i-8)%11;return new Sr(n+7,o,a)}extractNumericValueFromBitArray(n,i){return br.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,o){let a=0;for(let c=0;c<o;++c)n.get(i+c)&&(a|=1<<o-c-1);return a}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new or(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new or(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new or(this.current.getPosition(),this.buffer.toString()):i=new or(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new ir(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new or(this.current.getPosition(),this.buffer.toString());return new ir(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ir(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new or(this.current.getPosition(),this.buffer.toString());return new ir(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ir(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new or(this.current.getPosition(),this.buffer.toString());return new ir(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ir(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new tn(n+5,tn.FNC1);if(i>=5&&i<15)return new tn(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new tn(n+7,""+(o+1));if(o>=90&&o<116)return new tn(n+7,""+(o+7));let a=this.extractNumericValueFromBitArray(n,8),c;switch(a){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new B}return new tn(n+8,c)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new tn(n+5,tn.FNC1);if(i>=5&&i<15)return new tn(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new tn(n+6,""+(o+33));let a;switch(o){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Tn("Decoding invalid alphanumeric value: "+o)}return new tn(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class Ma{constructor(n){this.information=n,this.generalDecoder=new br(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let nn=(()=>{class m extends Ma{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,a)}encodeCompressedGtinWithoutAI(i,o,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}m.appendCheckDigit(i,a)}static appendCheckDigit(i,o){let a=0;for(let c=0;c<13;c++){let u=i.charAt(c+o).charCodeAt(0)-48;a+=c&1?u:3*u}a=10-a%10,a===10&&(a=0),i.append(a)}}return m.GTIN_SIZE=40,m})(),w0=(()=>{class m extends nn{constructor(i){super(i)}parseInformation(){let i=new ke;i.append("(01)");let o=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,m.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,m.HEADER_SIZE+44)}}return m.HEADER_SIZE=4,m})(),C0=(()=>{class m extends Ma{constructor(i){super(i)}parseInformation(){let i=new ke;return this.getGeneralDecoder().decodeAllCodes(i,m.HEADER_SIZE)}}return m.HEADER_SIZE=5,m})();class Ro extends nn{constructor(n){super(n)}encodeCompressedWeight(n,i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(n,a);let c=this.checkWeight(a),u=1e5;for(let f=0;f<5;++f)c/u===0&&n.append("0"),u/=10;n.append(c)}}let sd=(()=>{class m extends Ro{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=m.HEADER_SIZE+Ro.GTIN_SIZE+m.WEIGHT_SIZE)throw new P;let i=new ke;return this.encodeCompressedGtin(i,m.HEADER_SIZE),this.encodeCompressedWeight(i,m.HEADER_SIZE+Ro.GTIN_SIZE,m.WEIGHT_SIZE),i.toString()}}return m.HEADER_SIZE=5,m.WEIGHT_SIZE=15,m})();class E0 extends sd{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class I0 extends sd{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}let v0=(()=>{class m extends nn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<m.HEADER_SIZE+nn.GTIN_SIZE)throw new P;let i=new ke;this.encodeCompressedGtin(i,m.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+nn.GTIN_SIZE,m.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(m.HEADER_SIZE+nn.GTIN_SIZE+m.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}return m.HEADER_SIZE=8,m.LAST_DIGIT_SIZE=2,m})(),D0=(()=>{class m extends nn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<m.HEADER_SIZE+nn.GTIN_SIZE)throw new P;let i=new ke;this.encodeCompressedGtin(i,m.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+nn.GTIN_SIZE,m.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+nn.GTIN_SIZE+m.LAST_DIGIT_SIZE,m.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(m.HEADER_SIZE+nn.GTIN_SIZE+m.LAST_DIGIT_SIZE+m.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}return m.HEADER_SIZE=8,m.LAST_DIGIT_SIZE=2,m.FIRST_THREE_DIGITS_SIZE=10,m})(),Un=(()=>{class m extends Ro{constructor(i,o,a){super(i),this.dateCode=a,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=m.HEADER_SIZE+m.GTIN_SIZE+m.WEIGHT_SIZE+m.DATE_SIZE)throw new P;let i=new ke;return this.encodeCompressedGtin(i,m.HEADER_SIZE),this.encodeCompressedWeight(i,m.HEADER_SIZE+m.GTIN_SIZE,m.WEIGHT_SIZE),this.encodeCompressedDate(i,m.HEADER_SIZE+m.GTIN_SIZE+m.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(o,m.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let f=a;f/10==0&&i.append("0"),i.append(f),u/10==0&&i.append("0"),i.append(u),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}return m.HEADER_SIZE=8,m.WEIGHT_SIZE=20,m.DATE_SIZE=16,m})();function ad(m){try{if(m.get(1))return new w0(m);if(!m.get(2))return new C0(m);switch(br.extractNumericValueFromBitArray(m,1,4)){case 4:return new E0(m);case 5:return new I0(m)}switch(br.extractNumericValueFromBitArray(m,1,5)){case 12:return new v0(m);case 13:return new D0(m)}switch(br.extractNumericValueFromBitArray(m,1,7)){case 56:return new Un(m,"310","11");case 57:return new Un(m,"320","11");case 58:return new Un(m,"310","13");case 59:return new Un(m,"320","13");case 60:return new Un(m,"310","15");case 61:return new Un(m,"320","15");case 62:return new Un(m,"310","17");case 63:return new Un(m,"320","17")}}catch(n){throw console.log(n),new Tn("unknown decoder: "+m)}}class jn{constructor(n,i,o,a){this.leftchar=n,this.rightchar=i,this.finderpattern=o,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof jn?jn.equalsOrNull(n.leftchar,i.leftchar)&&jn.equalsOrNull(n.rightchar,i.rightchar)&&jn.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:jn.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class _a{constructor(n,i,o){this.pairs=n,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof _a?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let o;return n.forEach((a,c)=>{i.forEach(u=>{a.getLeftChar().getValue()===u.getLeftChar().getValue()&&a.getRightChar().getValue()===u.getRightChar().getValue()&&a.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(o=!0)})}),o}}class F extends rr{constructor(n){super(...arguments),this.pairs=new Array(F.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,o){this.pairs.length=0,this.startFromEven=!1;try{return F.constructResult(this.decodeRow2pairs(n,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,F.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(c){if(c instanceof P){if(!this.pairs.length)throw new P;o=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new P}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let o=i;o<this.rows.length;o++){let a=this.rows[o];this.pairs.length=0;for(let u of n)this.pairs.push(u.getPairs());if(this.pairs.push(a.getPairs()),!F.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(n);c.push(a);try{return this.checkRows(c,o+1)}catch(u){this.verbose&&console.log(u)}}throw new P}static isValidSequence(n){for(let i of F.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let o=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=i[a]){o=!1;break}if(o)return!0}return!1}storeRow(n,i){let o=0,a=!1,c=!1;for(;o<this.rows.length;){let u=this.rows[o];if(u.getRowNumber()>n){c=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),o++}c||a||F.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new _a(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let o of i)if(o.getPairs().length!==n.length){for(let a of o.getPairs())for(let c of n)if(jn.equals(a,c))break}}static isPartialRow(n,i){for(let o of i){let a=!0;for(let c of n){let u=!1;for(let f of o.getPairs())if(c.equals(f)){u=!0;break}if(!u){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=x0.buildBitArray(n),a=ad(i).parseInformation(),c=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),f=[c[0],c[1],u[0],u[1]];return new vt(a,null,null,f,ee.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let a=o.getChecksumPortion(),c=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);a+=h.getLeftChar().getChecksumPortion(),c++;let g=h.getRightChar();g!=null&&(a+=g.getChecksumPortion(),c++)}return a%=211,211*(c-4)+a==i.getValue()}static getNextSecondBar(n,i){let o;return n.get(i)?(o=n.getNextUnset(i),o=n.getNextSet(o)):(o=n.getNextSet(i),o=n.getNextUnset(o)),o}retrieveNextPair(n,i,o){let a=i.length%2==0;this.startFromEven&&(a=!a);let c,u=!0,f=-1;do this.findNextPair(n,i,f),c=this.parseFoundFinderPattern(n,o,a),c==null?f=F.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(n,c,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new P;let g;try{g=this.decodeDataCharacter(n,c,a,!1)}catch(w){g=null,this.verbose&&console.log(w)}return new jn(h,g,c,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),u;o>=0?u=o:this.isEmptyPair(i)?u=0:u=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;u<c&&(h=!n.get(u),!!h);)u++;let g=0,w=u;for(let E=u;E<c;E++)if(n.get(E)!=h)a[g]++;else{if(g==3){if(f&&F.reverseCounters(a),F.isFinderPattern(a)){this.startEnd[0]=w,this.startEnd[1]=E;return}f&&F.reverseCounters(a),w+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,h=!h}throw new P}static reverseCounters(n){let i=n.length;for(let o=0;o<i/2;++o){let a=n[o];n[o]=n[i-o-1],n[i-o-1]=a}}parseFoundFinderPattern(n,i,o){let a,c,u;if(o){let g=this.startEnd[0]-1;for(;g>=0&&!n.get(g);)g--;g++,a=this.startEnd[0]-g,c=g,u=this.startEnd[1]}else c=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];let f=this.getDecodeFinderCounters();L.arraycopy(f,0,f,1,f.length-1),f[0]=a;let h;try{h=this.parseFinderValue(f,F.FINDER_PATTERNS)}catch{return null}return new No(h,[c,u],c,u,i)}decodeDataCharacter(n,i,o,a){let c=this.getDataCharacterCounters();for(let Ve=0;Ve<c.length;Ve++)c[Ve]=0;if(a)F.recordPatternInReverse(n,i.getStartEnd()[0],c);else{F.recordPattern(n,i.getStartEnd()[1],c);for(let Ve=0,ht=c.length-1;Ve<ht;Ve++,ht--){let Ft=c[Ve];c[Ve]=c[ht],c[ht]=Ft}}let u=17,f=be.sum(new Int32Array(c))/u,h=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new P;let g=this.getOddCounts(),w=this.getEvenCounts(),E=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Ve=0;Ve<c.length;Ve++){let ht=1*c[Ve]/f,Ft=ht+.5;if(Ft<1){if(ht<.3)throw new P;Ft=1}else if(Ft>8){if(ht>8.7)throw new P;Ft=8}let Nr=Ve/2;Ve&1?(w[Nr]=Ft,I[Nr]=ht-Ft):(g[Nr]=Ft,E[Nr]=ht-Ft)}this.adjustOddEvenCounts(u);let A=4*i.getValue()+(o?0:2)+(a?0:1)-1,b=0,T=0;for(let Ve=g.length-1;Ve>=0;Ve--){if(F.isNotA1left(i,o,a)){let ht=F.WEIGHTS[A][2*Ve];T+=g[Ve]*ht}b+=g[Ve]}let M=0;for(let Ve=w.length-1;Ve>=0;Ve--)if(F.isNotA1left(i,o,a)){let ht=F.WEIGHTS[A][2*Ve+1];M+=w[Ve]*ht}let N=T+M;if(b&1||b>13||b<4)throw new P;let k=(13-b)/2,G=F.SYMBOL_WIDEST[k],O=9-G,ye=pn.getRSSvalue(g,G,!0),de=pn.getRSSvalue(w,O,!1),Mt=F.EVEN_TOTAL_SUBSET[k],on=F.GSUM[k],_t=ye*Mt+de+on;return new Ar(_t,N)}static isNotA1left(n,i,o){return!(n.getValue()==0&&i&&o)}adjustOddEvenCounts(n){let i=be.sum(new Int32Array(this.getOddCounts())),o=be.sum(new Int32Array(this.getEvenCounts())),a=!1,c=!1;i>13?c=!0:i<4&&(a=!0);let u=!1,f=!1;o>13?f=!0:o<4&&(u=!0);let h=i+o-n,g=(i&1)==1,w=(o&1)==0;if(h==1)if(g){if(w)throw new P;c=!0}else{if(!w)throw new P;f=!0}else if(h==-1)if(g){if(w)throw new P;a=!0}else{if(!w)throw new P;u=!0}else if(h==0){if(g){if(!w)throw new P;i<o?(a=!0,f=!0):(c=!0,u=!0)}else if(w)throw new P}else throw new P;if(a){if(c)throw new P;F.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&F.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new P;F.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&F.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}F.SYMBOL_WIDEST=[7,5,4,3,1],F.EVEN_TOTAL_SUBSET=[4,20,52,104,204],F.GSUM=[0,348,1388,2948,3988],F.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],F.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],F.FINDER_PAT_A=0,F.FINDER_PAT_B=1,F.FINDER_PAT_C=2,F.FINDER_PAT_D=3,F.FINDER_PAT_E=4,F.FINDER_PAT_F=5,F.FINDER_PATTERN_SEQUENCES=[[F.FINDER_PAT_A,F.FINDER_PAT_A],[F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B],[F.FINDER_PAT_A,F.FINDER_PAT_C,F.FINDER_PAT_B,F.FINDER_PAT_D],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_C],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_D,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_D],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_E],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F]],F.MAX_PAIRS=11;class A0 extends Ar{constructor(n,i,o){super(n,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Xe extends rr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,o){let a=this.decodePair(i,!1,n,o);Xe.addOrTally(this.possibleLeftPairs,a),i.reverse();let c=this.decodePair(i,!0,n,o);Xe.addOrTally(this.possibleRightPairs,c),i.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Xe.checkChecksum(u,f))return Xe.constructResult(u,f)}throw new P}static addOrTally(n,i){if(i==null)return;let o=!1;for(let a of n)if(a.getValue()===i.getValue()){a.incrementCount(),o=!0;break}o||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let o=4537077*n.getValue()+i.getValue(),a=new String(o).toString(),c=new ke;for(let g=13-a.length;g>0;g--)c.append("0");c.append(a);let u=0;for(let g=0;g<13;g++){let w=c.charAt(g).charCodeAt(0)-48;u+=g&1?w:3*w}u=10-u%10,u===10&&(u=0),c.append(u.toString());let f=n.getFinderPattern().getResultPoints(),h=i.getFinderPattern().getResultPoints();return new vt(c.toString(),null,0,[f[0],f[1],h[0],h[1]],ee.RSS_14,new Date().getTime())}static checkChecksum(n,i){let o=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,o===a}decodePair(n,i,o,a){try{let c=this.findFinderPattern(n,i),u=this.parseFoundFinderPattern(n,o,i,c),f=a==null?null:a.get(oe.NEED_RESULT_POINT_CALLBACK);if(f!=null){let w=(c[0]+c[1])/2;i&&(w=n.getSize()-1-w),f.foundPossibleResultPoint(new X(w,o))}let h=this.decodeDataCharacter(n,u,!0),g=this.decodeDataCharacter(n,u,!1);return new A0(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(n,i,o){let a=this.getDataCharacterCounters();for(let M=0;M<a.length;M++)a[M]=0;if(o)Qe.recordPatternInReverse(n,i.getStartEnd()[0],a);else{Qe.recordPattern(n,i.getStartEnd()[1]+1,a);for(let M=0,N=a.length-1;M<N;M++,N--){let k=a[M];a[M]=a[N],a[N]=k}}let c=o?16:15,u=be.sum(new Int32Array(a))/c,f=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let M=0;M<a.length;M++){let N=a[M]/u,k=Math.floor(N+.5);k<1?k=1:k>8&&(k=8);let G=Math.floor(M/2);M&1?(h[G]=k,w[G]=N-k):(f[G]=k,g[G]=N-k)}this.adjustOddEvenCounts(o,c);let E=0,I=0;for(let M=f.length-1;M>=0;M--)I*=9,I+=f[M],E+=f[M];let A=0,b=0;for(let M=h.length-1;M>=0;M--)A*=9,A+=h[M],b+=h[M];let T=I+3*A;if(o){if(E&1||E>12||E<4)throw new P;let M=(12-E)/2,N=Xe.OUTSIDE_ODD_WIDEST[M],k=9-N,G=pn.getRSSvalue(f,N,!1),O=pn.getRSSvalue(h,k,!0),ye=Xe.OUTSIDE_EVEN_TOTAL_SUBSET[M],de=Xe.OUTSIDE_GSUM[M];return new Ar(G*ye+O+de,T)}else{if(b&1||b>10||b<4)throw new P;let M=(10-b)/2,N=Xe.INSIDE_ODD_WIDEST[M],k=9-N,G=pn.getRSSvalue(f,N,!0),O=pn.getRSSvalue(h,k,!1),ye=Xe.INSIDE_ODD_TOTAL_SUBSET[M],de=Xe.INSIDE_GSUM[M];return new Ar(O*ye+G+de,T)}}findFinderPattern(n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=n.getSize(),c=!1,u=0;for(;u<a&&(c=!n.get(u),i!==c);)u++;let f=0,h=u;for(let g=u;g<a;g++)if(n.get(g)!==c)o[f]++;else{if(f===3){if(rr.isFinderPattern(o))return[h,g];h+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,c=!c}throw new P}parseFoundFinderPattern(n,i,o,a){let c=n.get(a[0]),u=a[0]-1;for(;u>=0&&c!==n.get(u);)u--;u++;let f=a[0]-u,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);L.arraycopy(h,0,g,1,h.length-1),g[0]=f;let w=this.parseFinderValue(g,Xe.FINDER_PATTERNS),E=u,I=a[1];return o&&(E=n.getSize()-1-E,I=n.getSize()-1-I),new No(w,[u,a[1]],E,I,i)}adjustOddEvenCounts(n,i){let o=be.sum(new Int32Array(this.getOddCounts())),a=be.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1,f=!1,h=!1;n?(o>12?u=!0:o<4&&(c=!0),a>12?h=!0:a<4&&(f=!0)):(o>11?u=!0:o<5&&(c=!0),a>10?h=!0:a<4&&(f=!0));let g=o+a-i,w=(o&1)===(n?1:0),E=(a&1)===1;if(g===1)if(w){if(E)throw new P;u=!0}else{if(!E)throw new P;h=!0}else if(g===-1)if(w){if(E)throw new P;c=!0}else{if(!E)throw new P;f=!0}else if(g===0){if(w){if(!E)throw new P;o<a?(c=!0,h=!0):(u=!0,f=!0)}else if(E)throw new P}else throw new P;if(c){if(u)throw new P;rr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&rr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new P;rr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&rr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Xe.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Xe.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Xe.OUTSIDE_GSUM=[0,161,961,2015,2715],Xe.INSIDE_GSUM=[0,336,1036,1516],Xe.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Xe.INSIDE_ODD_WIDEST=[2,4,6,8],Xe.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Tr extends Qe{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;let o=n?n.get(oe.POSSIBLE_FORMATS):null,a=n&&n.get(oe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ee.EAN_13)||o.includes(ee.UPC_A)||o.includes(ee.EAN_8)||o.includes(ee.UPC_E))&&this.readers.push(new ba(n)),o.includes(ee.CODE_39)&&this.readers.push(new Aa(a)),o.includes(ee.CODE_128)&&this.readers.push(new z),o.includes(ee.ITF)&&this.readers.push(new Ue),o.includes(ee.RSS_14)&&this.readers.push(new Xe),o.includes(ee.RSS_EXPANDED)&&this.readers.push(new F(this.verbose))):(this.readers.push(new ba(n)),this.readers.push(new Aa),this.readers.push(new ba(n)),this.readers.push(new z),this.readers.push(new Ue),this.readers.push(new Xe),this.readers.push(new F(this.verbose)))}decodeRow(n,i,o){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,i,o)}catch{}throw new P}reset(){this.readers.forEach(n=>n.reset())}}class S0 extends nr{constructor(n=500,i){super(new Tr(i),n,i)}}class Le{constructor(n,i,o){this.ecCodewords=n,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Oe{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ce{constructor(n,i,o,a,c,u){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=c,this.ecBlocks=u;let f=0,h=u.getECCodewords(),g=u.getECBlocks();for(let w of g)f+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new B;for(let o of Ce.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===i)return o;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Ce(1,10,10,8,8,new Le(5,new Oe(1,3))),new Ce(2,12,12,10,10,new Le(7,new Oe(1,5))),new Ce(3,14,14,12,12,new Le(10,new Oe(1,8))),new Ce(4,16,16,14,14,new Le(12,new Oe(1,12))),new Ce(5,18,18,16,16,new Le(14,new Oe(1,18))),new Ce(6,20,20,18,18,new Le(18,new Oe(1,22))),new Ce(7,22,22,20,20,new Le(20,new Oe(1,30))),new Ce(8,24,24,22,22,new Le(24,new Oe(1,36))),new Ce(9,26,26,24,24,new Le(28,new Oe(1,44))),new Ce(10,32,32,14,14,new Le(36,new Oe(1,62))),new Ce(11,36,36,16,16,new Le(42,new Oe(1,86))),new Ce(12,40,40,18,18,new Le(48,new Oe(1,114))),new Ce(13,44,44,20,20,new Le(56,new Oe(1,144))),new Ce(14,48,48,22,22,new Le(68,new Oe(1,174))),new Ce(15,52,52,24,24,new Le(42,new Oe(2,102))),new Ce(16,64,64,14,14,new Le(56,new Oe(2,140))),new Ce(17,72,72,16,16,new Le(36,new Oe(4,92))),new Ce(18,80,80,18,18,new Le(48,new Oe(4,114))),new Ce(19,88,88,20,20,new Le(56,new Oe(4,144))),new Ce(20,96,96,22,22,new Le(68,new Oe(4,174))),new Ce(21,104,104,24,24,new Le(56,new Oe(6,136))),new Ce(22,120,120,18,18,new Le(68,new Oe(6,175))),new Ce(23,132,132,20,20,new Le(62,new Oe(8,163))),new Ce(24,144,144,22,22,new Le(62,new Oe(8,156),new Oe(2,155))),new Ce(25,8,18,6,16,new Le(7,new Oe(1,5))),new Ce(26,8,32,6,14,new Le(11,new Oe(1,10))),new Ce(27,12,26,10,24,new Le(14,new Oe(1,16))),new Ce(28,12,36,10,16,new Le(18,new Oe(1,22))),new Ce(29,16,36,14,16,new Le(24,new Oe(1,32))),new Ce(30,16,48,14,22,new Le(28,new Oe(1,49)))]}}Ce.VERSIONS=Ce.buildVersions();class Na{constructor(n){let i=n.getHeight();if(i<8||i>144||i&1)throw new B;this.version=Na.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new it(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){let i=n.getHeight(),o=n.getWidth();return Ce.getVersionForDimensions(i,o)}readCodewords(){let n=new Int8Array(this.version.getTotalCodewords()),i=0,o=4,a=0,c=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth(),f=!1,h=!1,g=!1,w=!1;do if(o===c&&a===0&&!f)n[i++]=this.readCorner1(c,u)&255,o-=2,a+=2,f=!0;else if(o===c-2&&a===0&&u&3&&!h)n[i++]=this.readCorner2(c,u)&255,o-=2,a+=2,h=!0;else if(o===c+4&&a===2&&!(u&7)&&!g)n[i++]=this.readCorner3(c,u)&255,o-=2,a+=2,g=!0;else if(o===c-2&&a===0&&(u&7)===4&&!w)n[i++]=this.readCorner4(c,u)&255,o-=2,a+=2,w=!0;else{do o<c&&a>=0&&!this.readMappingMatrix.get(a,o)&&(n[i++]=this.readUtah(o,a,c,u)&255),o-=2,a+=2;while(o>=0&&a<u);o+=1,a+=3;do o>=0&&a<u&&!this.readMappingMatrix.get(a,o)&&(n[i++]=this.readUtah(o,a,c,u)&255),o+=2,a-=2;while(o<c&&a>=0);o+=3,a+=1}while(o<c||a<u);if(i!==this.version.getTotalCodewords())throw new B;return n}readModule(n,i,o,a){return n<0&&(n+=o,i+=4-(o+4&7)),i<0&&(i+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,o,a){let c=0;return this.readModule(n-2,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n-2,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i,o,a)&&(c|=1),c<<=1,this.readModule(n,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n,i,o,a)&&(c|=1),c}readCorner1(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,1,n,i)&&(o|=1),o<<=1,this.readModule(n-1,2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}readCorner2(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-4,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner3(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-3,n,i)&&(o|=1),o<<=1,this.readModule(1,i-2,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner4(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}extractDataRegion(n){let i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new y("Dimension of bitMatrix must match the version size");let a=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),u=i/a|0,f=o/c|0,h=u*a,g=f*c,w=new it(g,h);for(let E=0;E<u;++E){let I=E*a;for(let A=0;A<f;++A){let b=A*c;for(let T=0;T<a;++T){let M=E*(a+2)+1+T,N=I+T;for(let k=0;k<c;++k){let G=A*(c+2)+1+k;if(n.get(G,M)){let O=b+k;w.set(O,N)}}}}}return w}}class Ra{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){let o=i.getECBlocks(),a=0,c=o.getECBlocks();for(let T of c)a+=T.getCount();let u=new Array(a),f=0;for(let T of c)for(let M=0;M<T.getCount();M++){let N=T.getDataCodewords(),k=o.getECCodewords()+N;u[f++]=new Ra(N,new Uint8Array(k))}let g=u[0].codewords.length-o.getECCodewords(),w=g-1,E=0;for(let T=0;T<w;T++)for(let M=0;M<f;M++)u[M].codewords[T]=n[E++];let I=i.getVersionNumber()===24,A=I?8:f;for(let T=0;T<A;T++)u[T].codewords[g-1]=n[E++];let b=u[0].codewords.length;for(let T=g;T<b;T++)for(let M=0;M<f;M++){let N=I?(M+8)%f:M,k=I&&N>7?T-1:T;u[N].codewords[k]=n[E++]}if(E!==n.length)throw new y;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Oa{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new y(""+n);let i=0,o=this.bitOffset,a=this.byteOffset,c=this.bytes;if(o>0){let u=8-o,f=n<u?n:u,h=u-f,g=255>>8-f<<h;i=(c[a]&g)>>h,n-=f,o+=f,o===8&&(o=0,a++)}if(n>0){for(;n>=8;)i=i<<8|c[a]&255,a++,n-=8;if(n>0){let u=8-n,f=255>>u<<u;i=i<<n|(c[a]&f)>>u,o+=n}}return this.bitOffset=o,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var at=function(m){return m[m.PAD_ENCODE=0]="PAD_ENCODE",m[m.ASCII_ENCODE=1]="ASCII_ENCODE",m[m.C40_ENCODE=2]="C40_ENCODE",m[m.TEXT_ENCODE=3]="TEXT_ENCODE",m[m.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",m[m.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",m[m.BASE256_ENCODE=6]="BASE256_ENCODE",m}(at||{});class Vn{static decode(n){let i=new Oa(n),o=new ke,a=new ke,c=new Array,u=at.ASCII_ENCODE;do if(u===at.ASCII_ENCODE)u=this.decodeAsciiSegment(i,o,a);else{switch(u){case at.C40_ENCODE:this.decodeC40Segment(i,o);break;case at.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case at.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case at.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case at.BASE256_ENCODE:this.decodeBase256Segment(i,o,c);break;default:throw new B}u=at.ASCII_ENCODE}while(u!==at.PAD_ENCODE&&i.available()>0);return a.length()>0&&o.append(a.toString()),new yi(n,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(n,i,o){let a=!1;do{let c=n.readBits(8);if(c===0)throw new B;if(c<=128)return a&&(c+=128),i.append(String.fromCharCode(c-1)),at.ASCII_ENCODE;if(c===129)return at.PAD_ENCODE;if(c<=229){let u=c-130;u<10&&i.append("0"),i.append(""+u)}else switch(c){case 230:return at.C40_ENCODE;case 231:return at.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return at.ANSIX12_ENCODE;case 239:return at.TEXT_ENCODE;case 240:return at.EDIFACT_ENCODE;case 241:break;default:if(c!==254||n.available()!==0)throw new B;break}}while(n.available()>0);return at.ASCII_ENCODE}static decodeC40Segment(n,i){let o=!1,a=[],c=0;do{if(n.available()===8)return;let u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),a);for(let f=0;f<3;f++){let h=a[f];switch(c){case 0:if(h<3)c=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){let g=this.C40_BASIC_SET_CHARS[h];o?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),o=!1):i.append(g)}else throw new B;break;case 1:o?(i.append(String.fromCharCode(h+128)),o=!1):i.append(String.fromCharCode(h)),c=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){let g=this.C40_SHIFT2_SET_CHARS[h];o?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),o=!1):i.append(g)}else switch(h){case 27:i.append("");break;case 30:o=!0;break;default:throw new B}c=0;break;case 3:o?(i.append(String.fromCharCode(h+224)),o=!1):i.append(String.fromCharCode(h+96)),c=0;break;default:throw new B}}}while(n.available()>0)}static decodeTextSegment(n,i){let o=!1,a=[],c=0;do{if(n.available()===8)return;let u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),a);for(let f=0;f<3;f++){let h=a[f];switch(c){case 0:if(h<3)c=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){let g=this.TEXT_BASIC_SET_CHARS[h];o?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),o=!1):i.append(g)}else throw new B;break;case 1:o?(i.append(String.fromCharCode(h+128)),o=!1):i.append(String.fromCharCode(h)),c=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){let g=this.TEXT_SHIFT2_SET_CHARS[h];o?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),o=!1):i.append(g)}else switch(h){case 27:i.append("");break;case 30:o=!0;break;default:throw new B}c=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){let g=this.TEXT_SHIFT3_SET_CHARS[h];o?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),o=!1):i.append(g),c=0}else throw new B;break;default:throw new B}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){let o=[];do{if(n.available()===8)return;let a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),o);for(let c=0;c<3;c++){let u=o[c];switch(u){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(u<14)i.append(String.fromCharCode(u+44));else if(u<40)i.append(String.fromCharCode(u+51));else throw new B;break}}}while(n.available()>0)}static parseTwoBytes(n,i,o){let a=(n<<8)+i-1,c=Math.floor(a/1600);o[0]=c,a-=c*1600,c=Math.floor(a/40),o[1]=c,o[2]=a-c*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let a=n.readBits(6);if(a===31){let c=8-n.getBitOffset();c!==8&&n.readBits(c);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,i,o){let a=1+n.getByteOffset(),c=this.unrandomize255State(n.readBits(8),a++),u;if(c===0?u=n.available()/8|0:c<250?u=c:u=250*(c-249)+this.unrandomize255State(n.readBits(8),a++),u<0)throw new B;let f=new Uint8Array(u);for(let h=0;h<u;h++){if(n.available()<8)throw new B;f[h]=this.unrandomize255State(n.readBits(8),a++)}o.push(f);try{i.append(xt.decode(f,re.ISO88591))}catch(h){throw new Tn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,i){let o=149*i%255+1,a=n-o;return a>=0?a:a+256}}Vn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vn.TEXT_SHIFT2_SET_CHARS=Vn.C40_SHIFT2_SET_CHARS,Vn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7F"];class b0{constructor(){this.rsDecoder=new Ci(Ne.DATA_MATRIX_FIELD_256)}decode(n){let i=new Na(n),o=i.getVersion(),a=i.readCodewords(),c=Ra.getDataBlocks(a,o),u=0;for(let g of c)u+=g.getNumDataCodewords();let f=new Uint8Array(u),h=c.length;for(let g=0;g<h;g++){let w=c[g],E=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(E,I);for(let A=0;A<I;A++)f[A*h+g]=E[A]}return Vn.decode(f)}correctErrors(n,i){let o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new S}for(let a=0;a<i;a++)n[a]=o[a]}}class Ze{constructor(n){this.image=n,this.rectangleDetector=new To(this.image)}detect(){let n=this.rectangleDetector.detect(),i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new P;i=this.shiftToModuleCenter(i);let o=i[0],a=i[1],c=i[2],u=i[3],f=this.transitionsBetween(o,u)+1,h=this.transitionsBetween(c,u)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let g=Ze.sampleGrid(this.image,o,a,c,u,f,h);return new bo(g,[o,a,c,u])}static shiftPoint(n,i,o){let a=(i.getX()-n.getX())/(o+1),c=(i.getY()-n.getY())/(o+1);return new X(n.getX()+a,n.getY()+c)}static moveAway(n,i,o){let a=n.getX(),c=n.getY();return a<i?a-=1:a+=1,c<o?c-=1:c+=1,new X(a,c)}detectSolid1(n){let i=n[0],o=n[1],a=n[3],c=n[2],u=this.transitionsBetween(i,o),f=this.transitionsBetween(o,a),h=this.transitionsBetween(a,c),g=this.transitionsBetween(c,i),w=u,E=[c,i,o,a];return w>f&&(w=f,E[0]=i,E[1]=o,E[2]=a,E[3]=c),w>h&&(w=h,E[0]=o,E[1]=a,E[2]=c,E[3]=i),w>g&&(E[0]=a,E[1]=c,E[2]=i,E[3]=o),E}detectSolid2(n){let i=n[0],o=n[1],a=n[2],c=n[3],u=this.transitionsBetween(i,c),f=Ze.shiftPoint(o,a,(u+1)*4),h=Ze.shiftPoint(a,o,(u+1)*4),g=this.transitionsBetween(f,i),w=this.transitionsBetween(h,c);return g<w?(n[0]=i,n[1]=o,n[2]=a,n[3]=c):(n[0]=o,n[1]=a,n[2]=c,n[3]=i),n}correctTopRight(n){let i=n[0],o=n[1],a=n[2],c=n[3],u=this.transitionsBetween(i,c),f=this.transitionsBetween(o,c),h=Ze.shiftPoint(i,o,(f+1)*4),g=Ze.shiftPoint(a,o,(u+1)*4);u=this.transitionsBetween(h,c),f=this.transitionsBetween(g,c);let w=new X(c.getX()+(a.getX()-o.getX())/(u+1),c.getY()+(a.getY()-o.getY())/(u+1)),E=new X(c.getX()+(i.getX()-o.getX())/(f+1),c.getY()+(i.getY()-o.getY())/(f+1));if(!this.isValid(w))return this.isValid(E)?E:null;if(!this.isValid(E))return w;let I=this.transitionsBetween(h,w)+this.transitionsBetween(g,w),A=this.transitionsBetween(h,E)+this.transitionsBetween(g,E);return I>A?w:E}shiftToModuleCenter(n){let i=n[0],o=n[1],a=n[2],c=n[3],u=this.transitionsBetween(i,c)+1,f=this.transitionsBetween(a,c)+1,h=Ze.shiftPoint(i,o,f*4),g=Ze.shiftPoint(a,o,u*4);u=this.transitionsBetween(h,c)+1,f=this.transitionsBetween(g,c)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let w=(i.getX()+o.getX()+a.getX()+c.getX())/4,E=(i.getY()+o.getY()+a.getY()+c.getY())/4;i=Ze.moveAway(i,w,E),o=Ze.moveAway(o,w,E),a=Ze.moveAway(a,w,E),c=Ze.moveAway(c,w,E);let I,A;return h=Ze.shiftPoint(i,o,f*4),h=Ze.shiftPoint(h,c,u*4),I=Ze.shiftPoint(o,i,f*4),I=Ze.shiftPoint(I,a,u*4),g=Ze.shiftPoint(a,c,f*4),g=Ze.shiftPoint(g,o,u*4),A=Ze.shiftPoint(c,a,f*4),A=Ze.shiftPoint(A,i,u*4),[h,I,g,A]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,o,a,c,u,f){return Bn.getInstance().sampleGrid(n,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,i.getX(),i.getY(),c.getX(),c.getY(),a.getX(),a.getY(),o.getX(),o.getY())}transitionsBetween(n,i){let o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),c=Math.trunc(i.getX()),u=Math.trunc(i.getY()),f=Math.abs(u-a)>Math.abs(c-o);if(f){let T=o;o=a,a=T,T=c,c=u,u=T}let h=Math.abs(c-o),g=Math.abs(u-a),w=-h/2,E=a<u?1:-1,I=o<c?1:-1,A=0,b=this.image.get(f?a:o,f?o:a);for(let T=o,M=a;T!==c;T+=I){let N=this.image.get(f?M:T,f?T:M);if(N!==b&&(A++,b=N),w+=g,w>0){if(M===u)break;M+=E,w-=h}}return A}}let Oo=(()=>{class m{constructor(){this.decoder=new b0}decode(i,o=null){let a,c;if(o!=null&&o.has(oe.PURE_BARCODE)){let w=m.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(w),c=m.NO_POINTS}else{let w=new Ze(i.getBlackMatrix()).detect();a=this.decoder.decode(w.getBits()),c=w.getPoints()}let u=a.getRawBytes(),f=new vt(a.getText(),u,8*u.length,c,ee.DATA_MATRIX,L.currentTimeMillis()),h=a.getByteSegments();h!=null&&f.putMetadata(st.BYTE_SEGMENTS,h);let g=a.getECLevel();return g!=null&&f.putMetadata(st.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(i){let o=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(o==null||a==null)throw new P;let c=this.moduleSize(o,i),u=o[1],f=a[1],h=o[0],w=(a[0]-h+1)/c,E=(f-u+1)/c;if(w<=0||E<=0)throw new P;let I=c/2;u+=I,h+=I;let A=new it(w,E);for(let b=0;b<E;b++){let T=u+b*c;for(let M=0;M<w;M++)i.get(h+M*c,T)&&A.set(M,b)}return A}static moduleSize(i,o){let a=o.getWidth(),c=i[0],u=i[1];for(;c<a&&o.get(c,u);)c++;if(c===a)throw new P;let f=c-i[0];if(f===0)throw new P;return f}}return m.NO_POINTS=[],m})();class T0 extends nr{constructor(n=500){super(new Oo,n)}}var Ii=function(m){return m[m.L=0]="L",m[m.M=1]="M",m[m.Q=2]="Q",m[m.H=3]="H",m}(Ii||{});class ze{constructor(n,i,o){this.value=n,this.stringValue=i,this.bits=o,ze.FOR_BITS.set(o,this),ze.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return ze.L;case"M":return ze.M;case"Q":return ze.Q;case"H":return ze.H;default:throw new C(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof ze))return!1;let i=n;return this.value===i.value}static forBits(n){if(n<0||n>=ze.FOR_BITS.size)throw new y;return ze.FOR_BITS.get(n)}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.L=new ze(Ii.L,"L",1),ze.M=new ze(Ii.M,"M",0),ze.Q=new ze(Ii.Q,"Q",3),ze.H=new ze(Ii.H,"H",2);class Ct{constructor(n){this.errorCorrectionLevel=ze.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return H.bitCount(n^i)}static decodeFormatInformation(n,i){let o=Ct.doDecodeFormatInformation(n,i);return o!==null?o:Ct.doDecodeFormatInformation(n^Ct.FORMAT_INFO_MASK_QR,i^Ct.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let o=Number.MAX_SAFE_INTEGER,a=0;for(let c of Ct.FORMAT_INFO_DECODE_LOOKUP){let u=c[0];if(u===n||u===i)return new Ct(c[1]);let f=Ct.numBitsDiffering(n,u);f<o&&(a=c[1],o=f),n!==i&&(f=Ct.numBitsDiffering(i,u),f<o&&(a=c[1],o=f))}return o<=3?new Ct(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Ct))return!1;let i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Ct.FORMAT_INFO_MASK_QR=21522,Ct.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class _{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0,i=this.ecBlocks;for(let o of i)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Q{constructor(n,i,...o){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=o;let a=0,c=o[0].getECCodewordsPerBlock(),u=o[0].getECBlocks();for(let f of u)a+=f.getCount()*(f.getDataCodewords()+c);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new B;try{return this.getVersionForNumber((n-17)/4)}catch{throw new B}}static getVersionForNumber(n){if(n<1||n>40)throw new y;return Q.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,o=0;for(let a=0;a<Q.VERSION_DECODE_INFO.length;a++){let c=Q.VERSION_DECODE_INFO[a];if(c===n)return Q.getVersionForNumber(a+7);let u=Ct.numBitsDiffering(n,c);u<i&&(o=a+7,i=u)}return i<=3?Q.getVersionForNumber(o):null}buildFunctionPattern(){let n=this.getDimensionForVersion(),i=new it(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);let o=this.alignmentPatternCenters.length;for(let a=0;a<o;a++){let c=this.alignmentPatternCenters[a]-2;for(let u=0;u<o;u++)a===0&&(u===0||u===o-1)||a===o-1&&u===0||i.setRegion(this.alignmentPatternCenters[u]-2,c,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}Q.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Q.VERSIONS=[new Q(1,new Int32Array(0),new _(7,new D(1,19)),new _(10,new D(1,16)),new _(13,new D(1,13)),new _(17,new D(1,9))),new Q(2,Int32Array.from([6,18]),new _(10,new D(1,34)),new _(16,new D(1,28)),new _(22,new D(1,22)),new _(28,new D(1,16))),new Q(3,Int32Array.from([6,22]),new _(15,new D(1,55)),new _(26,new D(1,44)),new _(18,new D(2,17)),new _(22,new D(2,13))),new Q(4,Int32Array.from([6,26]),new _(20,new D(1,80)),new _(18,new D(2,32)),new _(26,new D(2,24)),new _(16,new D(4,9))),new Q(5,Int32Array.from([6,30]),new _(26,new D(1,108)),new _(24,new D(2,43)),new _(18,new D(2,15),new D(2,16)),new _(22,new D(2,11),new D(2,12))),new Q(6,Int32Array.from([6,34]),new _(18,new D(2,68)),new _(16,new D(4,27)),new _(24,new D(4,19)),new _(28,new D(4,15))),new Q(7,Int32Array.from([6,22,38]),new _(20,new D(2,78)),new _(18,new D(4,31)),new _(18,new D(2,14),new D(4,15)),new _(26,new D(4,13),new D(1,14))),new Q(8,Int32Array.from([6,24,42]),new _(24,new D(2,97)),new _(22,new D(2,38),new D(2,39)),new _(22,new D(4,18),new D(2,19)),new _(26,new D(4,14),new D(2,15))),new Q(9,Int32Array.from([6,26,46]),new _(30,new D(2,116)),new _(22,new D(3,36),new D(2,37)),new _(20,new D(4,16),new D(4,17)),new _(24,new D(4,12),new D(4,13))),new Q(10,Int32Array.from([6,28,50]),new _(18,new D(2,68),new D(2,69)),new _(26,new D(4,43),new D(1,44)),new _(24,new D(6,19),new D(2,20)),new _(28,new D(6,15),new D(2,16))),new Q(11,Int32Array.from([6,30,54]),new _(20,new D(4,81)),new _(30,new D(1,50),new D(4,51)),new _(28,new D(4,22),new D(4,23)),new _(24,new D(3,12),new D(8,13))),new Q(12,Int32Array.from([6,32,58]),new _(24,new D(2,92),new D(2,93)),new _(22,new D(6,36),new D(2,37)),new _(26,new D(4,20),new D(6,21)),new _(28,new D(7,14),new D(4,15))),new Q(13,Int32Array.from([6,34,62]),new _(26,new D(4,107)),new _(22,new D(8,37),new D(1,38)),new _(24,new D(8,20),new D(4,21)),new _(22,new D(12,11),new D(4,12))),new Q(14,Int32Array.from([6,26,46,66]),new _(30,new D(3,115),new D(1,116)),new _(24,new D(4,40),new D(5,41)),new _(20,new D(11,16),new D(5,17)),new _(24,new D(11,12),new D(5,13))),new Q(15,Int32Array.from([6,26,48,70]),new _(22,new D(5,87),new D(1,88)),new _(24,new D(5,41),new D(5,42)),new _(30,new D(5,24),new D(7,25)),new _(24,new D(11,12),new D(7,13))),new Q(16,Int32Array.from([6,26,50,74]),new _(24,new D(5,98),new D(1,99)),new _(28,new D(7,45),new D(3,46)),new _(24,new D(15,19),new D(2,20)),new _(30,new D(3,15),new D(13,16))),new Q(17,Int32Array.from([6,30,54,78]),new _(28,new D(1,107),new D(5,108)),new _(28,new D(10,46),new D(1,47)),new _(28,new D(1,22),new D(15,23)),new _(28,new D(2,14),new D(17,15))),new Q(18,Int32Array.from([6,30,56,82]),new _(30,new D(5,120),new D(1,121)),new _(26,new D(9,43),new D(4,44)),new _(28,new D(17,22),new D(1,23)),new _(28,new D(2,14),new D(19,15))),new Q(19,Int32Array.from([6,30,58,86]),new _(28,new D(3,113),new D(4,114)),new _(26,new D(3,44),new D(11,45)),new _(26,new D(17,21),new D(4,22)),new _(26,new D(9,13),new D(16,14))),new Q(20,Int32Array.from([6,34,62,90]),new _(28,new D(3,107),new D(5,108)),new _(26,new D(3,41),new D(13,42)),new _(30,new D(15,24),new D(5,25)),new _(28,new D(15,15),new D(10,16))),new Q(21,Int32Array.from([6,28,50,72,94]),new _(28,new D(4,116),new D(4,117)),new _(26,new D(17,42)),new _(28,new D(17,22),new D(6,23)),new _(30,new D(19,16),new D(6,17))),new Q(22,Int32Array.from([6,26,50,74,98]),new _(28,new D(2,111),new D(7,112)),new _(28,new D(17,46)),new _(30,new D(7,24),new D(16,25)),new _(24,new D(34,13))),new Q(23,Int32Array.from([6,30,54,78,102]),new _(30,new D(4,121),new D(5,122)),new _(28,new D(4,47),new D(14,48)),new _(30,new D(11,24),new D(14,25)),new _(30,new D(16,15),new D(14,16))),new Q(24,Int32Array.from([6,28,54,80,106]),new _(30,new D(6,117),new D(4,118)),new _(28,new D(6,45),new D(14,46)),new _(30,new D(11,24),new D(16,25)),new _(30,new D(30,16),new D(2,17))),new Q(25,Int32Array.from([6,32,58,84,110]),new _(26,new D(8,106),new D(4,107)),new _(28,new D(8,47),new D(13,48)),new _(30,new D(7,24),new D(22,25)),new _(30,new D(22,15),new D(13,16))),new Q(26,Int32Array.from([6,30,58,86,114]),new _(28,new D(10,114),new D(2,115)),new _(28,new D(19,46),new D(4,47)),new _(28,new D(28,22),new D(6,23)),new _(30,new D(33,16),new D(4,17))),new Q(27,Int32Array.from([6,34,62,90,118]),new _(30,new D(8,122),new D(4,123)),new _(28,new D(22,45),new D(3,46)),new _(30,new D(8,23),new D(26,24)),new _(30,new D(12,15),new D(28,16))),new Q(28,Int32Array.from([6,26,50,74,98,122]),new _(30,new D(3,117),new D(10,118)),new _(28,new D(3,45),new D(23,46)),new _(30,new D(4,24),new D(31,25)),new _(30,new D(11,15),new D(31,16))),new Q(29,Int32Array.from([6,30,54,78,102,126]),new _(30,new D(7,116),new D(7,117)),new _(28,new D(21,45),new D(7,46)),new _(30,new D(1,23),new D(37,24)),new _(30,new D(19,15),new D(26,16))),new Q(30,Int32Array.from([6,26,52,78,104,130]),new _(30,new D(5,115),new D(10,116)),new _(28,new D(19,47),new D(10,48)),new _(30,new D(15,24),new D(25,25)),new _(30,new D(23,15),new D(25,16))),new Q(31,Int32Array.from([6,30,56,82,108,134]),new _(30,new D(13,115),new D(3,116)),new _(28,new D(2,46),new D(29,47)),new _(30,new D(42,24),new D(1,25)),new _(30,new D(23,15),new D(28,16))),new Q(32,Int32Array.from([6,34,60,86,112,138]),new _(30,new D(17,115)),new _(28,new D(10,46),new D(23,47)),new _(30,new D(10,24),new D(35,25)),new _(30,new D(19,15),new D(35,16))),new Q(33,Int32Array.from([6,30,58,86,114,142]),new _(30,new D(17,115),new D(1,116)),new _(28,new D(14,46),new D(21,47)),new _(30,new D(29,24),new D(19,25)),new _(30,new D(11,15),new D(46,16))),new Q(34,Int32Array.from([6,34,62,90,118,146]),new _(30,new D(13,115),new D(6,116)),new _(28,new D(14,46),new D(23,47)),new _(30,new D(44,24),new D(7,25)),new _(30,new D(59,16),new D(1,17))),new Q(35,Int32Array.from([6,30,54,78,102,126,150]),new _(30,new D(12,121),new D(7,122)),new _(28,new D(12,47),new D(26,48)),new _(30,new D(39,24),new D(14,25)),new _(30,new D(22,15),new D(41,16))),new Q(36,Int32Array.from([6,24,50,76,102,128,154]),new _(30,new D(6,121),new D(14,122)),new _(28,new D(6,47),new D(34,48)),new _(30,new D(46,24),new D(10,25)),new _(30,new D(2,15),new D(64,16))),new Q(37,Int32Array.from([6,28,54,80,106,132,158]),new _(30,new D(17,122),new D(4,123)),new _(28,new D(29,46),new D(14,47)),new _(30,new D(49,24),new D(10,25)),new _(30,new D(24,15),new D(46,16))),new Q(38,Int32Array.from([6,32,58,84,110,136,162]),new _(30,new D(4,122),new D(18,123)),new _(28,new D(13,46),new D(32,47)),new _(30,new D(48,24),new D(14,25)),new _(30,new D(42,15),new D(32,16))),new Q(39,Int32Array.from([6,26,54,82,110,138,166]),new _(30,new D(20,117),new D(4,118)),new _(28,new D(40,47),new D(7,48)),new _(30,new D(43,24),new D(22,25)),new _(30,new D(10,15),new D(67,16))),new Q(40,Int32Array.from([6,30,58,86,114,142,170]),new _(30,new D(19,118),new D(6,119)),new _(28,new D(18,47),new D(31,48)),new _(30,new D(34,24),new D(34,25)),new _(30,new D(20,15),new D(61,16)))];var ut=function(m){return m[m.DATA_MASK_000=0]="DATA_MASK_000",m[m.DATA_MASK_001=1]="DATA_MASK_001",m[m.DATA_MASK_010=2]="DATA_MASK_010",m[m.DATA_MASK_011=3]="DATA_MASK_011",m[m.DATA_MASK_100=4]="DATA_MASK_100",m[m.DATA_MASK_101=5]="DATA_MASK_101",m[m.DATA_MASK_110=6]="DATA_MASK_110",m[m.DATA_MASK_111=7]="DATA_MASK_111",m}(ut||{});class Gt{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let o=0;o<i;o++)for(let a=0;a<i;a++)this.isMasked(o,a)&&n.flip(a,o)}}Gt.values=new Map([[ut.DATA_MASK_000,new Gt(ut.DATA_MASK_000,(m,n)=>(m+n&1)===0)],[ut.DATA_MASK_001,new Gt(ut.DATA_MASK_001,(m,n)=>(m&1)===0)],[ut.DATA_MASK_010,new Gt(ut.DATA_MASK_010,(m,n)=>n%3===0)],[ut.DATA_MASK_011,new Gt(ut.DATA_MASK_011,(m,n)=>(m+n)%3===0)],[ut.DATA_MASK_100,new Gt(ut.DATA_MASK_100,(m,n)=>(Math.floor(m/2)+Math.floor(n/3)&1)===0)],[ut.DATA_MASK_101,new Gt(ut.DATA_MASK_101,(m,n)=>m*n%6===0)],[ut.DATA_MASK_110,new Gt(ut.DATA_MASK_110,(m,n)=>m*n%6<3)],[ut.DATA_MASK_111,new Gt(ut.DATA_MASK_111,(m,n)=>(m+n+m*n%3&1)===0)]]);class M0{constructor(n){let i=n.getHeight();if(i<21||(i&3)!==1)throw new B;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let c=0;c<6;c++)n=this.copyBit(c,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let c=5;c>=0;c--)n=this.copyBit(8,c,n);let i=this.bitMatrix.getHeight(),o=0,a=i-7;for(let c=i-1;c>=a;c--)o=this.copyBit(8,c,o);for(let c=i-8;c<i;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=Ct.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return Q.getVersionForNumber(i);let o=0,a=n-11;for(let u=5;u>=0;u--)for(let f=n-9;f>=a;f--)o=this.copyBit(f,u,o);let c=Q.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===n)return this.parsedVersion=c,c;o=0;for(let u=5;u>=0;u--)for(let f=n-9;f>=a;f--)o=this.copyBit(u,f,o);if(c=Q.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===n)return this.parsedVersion=c,c;throw new B}copyBit(n,i,o){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?o<<1|1:o<<1}readCodewords(){let n=this.readFormatInformation(),i=this.readVersion(),o=Gt.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a);let c=i.buildFunctionPattern(),u=!0,f=new Uint8Array(i.getTotalCodewords()),h=0,g=0,w=0;for(let E=a-1;E>0;E-=2){E===6&&E--;for(let I=0;I<a;I++){let A=u?a-1-I:I;for(let b=0;b<2;b++)c.get(E-b,A)||(w++,g<<=1,this.bitMatrix.get(E-b,A)&&(g|=1),w===8&&(f[h++]=g,w=0,g=0))}u=!u}if(h!==i.getTotalCodewords())throw new B;return f}remask(){if(this.parsedFormatInfo===null)return;let n=Gt.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){let n=this.bitMatrix;for(let i=0,o=n.getWidth();i<o;i++)for(let a=i+1,c=n.getHeight();a<c;a++)n.get(i,a)!==n.get(a,i)&&(n.flip(a,i),n.flip(i,a))}}class La{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,o){if(n.length!==i.getTotalCodewords())throw new y;let a=i.getECBlocksForLevel(o),c=0,u=a.getECBlocks();for(let b of u)c+=b.getCount();let f=new Array(c),h=0;for(let b of u)for(let T=0;T<b.getCount();T++){let M=b.getDataCodewords(),N=a.getECCodewordsPerBlock()+M;f[h++]=new La(M,new Uint8Array(N))}let g=f[0].codewords.length,w=f.length-1;for(;w>=0&&f[w].codewords.length!==g;)w--;w++;let E=g-a.getECCodewordsPerBlock(),I=0;for(let b=0;b<E;b++)for(let T=0;T<h;T++)f[T].codewords[b]=n[I++];for(let b=w;b<h;b++)f[b].codewords[E]=n[I++];let A=f[0].codewords.length;for(let b=E;b<A;b++)for(let T=0;T<h;T++){let M=T<w?b:b+1;f[T].codewords[M]=n[I++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var rn=function(m){return m[m.TERMINATOR=0]="TERMINATOR",m[m.NUMERIC=1]="NUMERIC",m[m.ALPHANUMERIC=2]="ALPHANUMERIC",m[m.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",m[m.BYTE=4]="BYTE",m[m.ECI=5]="ECI",m[m.KANJI=6]="KANJI",m[m.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",m[m.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",m[m.HANZI=9]="HANZI",m}(rn||{});class K{constructor(n,i,o,a){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=a,K.FOR_BITS.set(a,this),K.FOR_VALUE.set(n,this)}static forBits(n){let i=K.FOR_BITS.get(n);if(i===void 0)throw new y;return i}getCharacterCountBits(n){let i=n.getVersionNumber(),o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof K))return!1;let i=n;return this.value===i.value}toString(){return this.stringValue}}K.FOR_BITS=new Map,K.FOR_VALUE=new Map,K.TERMINATOR=new K(rn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),K.NUMERIC=new K(rn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),K.ALPHANUMERIC=new K(rn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),K.STRUCTURED_APPEND=new K(rn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),K.BYTE=new K(rn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),K.ECI=new K(rn.ECI,"ECI",Int32Array.from([0,0,0]),7),K.KANJI=new K(rn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),K.FNC1_FIRST_POSITION=new K(rn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),K.FNC1_SECOND_POSITION=new K(rn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),K.HANZI=new K(rn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let cd=(()=>{class m{static decode(i,o,a,c){let u=new Oa(i),f=new ke,h=new Array,g=-1,w=-1;try{let E=null,I=!1,A;do{if(u.available()<4)A=K.TERMINATOR;else{let b=u.readBits(4);A=K.forBits(b)}switch(A){case K.TERMINATOR:break;case K.FNC1_FIRST_POSITION:case K.FNC1_SECOND_POSITION:I=!0;break;case K.STRUCTURED_APPEND:if(u.available()<16)throw new B;g=u.readBits(8),w=u.readBits(8);break;case K.ECI:let b=m.parseECIValue(u);if(E=U.getCharacterSetECIByValue(b),E===null)throw new B;break;case K.HANZI:let T=u.readBits(4),M=u.readBits(A.getCharacterCountBits(o));T===m.GB2312_SUBSET&&m.decodeHanziSegment(u,f,M);break;default:let N=u.readBits(A.getCharacterCountBits(o));switch(A){case K.NUMERIC:m.decodeNumericSegment(u,f,N);break;case K.ALPHANUMERIC:m.decodeAlphanumericSegment(u,f,N,I);break;case K.BYTE:m.decodeByteSegment(u,f,N,E,h,c);break;case K.KANJI:m.decodeKanjiSegment(u,f,N);break;default:throw new B}break}}while(A!==K.TERMINATOR)}catch{throw new B}return new yi(i,f.toString(),h.length===0?null:h,a===null?null:a.toString(),g,w)}static decodeHanziSegment(i,o,a){if(a*13>i.available())throw new B;let c=new Uint8Array(2*a),u=0;for(;a>0;){let f=i.readBits(13),h=f/96<<8&4294967295|f%96;h<959?h+=41377:h+=42657,c[u]=h>>8&255,c[u+1]=h&255,u+=2,a--}try{o.append(xt.decode(c,re.GB2312))}catch(f){throw new B(f)}}static decodeKanjiSegment(i,o,a){if(a*13>i.available())throw new B;let c=new Uint8Array(2*a),u=0;for(;a>0;){let f=i.readBits(13),h=f/192<<8&4294967295|f%192;h<7936?h+=33088:h+=49472,c[u]=h>>8,c[u+1]=h,u+=2,a--}try{o.append(xt.decode(c,re.SHIFT_JIS))}catch(f){throw new B(f)}}static decodeByteSegment(i,o,a,c,u,f){if(8*a>i.available())throw new B;let h=new Uint8Array(a);for(let w=0;w<a;w++)h[w]=i.readBits(8);let g;c===null?g=re.guessEncoding(h,f):g=c.getName();try{o.append(xt.decode(h,g))}catch(w){throw new B(w)}u.push(h)}static toAlphaNumericChar(i){if(i>=m.ALPHANUMERIC_CHARS.length)throw new B;return m.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,a,c){let u=o.length();for(;a>1;){if(i.available()<11)throw new B;let f=i.readBits(11);o.append(m.toAlphaNumericChar(Math.floor(f/45))),o.append(m.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(i.available()<6)throw new B;o.append(m.toAlphaNumericChar(i.readBits(6)))}if(c)for(let f=u;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(i,o,a){for(;a>=3;){if(i.available()<10)throw new B;let c=i.readBits(10);if(c>=1e3)throw new B;o.append(m.toAlphaNumericChar(Math.floor(c/100))),o.append(m.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(m.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(i.available()<7)throw new B;let c=i.readBits(7);if(c>=100)throw new B;o.append(m.toAlphaNumericChar(Math.floor(c/10))),o.append(m.toAlphaNumericChar(c%10))}else if(a===1){if(i.available()<4)throw new B;let c=i.readBits(4);if(c>=10)throw new B;o.append(m.toAlphaNumericChar(c))}}static parseECIValue(i){let o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){let a=i.readBits(8);return(o&63)<<8&4294967295|a}if((o&224)===192){let a=i.readBits(16);return(o&31)<<16&4294967295|a}throw new B}}return m.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",m.GB2312_SUBSET=1,m})();class ld{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;let i=n[0];n[0]=n[2],n[2]=i}}class _0{constructor(){this.rsDecoder=new Ci(Ne.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(it.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){let o=new M0(n),a=null;try{return this.decodeBitMatrixParser(o,i)}catch(c){a=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();let c=this.decodeBitMatrixParser(o,i);return c.setOther(new ld(!0)),c}catch(c){throw a!==null?a:c}}decodeBitMatrixParser(n,i){let o=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),c=n.readCodewords(),u=La.getDataBlocks(c,o,a),f=0;for(let w of u)f+=w.getNumDataCodewords();let h=new Uint8Array(f),g=0;for(let w of u){let E=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(E,I);for(let A=0;A<I;A++)h[g++]=E[A]}return cd.decode(h,o,a,i)}correctErrors(n,i){let o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new S}for(let a=0;a<i;a++)n[a]=o[a]}}class Pa extends X{constructor(n,i,o){super(n,i),this.estimatedModuleSize=o}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){let a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){let a=(this.getX()+i)/2,c=(this.getY()+n)/2,u=(this.estimatedModuleSize+o)/2;return new Pa(a,c,u)}}class Lo{constructor(n,i,o,a,c,u,f){this.image=n,this.startX=i,this.startY=o,this.width=a,this.height=c,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let n=this.startX,i=this.height,o=this.width,a=n+o,c=this.startY+i/2,u=new Int32Array(3),f=this.image;for(let h=0;h<i;h++){let g=c+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=n;for(;w<a&&!f.get(w,g);)w++;let E=0;for(;w<a;){if(f.get(w,g))if(E===1)u[1]++;else if(E===2){if(this.foundPatternCross(u)){let I=this.handlePossibleCenter(u,g,w);if(I!==null)return I}u[0]=u[2],u[1]=1,u[2]=0,E=1}else u[++E]++;else E===1&&E++,u[E]++;w++}if(this.foundPatternCross(u)){let I=this.handlePossibleCenter(u,g,a);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new P}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){let i=this.moduleSize,o=i/2;for(let a=0;a<3;a++)if(Math.abs(i-n[a])>=o)return!1;return!0}crossCheckVertical(n,i,o,a){let c=this.image,u=c.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=n;for(;h>=0&&c.get(i,h)&&f[1]<=o;)f[1]++,h--;if(h<0||f[1]>o)return NaN;for(;h>=0&&!c.get(i,h)&&f[0]<=o;)f[0]++,h--;if(f[0]>o)return NaN;for(h=n+1;h<u&&c.get(i,h)&&f[1]<=o;)f[1]++,h++;if(h===u||f[1]>o)return NaN;for(;h<u&&!c.get(i,h)&&f[2]<=o;)f[2]++,h++;if(f[2]>o)return NaN;let g=f[0]+f[1]+f[2];return 5*Math.abs(g-a)>=2*a?NaN:this.foundPatternCross(f)?Lo.centerFromEnd(f,h):NaN}handlePossibleCenter(n,i,o){let a=n[0]+n[1]+n[2],c=Lo.centerFromEnd(n,o),u=this.crossCheckVertical(i,c,2*n[1],a);if(!isNaN(u)){let f=(n[0]+n[1]+n[2])/3;for(let g of this.possibleCenters)if(g.aboutEquals(f,u,c))return g.combineEstimate(u,c,f);let h=new Pa(c,u,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Fa extends X{constructor(n,i,o,a){super(n,i),this.estimatedModuleSize=o,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){let a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){let a=this.count+1,c=(this.count*this.getX()+i)/a,u=(this.count*this.getY()+n)/a,f=(this.count*this.estimatedModuleSize+o)/a;return new Fa(c,u,f,a)}}class N0{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let R0=(()=>{class m{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){let o=i!=null&&i.get(oe.TRY_HARDER)!==void 0,a=i!=null&&i.get(oe.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),f=c.getWidth(),h=Math.floor(3*u/(4*m.MAX_MODULES));(h<m.MIN_SKIP||o)&&(h=m.MIN_SKIP);let g=!1,w=new Int32Array(5);for(let I=h-1;I<u&&!g;I+=h){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let A=0;for(let b=0;b<f;b++)if(c.get(b,I))(A&1)===1&&A++,w[A]++;else if(A&1)w[A]++;else if(A===4)if(m.foundPatternCross(w)){if(this.handlePossibleCenter(w,I,b,a)===!0)if(h=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{let M=this.findRowSkip();M>w[2]&&(I+=M-w[2]-h,b=f-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,A=3;continue}A=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,A=3;else w[++A]++;m.foundPatternCross(w)&&this.handlePossibleCenter(w,I,f,a)===!0&&(h=w[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}let E=this.selectBestPatterns();return X.orderBestPatterns(E),new N0(E)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let u=0;u<5;u++){let f=i[u];if(f===0)return!1;o+=f}if(o<7)return!1;let a=o/7,c=a/2;return Math.abs(a-i[0])<c&&Math.abs(a-i[1])<c&&Math.abs(3*a-i[2])<3*c&&Math.abs(a-i[3])<c&&Math.abs(a-i[4])<c}getCrossCheckStateCount(){let i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,a,c){let u=this.getCrossCheckStateCount(),f=0,h=this.image;for(;i>=f&&o>=f&&h.get(o-f,i-f);)u[2]++,f++;if(i<f||o<f)return!1;for(;i>=f&&o>=f&&!h.get(o-f,i-f)&&u[1]<=a;)u[1]++,f++;if(i<f||o<f||u[1]>a)return!1;for(;i>=f&&o>=f&&h.get(o-f,i-f)&&u[0]<=a;)u[0]++,f++;if(u[0]>a)return!1;let g=h.getHeight(),w=h.getWidth();for(f=1;i+f<g&&o+f<w&&h.get(o+f,i+f);)u[2]++,f++;if(i+f>=g||o+f>=w)return!1;for(;i+f<g&&o+f<w&&!h.get(o+f,i+f)&&u[3]<a;)u[3]++,f++;if(i+f>=g||o+f>=w||u[3]>=a)return!1;for(;i+f<g&&o+f<w&&h.get(o+f,i+f)&&u[4]<a;)u[4]++,f++;if(u[4]>=a)return!1;let E=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(E-c)<2*c&&m.foundPatternCross(u)}crossCheckVertical(i,o,a,c){let u=this.image,f=u.getHeight(),h=this.getCrossCheckStateCount(),g=i;for(;g>=0&&u.get(o,g);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(o,g)&&h[1]<=a;)h[1]++,g--;if(g<0||h[1]>a)return NaN;for(;g>=0&&u.get(o,g)&&h[0]<=a;)h[0]++,g--;if(h[0]>a)return NaN;for(g=i+1;g<f&&u.get(o,g);)h[2]++,g++;if(g===f)return NaN;for(;g<f&&!u.get(o,g)&&h[3]<a;)h[3]++,g++;if(g===f||h[3]>=a)return NaN;for(;g<f&&u.get(o,g)&&h[4]<a;)h[4]++,g++;if(h[4]>=a)return NaN;let w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-c)>=2*c?NaN:m.foundPatternCross(h)?m.centerFromEnd(h,g):NaN}crossCheckHorizontal(i,o,a,c){let u=this.image,f=u.getWidth(),h=this.getCrossCheckStateCount(),g=i;for(;g>=0&&u.get(g,o);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(g,o)&&h[1]<=a;)h[1]++,g--;if(g<0||h[1]>a)return NaN;for(;g>=0&&u.get(g,o)&&h[0]<=a;)h[0]++,g--;if(h[0]>a)return NaN;for(g=i+1;g<f&&u.get(g,o);)h[2]++,g++;if(g===f)return NaN;for(;g<f&&!u.get(g,o)&&h[3]<a;)h[3]++,g++;if(g===f||h[3]>=a)return NaN;for(;g<f&&u.get(g,o)&&h[4]<a;)h[4]++,g++;if(h[4]>=a)return NaN;let w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-c)>=c?NaN:m.foundPatternCross(h)?m.centerFromEnd(h,g):NaN}handlePossibleCenter(i,o,a,c){let u=i[0]+i[1]+i[2]+i[3]+i[4],f=m.centerFromEnd(i,a),h=this.crossCheckVertical(o,Math.floor(f),i[2],u);if(!isNaN(h)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(h),i[2],u),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(h),Math.floor(f),i[2],u)))){let g=u/7,w=!1,E=this.possibleCenters;for(let I=0,A=E.length;I<A;I++){let b=E[I];if(b.aboutEquals(g,h,f)){E[I]=b.combineEstimate(h,f,g),w=!0;break}}if(!w){let I=new Fa(f,h,g);E.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(let a of this.possibleCenters)if(a.getCount()>=m.CENTER_QUORUM)if(o==null)o=a;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-a.getX())-Math.abs(o.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0,a=this.possibleCenters.length;for(let f of this.possibleCenters)f.getCount()>=m.CENTER_QUORUM&&(i++,o+=f.getEstimatedModuleSize());if(i<3)return!1;let c=o/a,u=0;for(let f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-c);return u<=.05*o}selectBestPatterns(){let i=this.possibleCenters.length;if(i<3)throw new P;let o=this.possibleCenters,a;if(i>3){let c=0,u=0;for(let g of this.possibleCenters){let w=g.getEstimatedModuleSize();c+=w,u+=w*w}a=c/i;let f=Math.sqrt(u/i-a*a);o.sort((g,w)=>{let E=Math.abs(w.getEstimatedModuleSize()-a),I=Math.abs(g.getEstimatedModuleSize()-a);return E<I?-1:E>I?1:0});let h=Math.max(.2*a,f);for(let g=0;g<o.length&&o.length>3;g++){let w=o[g];Math.abs(w.getEstimatedModuleSize()-a)>h&&(o.splice(g,1),g--)}}if(o.length>3){let c=0;for(let u of o)c+=u.getEstimatedModuleSize();a=c/o.length,o.sort((u,f)=>{if(f.getCount()===u.getCount()){let h=Math.abs(f.getEstimatedModuleSize()-a),g=Math.abs(u.getEstimatedModuleSize()-a);return h<g?1:h>g?-1:0}else return f.getCount()-u.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}return m.CENTER_QUORUM=2,m.MIN_SKIP=3,m.MAX_MODULES=57,m})();class vi{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(oe.NEED_RESULT_POINT_CALLBACK);let o=new R0(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){let i=n.getTopLeft(),o=n.getTopRight(),a=n.getBottomLeft(),c=this.calculateModuleSize(i,o,a);if(c<1)throw new P("No pattern found in proccess finder.");let u=vi.computeDimension(i,o,a,c),f=Q.getProvisionalVersionForDimension(u),h=f.getDimensionForVersion()-7,g=null;if(f.getAlignmentPatternCenters().length>0){let A=o.getX()-i.getX()+a.getX(),b=o.getY()-i.getY()+a.getY(),T=1-3/h,M=Math.floor(i.getX()+T*(A-i.getX())),N=Math.floor(i.getY()+T*(b-i.getY()));for(let k=4;k<=16;k<<=1)try{g=this.findAlignmentInRegion(c,M,N,k);break}catch(G){if(!(G instanceof P))throw G}}let w=vi.createTransform(i,o,a,g,u),E=vi.sampleGrid(this.image,w,u),I;return g===null?I=[a,i,o]:I=[a,i,o,g],new bo(E,I)}static createTransform(n,i,o,a,c){let u=c-3.5,f,h,g,w;return a!==null?(f=a.getX(),h=a.getY(),g=u-3,w=g):(f=i.getX()-n.getX()+o.getX(),h=i.getY()-n.getY()+o.getY(),g=u,w=u),Jt.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,w,3.5,u,n.getX(),n.getY(),i.getX(),i.getY(),f,h,o.getX(),o.getY())}static sampleGrid(n,i,o){return Bn.getInstance().sampleGridWithTransform(n,o,o,i)}static computeDimension(n,i,o,a){let c=be.round(X.distance(n,i)/a),u=be.round(X.distance(n,o)/a),f=Math.floor((c+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new P("Dimensions could be not found.")}return f}calculateModuleSize(n,i,o){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,i){let o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?a/7:isNaN(a)?o/7:(o+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,o,a){let c=this.sizeOfBlackWhiteBlackRun(n,i,o,a),u=1,f=n-(o-n);f<0?(u=n/(n-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-n)/(f-n),f=this.image.getWidth()-1);let h=Math.floor(i-(a-i)*u);return u=1,h<0?(u=i/(i-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-i)/(h-i),h=this.image.getHeight()-1),f=Math.floor(n+(f-n)*u),c+=this.sizeOfBlackWhiteBlackRun(n,i,f,h),c-1}sizeOfBlackWhiteBlackRun(n,i,o,a){let c=Math.abs(a-i)>Math.abs(o-n);if(c){let A=n;n=i,i=A,A=o,o=a,a=A}let u=Math.abs(o-n),f=Math.abs(a-i),h=-u/2,g=n<o?1:-1,w=i<a?1:-1,E=0,I=o+g;for(let A=n,b=i;A!==I;A+=g){let T=c?b:A,M=c?A:b;if(E===1===this.image.get(T,M)){if(E===2)return be.distance(A,b,n,i);E++}if(h+=f,h>0){if(b===a)break;b+=w,h-=u}}return E===2?be.distance(o+g,a,n,i):NaN}findAlignmentInRegion(n,i,o,a){let c=Math.floor(a*n),u=Math.max(0,i-c),f=Math.min(this.image.getWidth()-1,i+c);if(f-u<n*3)throw new P("Alignment top exceeds estimated module size.");let h=Math.max(0,o-c),g=Math.min(this.image.getHeight()-1,o+c);if(g-h<n*3)throw new P("Alignment bottom exceeds estimated module size.");return new Lo(this.image,u,h,f-u,g-h,n,this.resultPointCallback).find()}}class Hn{constructor(){this.decoder=new _0}getDecoder(){return this.decoder}decode(n,i){let o,a;if(i!=null&&i.get(oe.PURE_BARCODE)!==void 0){let h=Hn.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(h,i),a=Hn.NO_POINTS}else{let h=new vi(n.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(h.getBits(),i),a=h.getPoints()}o.getOther()instanceof ld&&o.getOther().applyMirroredCorrection(a);let c=new vt(o.getText(),o.getRawBytes(),void 0,a,ee.QR_CODE,void 0),u=o.getByteSegments();u!==null&&c.putMetadata(st.BYTE_SEGMENTS,u);let f=o.getECLevel();return f!==null&&c.putMetadata(st.ERROR_CORRECTION_LEVEL,f),o.hasStructuredAppend()&&(c.putMetadata(st.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(st.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(n){let i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i===null||o===null)throw new P;let a=this.moduleSize(i,n),c=i[1],u=o[1],f=i[0],h=o[0];if(f>=h||c>=u)throw new P;if(u-c!==h-f&&(h=f+(u-c),h>=n.getWidth()))throw new P;let g=Math.round((h-f+1)/a),w=Math.round((u-c+1)/a);if(g<=0||w<=0)throw new P;if(w!==g)throw new P;let E=Math.floor(a/2);c+=E,f+=E;let I=f+Math.floor((g-1)*a)-h;if(I>0){if(I>E)throw new P;f-=I}let A=c+Math.floor((w-1)*a)-u;if(A>0){if(A>E)throw new P;c-=A}let b=new it(g,w);for(let T=0;T<w;T++){let M=c+Math.floor(T*a);for(let N=0;N<g;N++)n.get(f+Math.floor(N*a),M)&&b.set(N,T)}return b}static moduleSize(n,i){let o=i.getHeight(),a=i.getWidth(),c=n[0],u=n[1],f=!0,h=0;for(;c<a&&u<o;){if(f!==i.get(c,u)){if(++h===5)break;f=!f}c++,u++}if(c===a||u===o)throw new P;return(c-n[0])/7}}Hn.NO_POINTS=new Array;class ne{PDF417Common(){}static getBitCountSum(n){return be.sum(n)}static toIntArray(n){if(n==null||!n.length)return ne.EMPTY_INT_ARRAY;let i=new Int32Array(n.length),o=0;for(let a of n)i[o++]=a;return i}static getCodeword(n){let i=q.binarySearch(ne.SYMBOL_TABLE,n&262143);return i<0?-1:(ne.CODEWORD_TABLE[i]-1)%ne.NUMBER_OF_CODEWORDS}}ne.NUMBER_OF_CODEWORDS=929,ne.MAX_CODEWORDS_IN_BARCODE=ne.NUMBER_OF_CODEWORDS-1,ne.MIN_ROWS_IN_BARCODE=3,ne.MAX_ROWS_IN_BARCODE=90,ne.MODULES_IN_CODEWORD=17,ne.MODULES_IN_STOP_PATTERN=18,ne.BARS_IN_MODULE=8,ne.EMPTY_INT_ARRAY=new Int32Array([]),ne.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ne.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class O0{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ge{static detectMultiple(n,i,o){let a=n.getBlackMatrix(),c=ge.detect(o,a);return c.length||(a=a.clone(),a.rotate180(),c=ge.detect(o,a)),new O0(a,c)}static detect(n,i){let o=new Array,a=0,c=0,u=!1;for(;a<i.getHeight();){let f=ge.findVertices(i,a,c);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,c=0;for(let h of o)h[1]!=null&&(a=Math.trunc(Math.max(a,h[1].getY()))),h[3]!=null&&(a=Math.max(a,Math.trunc(h[3].getY())));a+=ge.ROW_STEP;continue}if(u=!0,o.push(f),!n)break;f[2]!=null?(c=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(c=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return o}static findVertices(n,i,o){let a=n.getHeight(),c=n.getWidth(),u=new Array(8);return ge.copyToResult(u,ge.findRowsWithPattern(n,a,c,i,o,ge.START_PATTERN),ge.INDEXES_START_PATTERN),u[4]!=null&&(o=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY())),ge.copyToResult(u,ge.findRowsWithPattern(n,a,c,i,o,ge.STOP_PATTERN),ge.INDEXES_STOP_PATTERN),u}static copyToResult(n,i,o){for(let a=0;a<o.length;a++)n[o[a]]=i[a]}static findRowsWithPattern(n,i,o,a,c,u){let f=new Array(4),h=!1,g=new Int32Array(u.length);for(;a<i;a+=ge.ROW_STEP){let E=ge.findGuardPattern(n,c,a,o,!1,u,g);if(E!=null){for(;a>0;){let I=ge.findGuardPattern(n,c,--a,o,!1,u,g);if(I!=null)E=I;else{a++;break}}f[0]=new X(E[0],a),f[1]=new X(E[1],a),h=!0;break}}let w=a+1;if(h){let E=0,I=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;w<i;w++){let A=ge.findGuardPattern(n,I[0],w,o,!1,u,g);if(A!=null&&Math.abs(I[0]-A[0])<ge.MAX_PATTERN_DRIFT&&Math.abs(I[1]-A[1])<ge.MAX_PATTERN_DRIFT)I=A,E=0;else{if(E>ge.SKIPPED_ROW_COUNT_MAX)break;E++}}w-=E+1,f[2]=new X(I[0],w),f[3]=new X(I[1],w)}return w-a<ge.BARCODE_MIN_HEIGHT&&q.fill(f,null),f}static findGuardPattern(n,i,o,a,c,u,f){q.fillWithin(f,0,f.length,0);let h=i,g=0;for(;n.get(h,o)&&h>0&&g++<ge.MAX_PIXEL_DRIFT;)h--;let w=h,E=0,I=u.length;for(let A=c;w<a;w++)if(n.get(w,o)!==A)f[E]++;else{if(E===I-1){if(ge.patternMatchVariance(f,u,ge.MAX_INDIVIDUAL_VARIANCE)<ge.MAX_AVG_VARIANCE)return new Int32Array([h,w]);h+=f[0]+f[1],L.arraycopy(f,2,f,0,E-1),f[E-1]=0,f[E]=0,E--}else E++;f[E]=1,A=!A}return E===I-1&&ge.patternMatchVariance(f,u,ge.MAX_INDIVIDUAL_VARIANCE)<ge.MAX_AVG_VARIANCE?new Int32Array([h,w-1]):null}static patternMatchVariance(n,i,o){let a=n.length,c=0,u=0;for(let g=0;g<a;g++)c+=n[g],u+=i[g];if(c<u)return 1/0;let f=c/u;o*=f;let h=0;for(let g=0;g<a;g++){let w=n[g],E=i[g]*f,I=w>E?w-E:E-w;if(I>o)return 1/0;h+=I}return h/c}}ge.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ge.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ge.MAX_AVG_VARIANCE=.42,ge.MAX_INDIVIDUAL_VARIANCE=.8,ge.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ge.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ge.MAX_PIXEL_DRIFT=3,ge.MAX_PATTERN_DRIFT=5,ge.SKIPPED_ROW_COUNT_MAX=25,ge.ROW_STEP=5,ge.BARCODE_MIN_HEIGHT=10;class dt{constructor(n,i){if(i.length===0)throw new y;this.field=n;let o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-a),L.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let c of this.coefficients)a=this.field.add(a,c);return a}let i=this.coefficients[0],o=this.coefficients.length;for(let a=1;a<o;a++)i=this.field.add(this.field.multiply(n,i),this.coefficients[a]);return i}add(n){if(!this.field.equals(n.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){let u=i;i=o,o=u}let a=new Int32Array(o.length),c=o.length-i.length;L.arraycopy(o,0,a,0,c);for(let u=c;u<o.length;u++)a[u]=this.field.add(i[u-c],o[u]);return new dt(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new y("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof dt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new dt(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,a=n.coefficients,c=a.length,u=new Int32Array(o+c-1);for(let f=0;f<o;f++){let h=i[f];for(let g=0;g<c;g++)u[f+g]=this.field.add(u[f+g],this.field.multiply(h,a[g]))}return new dt(this.field,u)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new dt(this.field,i)}multiplyScalar(n){if(n===0)return new dt(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],n);return new dt(this.field,o)}multiplyByMonomial(n,i){if(n<0)throw new y;if(i===0)return new dt(this.field,new Int32Array([0]));let o=this.coefficients.length,a=new Int32Array(o+n);for(let c=0;c<o;c++)a[c]=this.field.multiply(this.coefficients[c],i);return new dt(this.field,a)}toString(){let n=new ke;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(i===0||o!==1)&&n.append(o),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class L0{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new y;return this.logTable[n]}inverse(n){if(n===0)throw new Ia;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class ka extends L0{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let a=0;a<n;a++)this.expTable[a]=o,o=o*i%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new dt(this,new Int32Array([0])),this.one=new dt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new y;if(i===0)return this.zero;let o=new Int32Array(n+1);return o[0]=i,new dt(this,o)}}ka.PDF417_GF=new ka(ne.NUMBER_OF_CODEWORDS,3);class ud{constructor(){this.field=ka.PDF417_GF}decode(n,i,o){let a=new dt(this.field,n),c=new Int32Array(i),u=!1;for(let b=i;b>0;b--){let T=a.evaluateAt(this.field.exp(b));c[i-b]=T,T!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(o!=null)for(let b of o){let T=this.field.exp(n.length-1-b),M=new dt(this.field,new Int32Array([this.field.subtract(0,T),1]));f=f.multiply(M)}let h=new dt(this.field,c),g=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),h,i),w=g[0],E=g[1],I=this.findErrorLocations(w),A=this.findErrorMagnitudes(E,w,I);for(let b=0;b<I.length;b++){let T=n.length-1-this.field.log(I[b]);if(T<0)throw S.getChecksumInstance();n[T]=this.field.subtract(n[T],A[b])}return I.length}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){let I=n;n=i,i=I}let a=n,c=i,u=this.field.getZero(),f=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let I=a,A=u;if(a=c,u=f,a.isZero())throw S.getChecksumInstance();c=I;let b=this.field.getZero(),T=a.getCoefficient(a.getDegree()),M=this.field.inverse(T);for(;c.getDegree()>=a.getDegree()&&!c.isZero();){let N=c.getDegree()-a.getDegree(),k=this.field.multiply(c.getCoefficient(c.getDegree()),M);b=b.add(this.field.buildMonomial(N,k)),c=c.subtract(a.multiplyByMonomial(N,k))}f=b.multiply(u).subtract(A).negative()}let h=f.getCoefficient(0);if(h===0)throw S.getChecksumInstance();let g=this.field.inverse(h),w=f.multiply(g),E=c.multiply(g);return[w,E]}findErrorLocations(n){let i=n.getDegree(),o=new Int32Array(i),a=0;for(let c=1;c<this.field.getSize()&&a<i;c++)n.evaluateAt(c)===0&&(o[a]=this.field.inverse(c),a++);if(a!==i)throw S.getChecksumInstance();return o}findErrorMagnitudes(n,i,o){let a=i.getDegree(),c=new Int32Array(a);for(let g=1;g<=a;g++)c[a-g]=this.field.multiply(g,i.getCoefficient(g));let u=new dt(this.field,c),f=o.length,h=new Int32Array(f);for(let g=0;g<f;g++){let w=this.field.inverse(o[g]),E=this.field.subtract(0,n.evaluateAt(w)),I=this.field.inverse(u.evaluateAt(w));h[g]=this.field.multiply(E,I)}return h}}class sr{constructor(n,i,o,a,c){n instanceof sr?this.constructor_2(n):this.constructor_1(n,i,o,a,c)}constructor_1(n,i,o,a,c){let u=i==null||o==null,f=a==null||c==null;if(u&&f)throw new P;u?(i=new X(0,a.getY()),o=new X(0,c.getY())):f&&(a=new X(n.getWidth()-1,i.getY()),c=new X(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=i,this.bottomLeft=o,this.topRight=a,this.bottomRight=c,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(a.getX(),c.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new sr(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,o){let a=this.topLeft,c=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(n>0){let h=o?this.topLeft:this.topRight,g=Math.trunc(h.getY()-n);g<0&&(g=0);let w=new X(h.getX(),g);o?a=w:u=w}if(i>0){let h=o?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+i);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let w=new X(h.getX(),g);o?c=w:f=w}return new sr(this.image,a,c,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class P0{constructor(n,i,o,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Di{constructor(){this.buffer=""}static form(n,i){let o=-1;function a(u,f,h,g,w,E){if(u==="%%")return"%";if(i[++o]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let I=w?parseInt(w.substr(1)):void 0,A;switch(E){case"s":A=i[o];break;case"c":A=i[o][0];break;case"f":A=parseFloat(i[o]).toFixed(u);break;case"p":A=parseFloat(i[o]).toPrecision(u);break;case"e":A=parseFloat(i[o]).toExponential(u);break;case"x":A=parseInt(i[o]).toString(I||16);break;case"d":A=parseFloat(parseInt(i[o],I||10).toPrecision(u)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(I);let b=parseInt(h),T=h&&h[0]+""=="0"?"0":" ";for(;A.length<b;)A=f!==void 0?A+T:T+A;return A}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,a)}format(n,...i){this.buffer+=Di.form(n,i)}toString(){return this.buffer}}let dd=(()=>{class m{constructor(i){this.boundingBox=new sr(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let a=1;a<m.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(i)-a;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(i)+a,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let i=new Di,o=0;for(let a of this.codewords){if(a==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,a.getRowNumber(),a.getValue())}return i.toString()}}return m.MAX_NEARBY_DISTANCE=5,m})();class Ai{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(let[o,a]of this.values.entries()){let c={getKey:()=>o,getValue:()=>a};c.getValue()>n?(n=c.getValue(),i=[],i.push(c.getKey())):c.getValue()===n&&i.push(c.getKey())}return ne.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class fd extends dd{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=-1,g=1,w=0;for(let E=u;E<f;E++){if(i[E]==null)continue;let I=i[E],A=I.getRowNumber()-h;if(A===0)w++;else if(A===1)g=Math.max(g,w),w=1,h=I.getRowNumber();else if(A<0||I.getRowNumber()>=n.getRowCount()||A>E)i[E]=null;else{let b;g>2?b=(g-2)*A:b=A;let T=b>=E;for(let M=1;M<=b&&!T;M++)T=i[E-M]!=null;T?i[E]=null:(h=I.getRowNumber(),w=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),h=-1;for(let g=c;g<u;g++){if(f[g]==null)continue;let w=f[g];w.setRowNumberAsRowIndicatorColumn();let E=w.getRowNumber()-h;E===0||(E===1?h=w.getRowNumber():w.getRowNumber()>=n.getRowCount()?f[g]=null:h=w.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new Ai,o=new Ai,a=new Ai,c=new Ai;for(let f of n){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:o.setValue(h*3+1);break;case 1:c.setValue(h/3),a.setValue(h%3);break;case 2:i.setValue(h+1);break}}if(i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+a.getValue()[0]<ne.MIN_ROWS_IN_BARCODE||o.getValue()[0]+a.getValue()[0]>ne.MAX_ROWS_IN_BARCODE)return null;let u=new P0(i.getValue()[0],o.getValue()[0],a.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(n,u),u}removeIncorrectCodewords(n,i){for(let o=0;o<n.length;o++){let a=n[o];if(n[o]==null)continue;let c=a.getValue()%30,u=a.getRowNumber();if(u>i.getRowCount()){n[o]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:c*3+1!==i.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(c/3)!==i.getErrorCorrectionLevel()||c%3!==i.getRowCountLowerPart())&&(n[o]=null);break;case 2:c+1!==i.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Si{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=ne.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let a=0;a<o.length;a++)o[a]!=null&&(o[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&i[o]!=null&&n[o].getRowNumber()===i[o].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let c=this.detectionResultColumns[a].getCodewords()[o];c!=null&&(c.setRowNumber(n[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),c=0;for(let u=this.barcodeColumnCount+1;u>0&&c<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[o];f!=null&&(c=Si.adjustRowNumberIfValid(a,c,f),f.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),c=0;for(let u=1;u<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[o];f!=null&&(c=Si.adjustRowNumberIfValid(a,c,f),f.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,o){if(!this.detectionResultColumns[n-1])return;let a=o[i],c=this.detectionResultColumns[n-1].getCodewords(),u=c;this.detectionResultColumns[n+1]!=null&&(u=this.detectionResultColumns[n+1].getCodewords());let f=new Array(14);f[2]=c[i],f[3]=u[i],i>0&&(f[0]=o[i-1],f[4]=c[i-1],f[5]=u[i-1]),i>1&&(f[8]=o[i-2],f[10]=c[i-2],f[11]=u[i-2]),i<o.length-1&&(f[1]=o[i+1],f[6]=c[i+1],f[7]=u[i+1]),i<o.length-2&&(f[9]=o[i+2],f[12]=c[i+2],f[13]=u[i+2]);for(let h of f)if(Si.adjustRowNumber(a,h))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Di;for(let o=0;o<n.getCodewords().length;o++){i.format("CW %3d:",o);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let c=this.detectionResultColumns[a].getCodewords()[o];if(c==null){i.format("    |   ");continue}i.format(" %3d|%3d",c.getRowNumber(),c.getValue())}i.format("%n")}return i.toString()}}let F0=(()=>{class m{constructor(i,o,a,c){this.rowNumber=m.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==m.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}return m.BARCODE_ROW_UNKNOWN=-1,m})();class Tt{static initialize(){for(let n=0;n<ne.SYMBOL_TABLE.length;n++){let i=ne.SYMBOL_TABLE[n],o=i&1;for(let a=0;a<ne.BARS_IN_MODULE;a++){let c=0;for(;(i&1)===o;)c+=1,i>>=1;o=i&1,Tt.RATIOS_TABLE[n]||(Tt.RATIOS_TABLE[n]=new Array(ne.BARS_IN_MODULE)),Tt.RATIOS_TABLE[n][ne.BARS_IN_MODULE-a-1]=Math.fround(c/ne.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=Tt.getDecodedCodewordValue(Tt.sampleBitCounts(n));return i!==-1?i:Tt.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=be.sum(n),o=new Int32Array(ne.BARS_IN_MODULE),a=0,c=0;for(let u=0;u<ne.MODULES_IN_CODEWORD;u++){let f=i/(2*ne.MODULES_IN_CODEWORD)+u*i/ne.MODULES_IN_CODEWORD;c+n[a]<=f&&(c+=n[a],a++),o[a]++}return o}static getDecodedCodewordValue(n){let i=Tt.getBitValue(n);return ne.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let o=0;o<n.length;o++)for(let a=0;a<n[o];a++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=be.sum(n),o=new Array(ne.BARS_IN_MODULE);if(i>1)for(let u=0;u<o.length;u++)o[u]=Math.fround(n[u]/i);let a=So.MAX_VALUE,c=-1;this.bSymbolTableReady||Tt.initialize();for(let u=0;u<Tt.RATIOS_TABLE.length;u++){let f=0,h=Tt.RATIOS_TABLE[u];for(let g=0;g<ne.BARS_IN_MODULE;g++){let w=Math.fround(h[g]-o[g]);if(f+=Math.fround(w*w),f>=a)break}f<a&&(a=f,c=ne.SYMBOL_TABLE[u])}return c}}Tt.bSymbolTableReady=!1,Tt.RATIOS_TABLE=new Array(ne.SYMBOL_TABLE.length).map(m=>m=new Array(ne.BARS_IN_MODULE));class hd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class pd{static parseLong(n,i=void 0){return parseInt(n,i)}}let k0=(()=>{class m extends x{}return m.kind="NullPointerException",m})();class B0{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,o){if(n==null)throw new k0;if(i<0||i>n.length||o<0||i+o>n.length||i+o<0)throw new Y;if(o===0)return;for(let a=0;a<o;a++)this.write(n[i+a])}flush(){}close(){}}class U0 extends x{}class j0 extends B0{constructor(n=32){if(super(),this.count=0,n<0)throw new y("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new U0;o=H.MAX_VALUE}this.buf=q.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,o){if(i<0||i>n.length||o<0||i+o-n.length>0)throw new Y;this.ensureCapacity(this.count+o),L.arraycopy(n,i,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var je=function(m){return m[m.ALPHA=0]="ALPHA",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.PUNCT=3]="PUNCT",m[m.ALPHA_SHIFT=4]="ALPHA_SHIFT",m[m.PUNCT_SHIFT=5]="PUNCT_SHIFT",m}(je||{});function gd(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Po;function zn(m){if(typeof Po>"u"&&(Po=gd()),Po===null)throw new Error("BigInt is not supported!");return Po(m)}function V0(){let m=[];m[0]=zn(1);let n=zn(900);m[1]=n;for(let i=2;i<16;i++)m[i]=m[i-1]*n;return m}class R{static decode(n,i){let o=new ke(""),a=U.ISO8859_1;o.enableDecoding(a);let c=1,u=n[c++],f=new hd;for(;c<n[0];){switch(u){case R.TEXT_COMPACTION_MODE_LATCH:c=R.textCompaction(n,c,o);break;case R.BYTE_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:c=R.byteCompaction(u,n,a,c,o);break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[c++]);break;case R.NUMERIC_COMPACTION_MODE_LATCH:c=R.numericCompaction(n,c,o);break;case R.ECI_CHARSET:let g=U.getCharacterSetECIByValue(n[c++]);break;case R.ECI_GENERAL_PURPOSE:c+=2;break;case R.ECI_USER_DEFINED:c++;break;case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=R.decodeMacroBlock(n,c,f);break;case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:throw new B;default:c--,c=R.textCompaction(n,c,o);break}if(c<n.length)u=n[c++];else throw B.getFormatInstance()}if(o.length()===0)throw B.getFormatInstance();let h=new yi(null,o.toString(),null,i);return h.setOther(f),h}static decodeMacroBlock(n,i,o){if(i+R.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw B.getFormatInstance();let a=new Int32Array(R.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<R.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)a[f]=n[i];o.setSegmentIndex(H.parseInt(R.decodeBase900toBase10(a,R.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new ke;i=R.textCompaction(n,i,c),o.setFileId(c.toString());let u=-1;for(n[i]===R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=i+1);i<n[0];)switch(n[i]){case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case R.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new ke;i=R.textCompaction(n,i+1,f),o.setFileName(f.toString());break;case R.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new ke;i=R.textCompaction(n,i+1,h),o.setSender(h.toString());break;case R.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new ke;i=R.textCompaction(n,i+1,g),o.setAddressee(g.toString());break;case R.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new ke;i=R.numericCompaction(n,i+1,w),o.setSegmentCount(H.parseInt(w.toString()));break;case R.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new ke;i=R.numericCompaction(n,i+1,E),o.setTimestamp(pd.parseLong(E.toString()));break;case R.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new ke;i=R.numericCompaction(n,i+1,I),o.setChecksum(H.parseInt(I.toString()));break;case R.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let A=new ke;i=R.numericCompaction(n,i+1,A),o.setFileSize(pd.parseLong(A.toString()));break;default:throw B.getFormatInstance()}break;case R.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(u!==-1){let f=i-u;o.isLastSegment()&&f--,o.setOptionalData(q.copyOfRange(n,u,u+f))}return i}static textCompaction(n,i,o){let a=new Int32Array((n[0]-i)*2),c=new Int32Array((n[0]-i)*2),u=0,f=!1;for(;i<n[0]&&!f;){let h=n[i++];if(h<R.TEXT_COMPACTION_MODE_LATCH)a[u]=h/30,a[u+1]=h%30,u+=2;else switch(h){case R.TEXT_COMPACTION_MODE_LATCH:a[u++]=R.TEXT_COMPACTION_MODE_LATCH;break;case R.BYTE_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:case R.NUMERIC_COMPACTION_MODE_LATCH:case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[u]=R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[i++],c[u]=h,u++;break}}return R.decodeTextCompaction(a,c,u,o),i}static decodeTextCompaction(n,i,o,a){let c=je.ALPHA,u=je.ALPHA,f=0;for(;f<o;){let h=n[f],g="";switch(c){case je.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case R.LL:c=je.LOWER;break;case R.ML:c=je.MIXED;break;case R.PS:u=c,c=je.PUNCT_SHIFT;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:c=je.ALPHA;break}break;case je.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case R.AS:u=c,c=je.ALPHA_SHIFT;break;case R.ML:c=je.MIXED;break;case R.PS:u=c,c=je.PUNCT_SHIFT;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:c=je.ALPHA;break}break;case je.MIXED:if(h<R.PL)g=R.MIXED_CHARS[h];else switch(h){case R.PL:c=je.PUNCT;break;case 26:g=" ";break;case R.LL:c=je.LOWER;break;case R.AL:c=je.ALPHA;break;case R.PS:u=c,c=je.PUNCT_SHIFT;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:c=je.ALPHA;break}break;case je.PUNCT:if(h<R.PAL)g=R.PUNCT_CHARS[h];else switch(h){case R.PAL:c=je.ALPHA;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:c=je.ALPHA;break}break;case je.ALPHA_SHIFT:if(c=u,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case R.TEXT_COMPACTION_MODE_LATCH:c=je.ALPHA;break}break;case je.PUNCT_SHIFT:if(c=u,h<R.PAL)g=R.PUNCT_CHARS[h];else switch(h){case R.PAL:c=je.ALPHA;break;case R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case R.TEXT_COMPACTION_MODE_LATCH:c=je.ALPHA;break}break}g!==""&&a.append(g),f++}}static byteCompaction(n,i,o,a,c){let u=new j0,f=0,h=0,g=!1;switch(n){case R.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),E=i[a++];for(;a<i[0]&&!g;)switch(w[f++]=E,h=900*h+E,E=i[a++],E){case R.TEXT_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH:case R.NUMERIC_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:a--,g=!0;break;default:if(f%5===0&&f>0){for(let I=0;I<6;++I)u.write(Number(zn(h)>>zn(8*(5-I))));h=0,f=0}break}a===i[0]&&E<R.TEXT_COMPACTION_MODE_LATCH&&(w[f++]=E);for(let I=0;I<f;I++)u.write(w[I]);break;case R.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!g;){let I=i[a++];if(I<R.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+I;else switch(I){case R.TEXT_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH:case R.NUMERIC_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:a--,g=!0;break}if(f%5===0&&f>0){for(let A=0;A<6;++A)u.write(Number(zn(h)>>zn(8*(5-A))));h=0,f=0}}break}return c.append(xt.decode(u.toByteArray(),o)),a}static numericCompaction(n,i,o){let a=0,c=!1,u=new Int32Array(R.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!c;){let f=n[i++];if(i===n[0]&&(c=!0),f<R.TEXT_COMPACTION_MODE_LATCH)u[a]=f,a++;else switch(f){case R.TEXT_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH:case R.BYTE_COMPACTION_MODE_LATCH_6:case R.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case R.MACRO_PDF417_TERMINATOR:i--,c=!0;break}(a%R.MAX_NUMERIC_CODEWORDS===0||f===R.NUMERIC_COMPACTION_MODE_LATCH||c)&&a>0&&(o.append(R.decodeBase900toBase10(u,a)),a=0)}return i}static decodeBase900toBase10(n,i){let o=zn(0);for(let c=0;c<i;c++)o+=R.EXP900[i-c-1]*zn(n[c]);let a=o.toString();if(a.charAt(0)!=="1")throw new B;return a.substring(1)}}R.TEXT_COMPACTION_MODE_LATCH=900,R.BYTE_COMPACTION_MODE_LATCH=901,R.NUMERIC_COMPACTION_MODE_LATCH=902,R.BYTE_COMPACTION_MODE_LATCH_6=924,R.ECI_USER_DEFINED=925,R.ECI_GENERAL_PURPOSE=926,R.ECI_CHARSET=927,R.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,R.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,R.MACRO_PDF417_TERMINATOR=922,R.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,R.MAX_NUMERIC_CODEWORDS=15,R.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,R.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,R.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,R.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,R.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,R.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,R.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,R.PL=25,R.LL=27,R.AS=27,R.ML=28,R.AL=28,R.PS=29,R.PAL=29,R.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,R.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",R.EXP900=gd()?V0():[],R.NUMBER_OF_SEQUENCE_CODEWORDS=2;class me{constructor(){}static decode(n,i,o,a,c,u,f){let h=new sr(n,i,o,a,c),g=null,w=null,E;for(let b=!0;;b=!1){if(i!=null&&(g=me.getRowIndicatorColumn(n,h,i,!0,u,f)),a!=null&&(w=me.getRowIndicatorColumn(n,h,a,!1,u,f)),E=me.merge(g,w),E==null)throw P.getNotFoundInstance();let T=E.getBoundingBox();if(b&&T!=null&&(T.getMinY()<h.getMinY()||T.getMaxY()>h.getMaxY()))h=T;else break}E.setBoundingBox(h);let I=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,g),E.setDetectionResultColumn(I,w);let A=g!=null;for(let b=1;b<=I;b++){let T=A?b:I-b;if(E.getDetectionResultColumn(T)!==void 0)continue;let M;T===0||T===I?M=new fd(h,T===0):M=new dd(h),E.setDetectionResultColumn(T,M);let N=-1,k=N;for(let G=h.getMinY();G<=h.getMaxY();G++){if(N=me.getStartColumn(E,T,G,A),N<0||N>h.getMaxX()){if(k===-1)continue;N=k}let O=me.detectCodeword(n,h.getMinX(),h.getMaxX(),A,N,G,u,f);O!=null&&(M.setCodeword(G,O),k=N,u=Math.min(u,O.getWidth()),f=Math.max(f,O.getWidth()))}}return me.createDecoderResult(E)}static merge(n,i){if(n==null&&i==null)return null;let o=me.getBarcodeMetadata(n,i);if(o==null)return null;let a=sr.merge(me.adjustBoundingBox(n),me.adjustBoundingBox(i));return new Si(o,a)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let o=me.getMax(i),a=0;for(let f of i)if(a+=o-f,f>0)break;let c=n.getCodewords();for(let f=0;a>0&&c[f]==null;f++)a--;let u=0;for(let f=i.length-1;f>=0&&(u+=o-i[f],!(i[f]>0));f--);for(let f=c.length-1;u>0&&c[f]==null;f--)u--;return n.getBoundingBox().addMissingRows(a,u,n.isLeft())}static getMax(n){let i=-1;for(let o of n)i=Math.max(i,o);return i}static getBarcodeMetadata(n,i){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==a.getColumnCount()&&o.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&o.getRowCount()!==a.getRowCount()?null:o}static getRowIndicatorColumn(n,i,o,a,c,u){let f=new fd(i,a);for(let h=0;h<2;h++){let g=h===0?1:-1,w=Math.trunc(Math.trunc(o.getX()));for(let E=Math.trunc(Math.trunc(o.getY()));E<=i.getMaxY()&&E>=i.getMinY();E+=g){let I=me.detectCodeword(n,0,n.getWidth(),a,w,E,c,u);I!=null&&(f.setCodeword(E,I),a?w=I.getStartX():w=I.getEndX())}}return f}static adjustCodewordCount(n,i){let o=i[0][1],a=o.getValue(),c=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-me.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(c<1||c>ne.MAX_CODEWORDS_IN_BARCODE)throw P.getNotFoundInstance();o.setValue(c)}else a[0]!==c&&o.setValue(c)}static createDecoderResult(n){let i=me.createBarcodeMatrix(n);me.adjustCodewordCount(n,i);let o=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),c=[],u=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let g=0;g<n.getBarcodeColumnCount();g++){let w=i[h][g+1].getValue(),E=h*n.getBarcodeColumnCount()+g;w.length===0?o.push(E):w.length===1?a[E]=w[0]:(u.push(E),c.push(w))}let f=new Array(c.length);for(let h=0;h<f.length;h++)f[h]=c[h];return me.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,ne.toIntArray(o),ne.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(n,i,o,a,c){let u=new Int32Array(a.length),f=100;for(;f-- >0;){for(let h=0;h<u.length;h++)i[a[h]]=c[h][u[h]];try{return me.decodeCodewords(i,n,o)}catch(h){if(!(h instanceof S))throw h}if(u.length===0)throw S.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<c[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let c=0;c<i[a].length;c++)i[a][c]=new Ai;let o=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let c of a.getCodewords())if(c!=null){let u=c.getRowNumber();if(u>=0){if(u>=i.length)continue;i[u][o].setValue(c.getValue())}}}o++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,o,a){let c=a?1:-1,u=null;if(me.isValidBarcodeColumn(n,i-c)&&(u=n.getDetectionResultColumn(i-c).getCodeword(o)),u!=null)return a?u.getEndX():u.getStartX();if(u=n.getDetectionResultColumn(i).getCodewordNearby(o),u!=null)return a?u.getStartX():u.getEndX();if(me.isValidBarcodeColumn(n,i-c)&&(u=n.getDetectionResultColumn(i-c).getCodewordNearby(o)),u!=null)return a?u.getEndX():u.getStartX();let f=0;for(;me.isValidBarcodeColumn(n,i-c);){i-=c;for(let h of n.getDetectionResultColumn(i).getCodewords())if(h!=null)return(a?h.getEndX():h.getStartX())+c*f*(h.getEndX()-h.getStartX());f++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,o,a,c,u,f,h){c=me.adjustCodewordStartColumn(n,i,o,a,c,u);let g=me.getModuleBitCount(n,i,o,a,c,u);if(g==null)return null;let w,E=be.sum(g);if(a)w=c+E;else{for(let b=0;b<g.length/2;b++){let T=g[b];g[b]=g[g.length-1-b],g[g.length-1-b]=T}w=c,c=w-E}if(!me.checkCodewordSkew(E,f,h))return null;let I=Tt.getDecodedValue(g),A=ne.getCodeword(I);return A===-1?null:new F0(c,w,me.getCodewordBucketNumber(I),A)}static getModuleBitCount(n,i,o,a,c,u){let f=c,h=new Int32Array(8),g=0,w=a?1:-1,E=a;for(;(a?f<o:f>=i)&&g<h.length;)n.get(f,u)===E?(h[g]++,f+=w):(g++,E=!E);return g===h.length||f===(a?o:i)&&g===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,o,a,c,u){let f=c,h=a?-1:1;for(let g=0;g<2;g++){for(;(a?f>=i:f<o)&&a===n.get(f,u);){if(Math.abs(c-f)>me.CODEWORD_SKEW_SIZE)return c;f+=h}h=-h,a=!a}return f}static checkCodewordSkew(n,i,o){return i-me.CODEWORD_SKEW_SIZE<=n&&n<=o+me.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,o){if(n.length===0)throw B.getFormatInstance();let a=1<<i+1,c=me.correctErrors(n,o,a);me.verifyCodewordCount(n,a);let u=R.decode(n,""+i);return u.setErrorsCorrected(c),u.setErasures(o.length),u}static correctErrors(n,i,o){if(i!=null&&i.length>o/2+me.MAX_ERRORS||o<0||o>me.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return me.errorCorrection.decode(n,o,i)}static verifyCodewordCount(n,i){if(n.length<4)throw B.getFormatInstance();let o=n[0];if(o>n.length)throw B.getFormatInstance();if(o===0)if(i<n.length)n[0]=n.length-i;else throw B.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),o=0,a=i.length-1;for(;!((n&1)!==o&&(o=n&1,a--,a<0));)i[a]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return me.getCodewordBucketNumber(me.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new Di;for(let o=0;o<n.length;o++){i.format("Row %2d: ",o);for(let a=0;a<n[o].length;a++){let c=n[o][a];c.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}i.format("%n")}return i.toString()}}me.CODEWORD_SKEW_SIZE=2,me.MAX_ERRORS=3,me.MAX_EC_CODEWORDS=512,me.errorCorrection=new ud;class ft{decode(n,i=null){let o=ft.decode(n,i,!1);if(o==null||o.length===0||o[0]==null)throw P.getNotFoundInstance();return o[0]}decodeMultiple(n,i=null){try{return ft.decode(n,i,!0)}catch(o){throw o instanceof B||o instanceof S?P.getNotFoundInstance():o}}static decode(n,i,o){let a=new Array,c=ge.detectMultiple(n,i,o);for(let u of c.getPoints()){let f=me.decode(c.getBits(),u[4],u[5],u[6],u[7],ft.getMinCodewordWidth(u),ft.getMaxCodewordWidth(u)),h=new vt(f.getText(),f.getRawBytes(),void 0,u,ee.PDF_417);h.putMetadata(st.ERROR_CORRECTION_LEVEL,f.getECLevel());let g=f.getOther();g!=null&&h.putMetadata(st.PDF417_EXTRA_METADATA,g),a.push(h)}return a.map(u=>u)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?H.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(ft.getMaxWidth(n[0],n[4]),ft.getMaxWidth(n[6],n[2])*ne.MODULES_IN_CODEWORD/ne.MODULES_IN_STOP_PATTERN),Math.max(ft.getMaxWidth(n[1],n[5]),ft.getMaxWidth(n[7],n[3])*ne.MODULES_IN_CODEWORD/ne.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(ft.getMinWidth(n[0],n[4]),ft.getMinWidth(n[6],n[2])*ne.MODULES_IN_CODEWORD/ne.MODULES_IN_STOP_PATTERN),Math.min(ft.getMinWidth(n[1],n[5]),ft.getMinWidth(n[7],n[3])*ne.MODULES_IN_CODEWORD/ne.MODULES_IN_STOP_PATTERN)))}reset(){}}let Ba=(()=>{class m extends x{}return m.kind="ReaderException",m})();class md{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;let i=!t(n)&&n.get(oe.TRY_HARDER)===!0,o=t(n)?null:n.get(oe.POSSIBLE_FORMATS),a=new Array;if(!t(o)){let c=o.some(u=>u===ee.UPC_A||u===ee.UPC_E||u===ee.EAN_13||u===ee.EAN_8||u===ee.CODABAR||u===ee.CODE_39||u===ee.CODE_93||u===ee.CODE_128||u===ee.ITF||u===ee.RSS_14||u===ee.RSS_EXPANDED);c&&!i&&a.push(new Tr(n,this.verbose)),o.includes(ee.QR_CODE)&&a.push(new Hn),o.includes(ee.DATA_MATRIX)&&a.push(new Oo),o.includes(ee.AZTEC)&&a.push(new Mo),o.includes(ee.PDF_417)&&a.push(new ft),c&&i&&a.push(new Tr(n,this.verbose))}a.length===0&&(i||a.push(new Tr(n,this.verbose)),a.push(new Hn),a.push(new Oo),a.push(new Mo),a.push(new ft),i&&a.push(new Tr(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(let n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Ba("No readers where selected, nothing can be read.");for(let i of this.readers)try{return i.decode(n,this.hints)}catch(o){if(o instanceof Ba)continue}throw new P("No MultiFormat Readers were able to detect the code.")}}class H0 extends nr{constructor(n=null,i=500){let o=new md;o.setHints(n),super(o,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class z0 extends nr{constructor(n=500){super(new ft,n)}}class G0 extends nr{constructor(n=500){super(new Hn,n)}}var yd=function(m){return m[m.ERROR_CORRECTION=0]="ERROR_CORRECTION",m[m.CHARACTER_SET=1]="CHARACTER_SET",m[m.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",m[m.MIN_SIZE=3]="MIN_SIZE",m[m.MAX_SIZE=4]="MAX_SIZE",m[m.MARGIN=5]="MARGIN",m[m.PDF417_COMPACT=6]="PDF417_COMPACT",m[m.PDF417_COMPACTION=7]="PDF417_COMPACTION",m[m.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",m[m.AZTEC_LAYERS=9]="AZTEC_LAYERS",m[m.QR_VERSION=10]="QR_VERSION",m}(yd||{}),et=yd;class Ua{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new bt(n,Int32Array.from([1])))}buildGenerator(n){let i=this.cachedGenerators;if(n>=i.length){let o=i[i.length-1],a=this.field;for(let c=i.length;c<=n;c++){let u=o.multiply(new bt(a,Int32Array.from([1,a.exp(c-1+a.getGeneratorBase())])));i.push(u),o=u}}return i[n]}encode(n,i){if(i===0)throw new y("No error correction bytes");let o=n.length-i;if(o<=0)throw new y("No data bytes provided");let a=this.buildGenerator(i),c=new Int32Array(o);L.arraycopy(n,0,c,0,o);let u=new bt(this.field,c);u=u.multiplyByMonomial(i,1);let h=u.divide(a)[1].getCoefficients(),g=i-h.length;for(let w=0;w<g;w++)n[o+w]=0;L.arraycopy(h,0,n,o+g,h.length)}}let Mr=(()=>{class m{constructor(){}static applyMaskPenaltyRule1(i){return m.applyMaskPenaltyRule1Internal(i,!0)+m.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0,a=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let f=0;f<u-1;f++){let h=a[f];for(let g=0;g<c-1;g++){let w=h[g];w===h[g+1]&&w===a[f+1][g]&&w===a[f+1][g+1]&&o++}}return m.N2*o}static applyMaskPenaltyRule3(i){let o=0,a=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let f=0;f<u;f++)for(let h=0;h<c;h++){let g=a[f];h+6<c&&g[h]===1&&g[h+1]===0&&g[h+2]===1&&g[h+3]===1&&g[h+4]===1&&g[h+5]===0&&g[h+6]===1&&(m.isWhiteHorizontal(g,h-4,h)||m.isWhiteHorizontal(g,h+7,h+11))&&o++,f+6<u&&a[f][h]===1&&a[f+1][h]===0&&a[f+2][h]===1&&a[f+3][h]===1&&a[f+4][h]===1&&a[f+5][h]===0&&a[f+6][h]===1&&(m.isWhiteVertical(a,h,f-4,f)||m.isWhiteVertical(a,h,f+7,f+11))&&o++}return o*m.N3}static isWhiteHorizontal(i,o,a){o=Math.max(o,0),a=Math.min(a,i.length);for(let c=o;c<a;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,o,a,c){a=Math.max(a,0),c=Math.min(c,i.length);for(let u=a;u<c;u++)if(i[u][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0,a=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let g=0;g<u;g++){let w=a[g];for(let E=0;E<c;E++)w[E]===1&&o++}let f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*m.N4}static getDataMaskBit(i,o,a){let c,u;switch(i){case 0:c=a+o&1;break;case 1:c=a&1;break;case 2:c=o%3;break;case 3:c=(a+o)%3;break;case 4:c=Math.floor(a/2)+Math.floor(o/3)&1;break;case 5:u=a*o,c=(u&1)+u%3;break;case 6:u=a*o,c=(u&1)+u%3&1;break;case 7:u=a*o,c=u%3+(a+o&1)&1;break;default:throw new y("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,o){let a=0,c=o?i.getHeight():i.getWidth(),u=o?i.getWidth():i.getHeight(),f=i.getArray();for(let h=0;h<c;h++){let g=0,w=-1;for(let E=0;E<u;E++){let I=o?f[h][E]:f[E][h];I===w?g++:(g>=5&&(a+=m.N1+(g-5)),g=1,w=I)}g>=5&&(a+=m.N1+(g-5))}return a}}return m.N1=3,m.N2=3,m.N3=40,m.N4=10,m})();class Fo{constructor(n,i){this.width=n,this.height=i;let o=new Array(i);for(let a=0;a!==i;a++)o[a]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,o){this.bytes[i][n]=o}setBoolean(n,i,o){this.bytes[i][n]=o?1:0}clear(n){for(let i of this.bytes)q.fill(i,n)}equals(n){if(!(n instanceof Fo))return!1;let i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,a=this.height;o<a;++o){let c=this.bytes[o],u=i.bytes[o];for(let f=0,h=this.width;f<h;++f)if(c[f]!==u[f])return!1}return!0}toString(){let n=new ke;for(let i=0,o=this.height;i<o;++i){let a=this.bytes[i];for(let c=0,u=this.width;c<u;++c)switch(a[c]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}let ko=(()=>{class m{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let i=new ke;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<m.NUM_MASK_PATTERNS}}return m.NUM_MASK_PATTERNS=8,m})(),Ge=(()=>{class m extends x{}return m.kind="WriterException",m})();class te{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,o,a,c){te.clearMatrix(c),te.embedBasicPatterns(o,c),te.embedTypeInfo(i,a,c),te.maybeEmbedVersionInfo(o,c),te.embedDataBits(n,a,c)}static embedBasicPatterns(n,i){te.embedPositionDetectionPatternsAndSeparators(i),te.embedDarkDotAtLeftBottomCorner(i),te.maybeEmbedPositionAdjustmentPatterns(n,i),te.embedTimingPatterns(i)}static embedTypeInfo(n,i,o){let a=new ue;te.makeTypeInfoBits(n,i,a);for(let c=0,u=a.getSize();c<u;++c){let f=a.get(a.getSize()-1-c),h=te.TYPE_INFO_COORDINATES[c],g=h[0],w=h[1];if(o.setBoolean(g,w,f),c<8){let E=o.getWidth()-c-1;o.setBoolean(E,8,f)}else{let I=o.getHeight()-7+(c-8);o.setBoolean(8,I,f)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;let o=new ue;te.makeVersionInfoBits(n,o);let a=6*3-1;for(let c=0;c<6;++c)for(let u=0;u<3;++u){let f=o.get(a);a--,i.setBoolean(c,i.getHeight()-11+u,f),i.setBoolean(i.getHeight()-11+u,c,f)}}static embedDataBits(n,i,o){let a=0,c=-1,u=o.getWidth()-1,f=o.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<o.getHeight();){for(let h=0;h<2;++h){let g=u-h;if(!te.isEmpty(o.get(g,f)))continue;let w;a<n.getSize()?(w=n.get(a),++a):w=!1,i!==255&&Mr.getDataMaskBit(i,g,f)&&(w=!w),o.setBoolean(g,f,w)}f+=c}c=-c,f+=c,u-=2}if(a!==n.getSize())throw new Ge("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-H.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new y("0 polynomial");let o=te.findMSBSet(i);for(n<<=o-1;te.findMSBSet(n)>=o;)n^=i<<te.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,i,o){if(!ko.isValidMaskPattern(i))throw new Ge("Invalid mask pattern");let a=n.getBits()<<3|i;o.appendBits(a,5);let c=te.calculateBCHCode(a,te.TYPE_INFO_POLY);o.appendBits(c,10);let u=new ue;if(u.appendBits(te.TYPE_INFO_MASK_PATTERN,15),o.xor(u),o.getSize()!==15)throw new Ge("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);let o=te.calculateBCHCode(n.getVersionNumber(),te.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new Ge("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){let o=(i+1)%2;te.isEmpty(n.get(i,6))&&n.setNumber(i,6,o),te.isEmpty(n.get(6,i))&&n.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Ge;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,o){for(let a=0;a<8;++a){if(!te.isEmpty(o.get(n+a,i)))throw new Ge;o.setNumber(n+a,i,0)}}static embedVerticalSeparationPattern(n,i,o){for(let a=0;a<7;++a){if(!te.isEmpty(o.get(n,i+a)))throw new Ge;o.setNumber(n,i+a,0)}}static embedPositionAdjustmentPattern(n,i,o){for(let a=0;a<5;++a){let c=te.POSITION_ADJUSTMENT_PATTERN[a];for(let u=0;u<5;++u)o.setNumber(n+u,i+a,c[u])}}static embedPositionDetectionPattern(n,i,o){for(let a=0;a<7;++a){let c=te.POSITION_DETECTION_PATTERN[a];for(let u=0;u<7;++u)o.setNumber(n+u,i+a,c[u])}}static embedPositionDetectionPatternsAndSeparators(n){let i=te.POSITION_DETECTION_PATTERN[0].length;te.embedPositionDetectionPattern(0,0,n),te.embedPositionDetectionPattern(n.getWidth()-i,0,n),te.embedPositionDetectionPattern(0,n.getWidth()-i,n);let o=8;te.embedHorizontalSeparationPattern(0,o-1,n),te.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),te.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);let a=7;te.embedVerticalSeparationPattern(a,0,n),te.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),te.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;let o=n.getVersionNumber()-1,a=te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,u=a.length;c!==u;c++){let f=a[c];if(f>=0)for(let h=0;h!==u;h++){let g=a[h];g>=0&&te.isEmpty(i.get(g,f))&&te.embedPositionAdjustmentPattern(g-2,f-2,i)}}}}te.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),te.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),te.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),te.VERSION_INFO_POLY=7973,te.TYPE_INFO_POLY=1335,te.TYPE_INFO_MASK_PATTERN=21522;class W0{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class $e{constructor(){}static calculateMaskPenalty(n){return Mr.applyMaskPenaltyRule1(n)+Mr.applyMaskPenaltyRule2(n)+Mr.applyMaskPenaltyRule3(n)+Mr.applyMaskPenaltyRule4(n)}static encode(n,i,o=null){let a=$e.DEFAULT_BYTE_MODE_ENCODING,c=o!==null&&o.get(et.CHARACTER_SET)!==void 0;c&&(a=o.get(et.CHARACTER_SET).toString());let u=this.chooseMode(n,a),f=new ue;if(u===K.BYTE&&(c||$e.DEFAULT_BYTE_MODE_ENCODING!==a)){let G=U.getCharacterSetECIByName(a);G!==void 0&&this.appendECI(G,f)}this.appendModeInfo(u,f);let h=new ue;this.appendBytes(n,u,h,a);let g;if(o!==null&&o.get(et.QR_VERSION)!==void 0){let G=Number.parseInt(o.get(et.QR_VERSION).toString(),10);g=Q.getVersionForNumber(G);let O=this.calculateBitsNeeded(u,f,h,g);if(!this.willFit(O,g,i))throw new Ge("Data too big for requested version")}else g=this.recommendVersion(i,u,f,h);let w=new ue;w.appendBitArray(f);let E=u===K.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(E,g,u,w),w.appendBitArray(h);let I=g.getECBlocksForLevel(i),A=g.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(A,w);let b=this.interleaveWithECBytes(w,g.getTotalCodewords(),A,I.getNumBlocks()),T=new ko;T.setECLevel(i),T.setMode(u),T.setVersion(g);let M=g.getDimensionForVersion(),N=new Fo(M,M),k=this.chooseMaskPattern(b,i,g,N);return T.setMaskPattern(k),te.buildMatrix(b,i,g,k,N),T.setMatrix(N),T}static recommendVersion(n,i,o,a){let c=this.calculateBitsNeeded(i,o,a,Q.getVersionForNumber(1)),u=this.chooseVersion(c,n),f=this.calculateBitsNeeded(i,o,a,u);return this.chooseVersion(f,n)}static calculateBitsNeeded(n,i,o,a){return i.getSize()+n.getCharacterCountBits(a)+o.getSize()}static getAlphanumericCode(n){return n<$e.ALPHANUMERIC_TABLE.length?$e.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(U.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return K.KANJI;let o=!1,a=!1;for(let c=0,u=n.length;c<u;++c){let f=n.charAt(c);if($e.isDigit(f))o=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)a=!0;else return K.BYTE}return a?K.ALPHANUMERIC:o?K.NUMERIC:K.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=xt.encode(n,U.SJIS)}catch{return!1}let o=i.length;if(o%2!==0)return!1;for(let a=0;a<o;a+=2){let c=i[a]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(n,i,o,a){let c=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<ko.NUM_MASK_PATTERNS;f++){te.buildMatrix(n,i,o,f,a);let h=this.calculateMaskPenalty(a);h<c&&(c=h,u=f)}return u}static chooseVersion(n,i){for(let o=1;o<=40;o++){let a=Q.getVersionForNumber(o);if($e.willFit(n,a,i))return a}throw new Ge("Data too big")}static willFit(n,i,o){let a=i.getTotalCodewords(),u=i.getECBlocksForLevel(o).getTotalECCodewords(),f=a-u,h=(n+7)/8;return f>=h}static terminateBits(n,i){let o=n*8;if(i.getSize()>o)throw new Ge("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let u=0;u<4&&i.getSize()<o;++u)i.appendBit(!1);let a=i.getSize()&7;if(a>0)for(let u=a;u<8;u++)i.appendBit(!1);let c=n-i.getSizeInBytes();for(let u=0;u<c;++u)i.appendBits(u&1?17:236,8);if(i.getSize()!==o)throw new Ge("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,o,a,c,u){if(a>=o)throw new Ge("Block ID too large");let f=n%o,h=o-f,g=Math.floor(n/o),w=g+1,E=Math.floor(i/o),I=E+1,A=g-E,b=w-I;if(A!==b)throw new Ge("EC bytes mismatch");if(o!==h+f)throw new Ge("RS blocks mismatch");if(n!==(E+A)*h+(I+b)*f)throw new Ge("Total bytes mismatch");a<h?(c[0]=E,u[0]=A):(c[0]=I,u[0]=b)}static interleaveWithECBytes(n,i,o,a){if(n.getSizeInBytes()!==o)throw new Ge("Number of bits and data bytes does not match");let c=0,u=0,f=0,h=new Array;for(let w=0;w<a;++w){let E=new Int32Array(1),I=new Int32Array(1);$e.getNumDataBytesAndNumECBytesForBlockID(i,o,a,w,E,I);let A=E[0],b=new Uint8Array(A);n.toBytes(8*c,b,0,A);let T=$e.generateECBytes(b,I[0]);h.push(new W0(b,T)),u=Math.max(u,A),f=Math.max(f,T.length),c+=E[0]}if(o!==c)throw new Ge("Data bytes does not match offset");let g=new ue;for(let w=0;w<u;++w)for(let E of h){let I=E.getDataBytes();w<I.length&&g.appendBits(I[w],8)}for(let w=0;w<f;++w)for(let E of h){let I=E.getErrorCorrectionBytes();w<I.length&&g.appendBits(I[w],8)}if(i!==g.getSizeInBytes())throw new Ge("Interleaving error: "+i+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(n,i){let o=n.length,a=new Int32Array(o+i);for(let u=0;u<o;u++)a[u]=n[u]&255;new Ua(Ne.QR_CODE_FIELD_256).encode(a,i);let c=new Uint8Array(i);for(let u=0;u<i;u++)c[u]=a[o+u];return c}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,o,a){let c=o.getCharacterCountBits(i);if(n>=1<<c)throw new Ge(n+" is bigger than "+((1<<c)-1));a.appendBits(n,c)}static appendBytes(n,i,o,a){switch(i){case K.NUMERIC:$e.appendNumericBytes(n,o);break;case K.ALPHANUMERIC:$e.appendAlphanumericBytes(n,o);break;case K.BYTE:$e.append8BitBytes(n,o,a);break;case K.KANJI:$e.appendKanjiBytes(n,o);break;default:throw new Ge("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){let i=$e.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){let o=n.length,a=0;for(;a<o;){let c=$e.getDigit(n.charAt(a));if(a+2<o){let u=$e.getDigit(n.charAt(a+1)),f=$e.getDigit(n.charAt(a+2));i.appendBits(c*100+u*10+f,10),a+=3}else if(a+1<o){let u=$e.getDigit(n.charAt(a+1));i.appendBits(c*10+u,7),a+=2}else i.appendBits(c,4),a++}}static appendAlphanumericBytes(n,i){let o=n.length,a=0;for(;a<o;){let c=$e.getAlphanumericCode(n.charCodeAt(a));if(c===-1)throw new Ge;if(a+1<o){let u=$e.getAlphanumericCode(n.charCodeAt(a+1));if(u===-1)throw new Ge;i.appendBits(c*45+u,11),a+=2}else i.appendBits(c,6),a++}}static append8BitBytes(n,i,o){let a;try{a=xt.encode(n,o)}catch(c){throw new Ge(c)}for(let c=0,u=a.length;c!==u;c++){let f=a[c];i.appendBits(f,8)}}static appendKanjiBytes(n,i){let o;try{o=xt.encode(n,U.SJIS)}catch(c){throw new Ge(c)}let a=o.length;for(let c=0;c<a;c+=2){let u=o[c]&255,f=o[c+1]&255,h=u<<8&4294967295|f,g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new Ge("Invalid byte sequence");let w=(g>>8)*192+(g&255);i.appendBits(w,13)}}static appendECI(n,i){i.appendBits(K.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}$e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),$e.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();let $0=(()=>{class m{write(i,o,a,c=null){if(i.length===0)throw new y("Found empty contents");if(o<0||a<0)throw new y("Requested dimensions are too small: "+o+"x"+a);let u=ze.L,f=m.QUIET_ZONE_SIZE;c!==null&&(c.get(et.ERROR_CORRECTION)!==void 0&&(u=ze.fromString(c.get(et.ERROR_CORRECTION).toString())),c.get(et.MARGIN)!==void 0&&(f=Number.parseInt(c.get(et.MARGIN).toString(),10)));let h=$e.encode(i,u,c);return this.renderResult(h,o,a,f)}writeToDom(i,o,a,c,u=null){typeof i=="string"&&(i=document.querySelector(i));let f=this.write(o,a,c,u);i&&i.appendChild(f)}renderResult(i,o,a,c){let u=i.getMatrix();if(u===null)throw new Tn;let f=u.getWidth(),h=u.getHeight(),g=f+c*2,w=h+c*2,E=Math.max(o,g),I=Math.max(a,w),A=Math.min(Math.floor(E/g),Math.floor(I/w)),b=Math.floor((E-f*A)/2),T=Math.floor((I-h*A)/2),M=this.createSVGElement(E,I);for(let N=0,k=T;N<h;N++,k+=A)for(let G=0,O=b;G<f;G++,O+=A)if(u.get(G,N)===1){let ye=this.createSvgRectElement(O,k,A,A);M.appendChild(ye)}return M}createSVGElement(i,o){let a=document.createElementNS(m.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",o.toString()),a}createSvgRectElement(i,o,a,c){let u=document.createElementNS(m.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",o.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}return m.QUIET_ZONE_SIZE=4,m.SVG_NS="http://www.w3.org/2000/svg",m})(),xd=(()=>{class m{encode(i,o,a,c,u){if(i.length===0)throw new y("Found empty contents");if(o!==ee.QR_CODE)throw new y("Can only encode QR_CODE, but got "+o);if(a<0||c<0)throw new y(`Requested dimensions are too small: ${a}x${c}`);let f=ze.L,h=m.QUIET_ZONE_SIZE;u!==null&&(u.get(et.ERROR_CORRECTION)!==void 0&&(f=ze.fromString(u.get(et.ERROR_CORRECTION).toString())),u.get(et.MARGIN)!==void 0&&(h=Number.parseInt(u.get(et.MARGIN).toString(),10)));let g=$e.encode(i,f,u);return m.renderResult(g,a,c,h)}static renderResult(i,o,a,c){let u=i.getMatrix();if(u===null)throw new Tn;let f=u.getWidth(),h=u.getHeight(),g=f+c*2,w=h+c*2,E=Math.max(o,g),I=Math.max(a,w),A=Math.min(Math.floor(E/g),Math.floor(I/w)),b=Math.floor((E-f*A)/2),T=Math.floor((I-h*A)/2),M=new it(E,I);for(let N=0,k=T;N<h;N++,k+=A)for(let G=0,O=b;G<f;G++,O+=A)u.get(G,N)===1&&M.setRegion(O,k,A,A);return M}}return m.QUIET_ZONE_SIZE=4,m})();class Y0{encode(n,i,o,a,c){let u;switch(i){case ee.QR_CODE:u=new xd;break;default:throw new y("No encoder available for format "+i)}return u.encode(n,i,o,a,c)}}let q0=(()=>{class m extends mi{constructor(i,o,a,c,u,f,h,g){if(super(f,h),this.yuvData=i,this.dataWidth=o,this.dataHeight=a,this.left=c,this.top=u,c+f>o||u+h>a)throw new y("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,h)}getRow(i,o){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);let a=this.getWidth();(o==null||o.length<a)&&(o=new Uint8ClampedArray(a));let c=(i+this.top)*this.dataWidth+this.left;return L.arraycopy(this.yuvData,c,o,0,a),o}getMatrix(){let i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;let a=i*o,c=new Uint8ClampedArray(a),u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return L.arraycopy(this.yuvData,u,c,0,a),c;for(let f=0;f<o;f++){let h=f*i;L.arraycopy(this.yuvData,u,c,h,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,o,a,c){return new m(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,a,c,!1)}renderThumbnail(){let i=this.getWidth()/m.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/m.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*o),c=this.yuvData,u=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){let h=f*i;for(let g=0;g<i;g++){let w=c[u+g*m.THUMBNAIL_SCALE_FACTOR]&255;a[h+g]=4278190080|w*65793}u+=this.dataWidth*m.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/m.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/m.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){let a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<o;c++,u+=this.dataWidth){let f=u+i/2;for(let h=u,g=u+i-1;h<f;h++,g--){let w=a[h];a[h]=a[g],a[g]=w}}}invert(){return new Fn(this)}}return m.THUMBNAIL_SCALE_FACTOR=2,m})();class ja extends mi{constructor(n,i,o,a,c,u,f){if(super(i,o),this.dataWidth=a,this.dataHeight=c,this.left=u,this.top=f,n.BYTES_PER_ELEMENT===4){let h=i*o,g=new Uint8ClampedArray(h);for(let w=0;w<h;w++){let E=n[w],I=E>>16&255,A=E>>7&510,b=E&255;g[w]=(I+A+b)/4&255}this.luminances=g}else this.luminances=n;if(a===void 0&&(this.dataWidth=i),c===void 0&&(this.dataHeight=o),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new y("Requested row is outside the image: "+n);let o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));let a=(n+this.top)*this.dataWidth+this.left;return L.arraycopy(this.luminances,a,i,0,o),i}getMatrix(){let n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;let o=n*i,a=new Uint8ClampedArray(o),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return L.arraycopy(this.luminances,c,a,0,o),a;for(let u=0;u<i;u++){let f=u*n;L.arraycopy(this.luminances,c,a,f,n),c+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,o,a){return new ja(this.luminances,o,a,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new Fn(this)}}class wd extends U{static forName(n){return this.getCharacterSetECIByName(n)}}class Va{}Va.ISO_8859_1=U.ISO8859_1;class Cd{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Ed{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class X0{constructor(n){this.previous=n}getPrevious(){return this.previous}}class _r extends X0{constructor(n,i,o){super(n),this.value=i,this.bitCount=o}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new _r(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new _r(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+H.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Ha extends _r{constructor(n,i,o){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(n,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(n,i){return new Ha(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Z0(m,n,i){return new Ha(m,n,i)}function bi(m,n,i){return new _r(m,n,i)}let Q0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Gn=0,Bo=1,Wt=2,Id=3,gn=4,K0=new _r(null,0,0),za=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function J0(m){for(let n of m)q.fill(n,-1);return m[Gn][gn]=0,m[Bo][gn]=0,m[Bo][Gn]=28,m[Id][gn]=0,m[Wt][gn]=0,m[Wt][Gn]=15,m}let vd=J0(q.createInt32Array(6,6));class mn{constructor(n,i,o,a){this.token=n,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let o=this.bitCount,a=this.token;if(n!==this.mode){let u=za[this.mode][n];a=bi(a,u&65535,u>>16),o+=u>>16}let c=n===Wt?4:5;return a=bi(a,i,c),new mn(a,n,0,o+c)}shiftAndAppend(n,i){let o=this.token,a=this.mode===Wt?4:5;return o=bi(o,vd[this.mode][n],a),o=bi(o,i,5),new mn(o,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let i=this.token,o=this.mode,a=this.bitCount;if(this.mode===gn||this.mode===Wt){let f=za[o][Gn];i=bi(i,f&65535,f>>16),a+=f>>16,o=Gn}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new mn(i,o,this.binaryShiftByteCount+1,a+c);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(n+1)),u}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Z0(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new mn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(za[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=mn.calculateBinaryShiftCost(n)-mn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())i.unshift(a);let o=new ue;for(let a of i)a.appendTo(o,n);return o}toString(){return re.format("%s bits=%d bytes=%d",Q0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}mn.INITIAL_STATE=new mn(K0,Gn,0,0);function e1(m){let n=re.getCharCode(" "),i=re.getCharCode("."),o=re.getCharCode(",");m[Gn][n]=1;let a=re.getCharCode("Z"),c=re.getCharCode("A");for(let I=c;I<=a;I++)m[Gn][I]=I-c+2;m[Bo][n]=1;let u=re.getCharCode("z"),f=re.getCharCode("a");for(let I=f;I<=u;I++)m[Bo][I]=I-f+2;m[Wt][n]=1;let h=re.getCharCode("9"),g=re.getCharCode("0");for(let I=g;I<=h;I++)m[Wt][I]=I-g+2;m[Wt][o]=12,m[Wt][i]=13;let w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let I=0;I<w.length;I++)m[Id][re.getCharCode(w[I])]=I;let E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<E.length;I++)re.getCharCode(E[I])>0&&(m[gn][re.getCharCode(E[I])]=I);return m}let Ga=e1(q.createInt32Array(5,256));class Ti{constructor(n){this.text=n}encode(){let n=re.getCharCode(" "),i=re.getCharCode(`
`),o=Ed.singletonList(mn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let u,f=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case re.getCharCode("\r"):u=f===i?2:0;break;case re.getCharCode("."):u=f===n?3:0;break;case re.getCharCode(","):u=f===n?4:0;break;case re.getCharCode(":"):u=f===n?5:0;break;default:u=0}u>0?(o=Ti.updateStateListForPair(o,c,u),c++):o=this.updateStateListForChar(o,c)}return Ed.min(o,(c,u)=>c.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){let o=[];for(let a of n)this.updateStateForChar(a,i,o);return Ti.simplifyStates(o)}updateStateForChar(n,i,o){let a=this.text[i]&255,c=Ga[n.getMode()][a]>0,u=null;for(let f=0;f<=gn;f++){let h=Ga[f][a];if(h>0){if(u==null&&(u=n.endBinaryShift(i)),!c||f===n.getMode()||f===Wt){let g=u.latchAndAppend(f,h);o.push(g)}if(!c&&vd[n.getMode()][f]>=0){let g=u.shiftAndAppend(f,h);o.push(g)}}}if(n.getBinaryShiftByteCount()>0||Ga[n.getMode()][a]===0){let f=n.addBinaryShiftChar(i);o.push(f)}}static updateStateListForPair(n,i,o){let a=[];for(let c of n)this.updateStateForPair(c,i,o,a);return this.simplifyStates(a)}static updateStateForPair(n,i,o,a){let c=n.endBinaryShift(i);if(a.push(c.latchAndAppend(gn,o)),n.getMode()!==gn&&a.push(c.shiftAndAppend(gn,o)),o===3||o===4){let u=c.latchAndAppend(Wt,16-o).latchAndAppend(Wt,1);a.push(u)}if(n.getBinaryShiftByteCount()>0){let u=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(u)}}static simplifyStates(n){let i=[];for(let o of n){let a=!0;for(let c of i){if(c.isBetterThanOrEqualTo(o)){a=!1;break}o.isBetterThanOrEqualTo(c)&&(i=i.filter(u=>u!==c))}a&&i.push(o)}return i}}class Te{constructor(){}static encodeBytes(n){return Te.encode(n,Te.DEFAULT_EC_PERCENT,Te.DEFAULT_AZTEC_LAYERS)}static encode(n,i,o){let a=new Ti(n).encode(),c=H.truncDivision(a.getSize()*i,100)+11,u=a.getSize()+c,f,h,g,w,E;if(o!==Te.DEFAULT_AZTEC_LAYERS){if(f=o<0,h=Math.abs(o),h>(f?Te.MAX_NB_BITS_COMPACT:Te.MAX_NB_BITS))throw new y(re.format("Illegal value %s for layers",o));g=Te.totalBitsInLayer(h,f),w=Te.WORD_SIZE[h];let O=g-g%w;if(E=Te.stuffBits(a,w),E.getSize()+c>O)throw new y("Data to large for user specified layer");if(f&&E.getSize()>w*64)throw new y("Data to large for user specified layer")}else{w=0,E=null;for(let O=0;;O++){if(O>Te.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(f=O<=3,h=f?O+1:O,g=Te.totalBitsInLayer(h,f),u>g)continue;(E==null||w!==Te.WORD_SIZE[h])&&(w=Te.WORD_SIZE[h],E=Te.stuffBits(a,w));let ye=g-g%w;if(!(f&&E.getSize()>w*64)&&E.getSize()+c<=ye)break}}let I=Te.generateCheckWords(E,g,w),A=E.getSize()/w,b=Te.generateModeMessage(f,h,A),T=(f?11:14)+h*4,M=new Int32Array(T),N;if(f){N=T;for(let O=0;O<M.length;O++)M[O]=O}else{N=T+1+2*H.truncDivision(H.truncDivision(T,2)-1,15);let O=H.truncDivision(T,2),ye=H.truncDivision(N,2);for(let de=0;de<O;de++){let Mt=de+H.truncDivision(de,15);M[O-de-1]=ye-Mt-1,M[O+de]=ye+Mt+1}}let k=new it(N);for(let O=0,ye=0;O<h;O++){let de=(h-O)*4+(f?9:12);for(let Mt=0;Mt<de;Mt++){let on=Mt*2;for(let _t=0;_t<2;_t++)I.get(ye+on+_t)&&k.set(M[O*2+_t],M[O*2+Mt]),I.get(ye+de*2+on+_t)&&k.set(M[O*2+Mt],M[T-1-O*2-_t]),I.get(ye+de*4+on+_t)&&k.set(M[T-1-O*2-_t],M[T-1-O*2-Mt]),I.get(ye+de*6+on+_t)&&k.set(M[T-1-O*2-Mt],M[O*2+_t])}ye+=de*8}if(Te.drawModeMessage(k,f,N,b),f)Te.drawBullsEye(k,H.truncDivision(N,2),5);else{Te.drawBullsEye(k,H.truncDivision(N,2),7);for(let O=0,ye=0;O<H.truncDivision(T,2)-1;O+=15,ye+=16)for(let de=H.truncDivision(N,2)&1;de<N;de+=2)k.set(H.truncDivision(N,2)-ye,de),k.set(H.truncDivision(N,2)+ye,de),k.set(de,H.truncDivision(N,2)-ye),k.set(de,H.truncDivision(N,2)+ye)}let G=new Cd;return G.setCompact(f),G.setSize(N),G.setLayers(h),G.setCodeWords(A),G.setMatrix(k),G}static drawBullsEye(n,i,o){for(let a=0;a<o;a+=2)for(let c=i-a;c<=i+a;c++)n.set(c,i-a),n.set(c,i+a),n.set(i-a,c),n.set(i+a,c);n.set(i-o,i-o),n.set(i-o+1,i-o),n.set(i-o,i-o+1),n.set(i+o,i-o),n.set(i+o,i-o+1),n.set(i+o,i+o-1)}static generateModeMessage(n,i,o){let a=new ue;return n?(a.appendBits(i-1,2),a.appendBits(o-1,6),a=Te.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(o-1,11),a=Te.generateCheckWords(a,40,4)),a}static drawModeMessage(n,i,o,a){let c=H.truncDivision(o,2);if(i)for(let u=0;u<7;u++){let f=c-3+u;a.get(u)&&n.set(f,c-5),a.get(u+7)&&n.set(c+5,f),a.get(20-u)&&n.set(f,c+5),a.get(27-u)&&n.set(c-5,f)}else for(let u=0;u<10;u++){let f=c-5+u+H.truncDivision(u,5);a.get(u)&&n.set(f,c-7),a.get(u+10)&&n.set(c+7,f),a.get(29-u)&&n.set(f,c+7),a.get(39-u)&&n.set(c-7,f)}}static generateCheckWords(n,i,o){let a=n.getSize()/o,c=new Ua(Te.getGF(o)),u=H.truncDivision(i,o),f=Te.bitsToWords(n,o,u);c.encode(f,u-a);let h=i%o,g=new ue;g.appendBits(0,h);for(let w of Array.from(f))g.appendBits(w,o);return g}static bitsToWords(n,i,o){let a=new Int32Array(o),c,u;for(c=0,u=n.getSize()/i;c<u;c++){let f=0;for(let h=0;h<i;h++)f|=n.get(c*i+h)?1<<i-h-1:0;a[c]=f}return a}static getGF(n){switch(n){case 4:return Ne.AZTEC_PARAM;case 6:return Ne.AZTEC_DATA_6;case 8:return Ne.AZTEC_DATA_8;case 10:return Ne.AZTEC_DATA_10;case 12:return Ne.AZTEC_DATA_12;default:throw new y("Unsupported word size "+n)}}static stuffBits(n,i){let o=new ue,a=n.getSize(),c=(1<<i)-2;for(let u=0;u<a;u+=i){let f=0;for(let h=0;h<i;h++)(u+h>=a||n.get(u+h))&&(f|=1<<i-1-h);(f&c)===c?(o.appendBits(f&c,i),u--):f&c?o.appendBits(f,i):(o.appendBits(f|1,i),u--)}return o}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Te.DEFAULT_EC_PERCENT=33,Te.DEFAULT_AZTEC_LAYERS=0,Te.MAX_NB_BITS=32,Te.MAX_NB_BITS_COMPACT=4,Te.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Uo{encode(n,i,o,a){return this.encodeWithHints(n,i,o,a,null)}encodeWithHints(n,i,o,a,c){let u=Va.ISO_8859_1,f=Te.DEFAULT_EC_PERCENT,h=Te.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(et.CHARACTER_SET)&&(u=wd.forName(c.get(et.CHARACTER_SET).toString())),c.has(et.ERROR_CORRECTION)&&(f=H.parseInt(c.get(et.ERROR_CORRECTION).toString())),c.has(et.AZTEC_LAYERS)&&(h=H.parseInt(c.get(et.AZTEC_LAYERS).toString()))),Uo.encodeLayers(n,i,o,a,u,f,h)}static encodeLayers(n,i,o,a,c,u,f){if(i!==ee.AZTEC)throw new y("Can only encode AZTEC, but got "+i);let h=Te.encode(re.getBytes(n,c),u,f);return Uo.renderResult(h,o,a)}static renderResult(n,i,o){let a=n.getMatrix();if(a==null)throw new Tn;let c=a.getWidth(),u=a.getHeight(),f=Math.max(i,c),h=Math.max(o,u),g=Math.min(f/c,h/u),w=(f-c*g)/2,E=(h-u*g)/2,I=new it(f,h);for(let A=0,b=E;A<u;A++,b+=g)for(let T=0,M=w;T<c;T++,M+=g)a.get(T,A)&&I.setRegion(M,b,g,g);return I}}e.AbstractExpandedDecoder=Ma,e.ArgumentException=C,e.ArithmeticException=Ia,e.AztecCode=Cd,e.AztecCodeReader=Mo,e.AztecCodeWriter=Uo,e.AztecDecoder=va,e.AztecDetector=nd,e.AztecDetectorResult=ed,e.AztecEncoder=Te,e.AztecHighLevelEncoder=Ti,e.AztecPoint=Dt,e.BarcodeFormat=ee,e.Binarizer=V,e.BinaryBitmap=v,e.BitArray=ue,e.BitMatrix=it,e.BitSource=Oa,e.BrowserAztecCodeReader=y0,e.BrowserBarcodeReader=S0,e.BrowserCodeReader=nr,e.BrowserDatamatrixCodeReader=T0,e.BrowserMultiFormatReader=H0,e.BrowserPDF417Reader=z0,e.BrowserQRCodeReader=G0,e.BrowserQRCodeSvgWriter=$0,e.CharacterSetECI=U,e.ChecksumException=S,e.Code128Reader=z,e.Code39Reader=Aa,e.DataMatrixDecodedBitStreamParser=Vn,e.DataMatrixReader=Oo,e.DecodeHintType=oe,e.DecoderResult=yi,e.DefaultGridSampler=td,e.DetectorResult=bo,e.EAN13Reader=_o,e.EncodeHintType=et,e.Exception=x,e.FormatException=B,e.GenericGF=Ne,e.GenericGFPoly=bt,e.GlobalHistogramBinarizer=ot,e.GridSampler=Da,e.GridSamplerInstance=Bn,e.HTMLCanvasElementLuminanceSource=kn,e.HybridBinarizer=pe,e.ITFReader=Ue,e.IllegalArgumentException=y,e.IllegalStateException=Tn,e.InvertedLuminanceSource=Fn,e.LuminanceSource=mi,e.MathUtils=be,e.MultiFormatOneDReader=Tr,e.MultiFormatReader=md,e.MultiFormatWriter=Y0,e.NotFoundException=P,e.OneDReader=Qe,e.PDF417DecodedBitStreamParser=R,e.PDF417DecoderErrorCorrection=ud,e.PDF417Reader=ft,e.PDF417ResultMetadata=hd,e.PerspectiveTransform=Jt,e.PlanarYUVLuminanceSource=q0,e.QRCodeByteMatrix=Fo,e.QRCodeDataMask=Gt,e.QRCodeDecodedBitStreamParser=cd,e.QRCodeDecoderErrorCorrectionLevel=ze,e.QRCodeDecoderFormatInformation=Ct,e.QRCodeEncoder=$e,e.QRCodeEncoderQRCode=ko,e.QRCodeMaskUtil=Mr,e.QRCodeMatrixUtil=te,e.QRCodeMode=K,e.QRCodeReader=Hn,e.QRCodeVersion=Q,e.QRCodeWriter=xd,e.RGBLuminanceSource=ja,e.RSS14Reader=Xe,e.RSSExpandedReader=F,e.ReaderException=Ba,e.ReedSolomonDecoder=Ci,e.ReedSolomonEncoder=Ua,e.ReedSolomonException=wi,e.Result=vt,e.ResultMetadataType=st,e.ResultPoint=X,e.StringUtils=re,e.UnsupportedOperationException=bn,e.VideoInputDevice=Qu,e.WhiteRectangleDetector=To,e.WriterException=Ge,e.ZXingArrays=q,e.ZXingCharset=wd,e.ZXingInteger=H,e.ZXingStandardCharsets=Va,e.ZXingStringBuilder=ke,e.ZXingStringEncoding=xt,e.ZXingSystem=L,e.createAbstractExpandedDecoder=ad,Object.defineProperty(e,"__esModule",{value:!0})})});var bd=null;var $a=1,Td=Symbol("SIGNAL");function Me(e){let t=bd;return bd=e,t}var Md={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function h1(e){if(!(Xa(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===$a)){if(!e.producerMustRecompute(e)&&!Ya(e)){e.dirty=!1,e.lastCleanEpoch=$a;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=$a}}function _d(e){return e&&(e.nextProducerIndex=0),Me(e)}function Nd(e,t){if(Me(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Xa(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)qa(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ya(e){jo(e);for(let t=0;t<e.producerNode.length;t++){let r=e.producerNode[t],s=e.producerLastReadVersion[t];if(s!==r.version||(h1(r),s!==r.version))return!0}return!1}function Rd(e){if(jo(e),Xa(e))for(let t=0;t<e.producerNode.length;t++)qa(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function qa(e,t){if(p1(e),jo(e),e.liveConsumerNode.length===1)for(let s=0;s<e.producerNode.length;s++)qa(e.producerNode[s],e.producerIndexOfThis[s]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let s=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];jo(l),l.producerIndexOfThis[s]=t}}function Xa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function jo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function p1(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function g1(){throw new Error}var m1=g1;function Od(e){m1=e}function ce(e){return typeof e=="function"}function Or(e){let r=e(s=>{Error.call(s),s.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Vo=Or(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((s,l)=>`${l+1}) ${s.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function Mi(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}var tt=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let d of r)d.remove(this);else r.remove(this);let{initialTeardown:s}=this;if(ce(s))try{s()}catch(d){t=d instanceof Vo?d.errors:[d]}let{_finalizers:l}=this;if(l){this._finalizers=null;for(let d of l)try{Ld(d)}catch(p){t=t??[],p instanceof Vo?t=[...t,...p.errors]:t.push(p)}}if(t)throw new Vo(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Ld(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}}_hasParent(t){let{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){let{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Mi(r,t)}remove(t){let{_finalizers:r}=this;r&&Mi(r,t),t instanceof e&&t._removeParent(this)}};tt.EMPTY=(()=>{let e=new tt;return e.closed=!0,e})();var Za=tt.EMPTY;function Ho(e){return e instanceof tt||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function Ld(e){ce(e)?e():e.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lr={setTimeout(e,t,...r){let{delegate:s}=Lr;return s?.setTimeout?s.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){let{delegate:t}=Lr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function zo(e){Lr.setTimeout(()=>{let{onUnhandledError:t}=sn;if(t)t(e);else throw e})}function _i(){}var Pd=Qa("C",void 0,void 0);function Fd(e){return Qa("E",void 0,e)}function kd(e){return Qa("N",e,void 0)}function Qa(e,t,r){return{kind:e,value:t,error:r}}var ar=null;function Pr(e){if(sn.useDeprecatedSynchronousErrorHandling){let t=!ar;if(t&&(ar={errorThrown:!1,error:null}),e(),t){let{errorThrown:r,error:s}=ar;if(ar=null,r)throw s}}else e()}function Bd(e){sn.useDeprecatedSynchronousErrorHandling&&ar&&(ar.errorThrown=!0,ar.error=e)}var cr=class extends tt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ho(t)&&t.add(this)):this.destination=w1}static create(t,r,s){return new Fr(t,r,s)}next(t){this.isStopped?Ja(kd(t),this):this._next(t)}error(t){this.isStopped?Ja(Fd(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ja(Pd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},y1=Function.prototype.bind;function Ka(e,t){return y1.call(e,t)}var ec=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(s){Go(s)}}error(t){let{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(s){Go(s)}else Go(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Go(r)}}},Fr=class extends cr{constructor(t,r,s){super();let l;if(ce(t)||!t)l={next:t??void 0,error:r??void 0,complete:s??void 0};else{let d;this&&sn.useDeprecatedNextContext?(d=Object.create(t),d.unsubscribe=()=>this.unsubscribe(),l={next:t.next&&Ka(t.next,d),error:t.error&&Ka(t.error,d),complete:t.complete&&Ka(t.complete,d)}):l=t}this.destination=new ec(l)}};function Go(e){sn.useDeprecatedSynchronousErrorHandling?Bd(e):zo(e)}function x1(e){throw e}function Ja(e,t){let{onStoppedNotification:r}=sn;r&&Lr.setTimeout(()=>r(e,t))}var w1={closed:!0,next:_i,error:x1,complete:_i};var kr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(e){return e}function tc(...e){return nc(e)}function nc(e){return e.length===0?kt:e.length===1?e[0]:function(r){return e.reduce((s,l)=>l(s),r)}}var Be=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let s=new e;return s.source=this,s.operator=r,s}subscribe(r,s,l){let d=E1(r)?r:new Fr(r,s,l);return Pr(()=>{let{operator:p,source:x}=this;d.add(p?p.call(d,x):x?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(r){try{return this._subscribe(r)}catch(s){r.error(s)}}forEach(r,s){return s=Ud(s),new s((l,d)=>{let p=new Fr({next:x=>{try{r(x)}catch(C){d(C),p.unsubscribe()}},error:d,complete:l});this.subscribe(p)})}_subscribe(r){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(r)}[kr](){return this}pipe(...r){return nc(r)(this)}toPromise(r){return r=Ud(r),new r((s,l)=>{let d;this.subscribe(p=>d=p,p=>l(p),()=>s(d))})}}return e.create=t=>new e(t),e})();function Ud(e){var t;return(t=e??sn.Promise)!==null&&t!==void 0?t:Promise}function C1(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}function E1(e){return e&&e instanceof cr||C1(e)&&Ho(e)}function rc(e){return ce(e?.lift)}function Ee(e){return t=>{if(rc(t))return t.lift(function(r){try{return e(r,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(e,t,r,s,l){return new ic(e,t,r,s,l)}var ic=class extends cr{constructor(t,r,s,l,d,p){super(t),this.onFinalize=d,this.shouldUnsubscribe=p,this._next=r?function(x){try{r(x)}catch(C){t.error(C)}}:super._next,this._error=l?function(x){try{l(x)}catch(C){t.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(x){t.error(x)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Br(){return Ee((e,t)=>{let r=null;e._refCount++;let s=Ie(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let l=e._connection,d=r;r=null,l&&(!d||l===d)&&l.unsubscribe(),t.unsubscribe()});e.subscribe(s),s.closed||(r=e.connect())})}var Ur=class extends Be{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,rc(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new tt;let r=this.getSubject();t.add(this.source.subscribe(Ie(r,void 0,()=>{this._teardown(),r.complete()},s=>{this._teardown(),r.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=tt.EMPTY)}return t}refCount(){return Br()(this)}};var jd=Or(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var At=(()=>{class e extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let s=new Wo(this,this);return s.operator=r,s}_throwIfClosed(){if(this.closed)throw new jd}next(r){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let s of this.currentObservers)s.next(r)}})}error(r){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:s}=this;for(;s.length;)s.shift().error(r)}})}complete(){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:s,isStopped:l,observers:d}=this;return s||l?Za:(this.currentObservers=null,d.push(r),new tt(()=>{this.currentObservers=null,Mi(d,r)}))}_checkFinalizedStatuses(r){let{hasError:s,thrownError:l,isStopped:d}=this;s?r.error(l):d&&r.complete()}asObservable(){let r=new Be;return r.source=this,r}}return e.create=(t,r)=>new Wo(t,r),e})(),Wo=class extends At{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,t)}error(t){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,t)}complete(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)}_subscribe(t){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&s!==void 0?s:Za}};var pt=class extends At{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){let{hasError:t,thrownError:r,_value:s}=this;if(t)throw r;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}};var Bt=new Be(e=>e.complete());function Vd(e){return e&&ce(e.schedule)}function Hd(e){return e[e.length-1]}function zd(e){return ce(Hd(e))?e.pop():void 0}function Wn(e){return Vd(Hd(e))?e.pop():void 0}function Wd(e,t,r,s){function l(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function x(v){try{y(s.next(v))}catch(S){p(S)}}function C(v){try{y(s.throw(v))}catch(S){p(S)}}function y(v){v.done?d(v.value):l(v.value).then(x,C)}y((s=s.apply(e,t||[])).next())})}function Gd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lr(e){return this instanceof lr?(this.v=e,this):new lr(e)}function $d(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(e,t||[]),l,d=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),x("next"),x("throw"),x("return",p),l[Symbol.asyncIterator]=function(){return this},l;function p(L){return function(Y){return Promise.resolve(Y).then(L,S)}}function x(L,Y){s[L]&&(l[L]=function($){return new Promise(function(q,H){d.push([L,$,q,H])>1||C(L,$)})},Y&&(l[L]=Y(l[L])))}function C(L,Y){try{y(s[L](Y))}catch($){V(d[0][3],$)}}function y(L){L.value instanceof lr?Promise.resolve(L.value.v).then(v,S):V(d[0][2],L)}function v(L){C("next",L)}function S(L){C("throw",L)}function V(L,Y){L(Y),d.shift(),d.length&&C(d[0][0],d[0][1])}}function Yd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Gd=="function"?Gd(e):e[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(d){r[d]=e[d]&&function(p){return new Promise(function(x,C){p=e[d](p),l(x,C,p.done,p.value)})}}function l(d,p,x,C){Promise.resolve(C).then(function(y){d({value:y,done:x})},p)}}var $o=e=>e&&typeof e.length=="number"&&typeof e!="function";function Yo(e){return ce(e?.then)}function qo(e){return ce(e[kr])}function Xo(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function Zo(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function I1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qo=I1();function Ko(e){return ce(e?.[Qo])}function Jo(e){return $d(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:s,done:l}=yield lr(r.read());if(l)return yield lr(void 0);yield yield lr(s)}}finally{r.releaseLock()}})}function es(e){return ce(e?.getReader)}function ct(e){if(e instanceof Be)return e;if(e!=null){if(qo(e))return v1(e);if($o(e))return D1(e);if(Yo(e))return A1(e);if(Xo(e))return qd(e);if(Ko(e))return S1(e);if(es(e))return b1(e)}throw Zo(e)}function v1(e){return new Be(t=>{let r=e[kr]();if(ce(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function D1(e){return new Be(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function A1(e){return new Be(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,zo)})}function S1(e){return new Be(t=>{for(let r of e)if(t.next(r),t.closed)return;t.complete()})}function qd(e){return new Be(t=>{T1(e,t).catch(r=>t.error(r))})}function b1(e){return qd(Jo(e))}function T1(e,t){var r,s,l,d;return Wd(this,void 0,void 0,function*(){try{for(r=Yd(e);s=yield r.next(),!s.done;){let p=s.value;if(t.next(p),t.closed)return}}catch(p){l={error:p}}finally{try{s&&!s.done&&(d=r.return)&&(yield d.call(r))}finally{if(l)throw l.error}}t.complete()})}function Nt(e,t,r,s=0,l=!1){let d=t.schedule(function(){r(),l?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(d),!l)return d}function ts(e,t=0){return Ee((r,s)=>{r.subscribe(Ie(s,l=>Nt(s,e,()=>s.next(l),t),()=>Nt(s,e,()=>s.complete(),t),l=>Nt(s,e,()=>s.error(l),t)))})}function ns(e,t=0){return Ee((r,s)=>{s.add(e.schedule(()=>r.subscribe(s),t))})}function Xd(e,t){return ct(e).pipe(ns(t),ts(t))}function Zd(e,t){return ct(e).pipe(ns(t),ts(t))}function Qd(e,t){return new Be(r=>{let s=0;return t.schedule(function(){s===e.length?r.complete():(r.next(e[s++]),r.closed||this.schedule())})})}function Kd(e,t){return new Be(r=>{let s;return Nt(r,t,()=>{s=e[Qo](),Nt(r,t,()=>{let l,d;try{({value:l,done:d}=s.next())}catch(p){r.error(p);return}d?r.complete():r.next(l)},0,!0)}),()=>ce(s?.return)&&s.return()})}function rs(e,t){if(!e)throw new Error("Iterable cannot be null");return new Be(r=>{Nt(r,t,()=>{let s=e[Symbol.asyncIterator]();Nt(r,t,()=>{s.next().then(l=>{l.done?r.complete():r.next(l.value)})},0,!0)})})}function Jd(e,t){return rs(Jo(e),t)}function ef(e,t){if(e!=null){if(qo(e))return Xd(e,t);if($o(e))return Qd(e,t);if(Yo(e))return Zd(e,t);if(Xo(e))return rs(e,t);if(Ko(e))return Kd(e,t);if(es(e))return Jd(e,t)}throw Zo(e)}function nt(e,t){return t?ef(e,t):ct(e)}function fe(...e){let t=Wn(e);return nt(e,t)}function jr(e,t){let r=ce(e)?e:()=>e,s=l=>l.error(r());return new Be(t?l=>t.schedule(s,0,l):s)}function oc(e){return!!e&&(e instanceof Be||ce(e.lift)&&ce(e.subscribe))}var Mn=Or(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ve(e,t){return Ee((r,s)=>{let l=0;r.subscribe(Ie(s,d=>{s.next(e.call(t,d,l++))}))})}var{isArray:M1}=Array;function _1(e,t){return M1(t)?e(...t):e(t)}function tf(e){return ve(t=>_1(e,t))}var{isArray:N1}=Array,{getPrototypeOf:R1,prototype:O1,keys:L1}=Object;function nf(e){if(e.length===1){let t=e[0];if(N1(t))return{args:t,keys:null};if(P1(t)){let r=L1(t);return{args:r.map(s=>t[s]),keys:r}}}return{args:e,keys:null}}function P1(e){return e&&typeof e=="object"&&R1(e)===O1}function rf(e,t){return e.reduce((r,s,l)=>(r[s]=t[l],r),{})}function is(...e){let t=Wn(e),r=zd(e),{args:s,keys:l}=nf(e);if(s.length===0)return nt([],t);let d=new Be(F1(s,t,l?p=>rf(l,p):kt));return r?d.pipe(tf(r)):d}function F1(e,t,r=kt){return s=>{of(t,()=>{let{length:l}=e,d=new Array(l),p=l,x=l;for(let C=0;C<l;C++)of(t,()=>{let y=nt(e[C],t),v=!1;y.subscribe(Ie(s,S=>{d[C]=S,v||(v=!0,x--),x||s.next(r(d.slice()))},()=>{--p||s.complete()}))},s)},s)}}function of(e,t,r){e?Nt(r,e,t):t()}function sf(e,t,r,s,l,d,p,x){let C=[],y=0,v=0,S=!1,V=()=>{S&&!C.length&&!y&&t.complete()},L=$=>y<s?Y($):C.push($),Y=$=>{d&&t.next($),y++;let q=!1;ct(r($,v++)).subscribe(Ie(t,H=>{l?.(H),d?L(H):t.next(H)},()=>{q=!0},void 0,()=>{if(q)try{for(y--;C.length&&y<s;){let H=C.shift();p?Nt(t,p,()=>Y(H)):Y(H)}V()}catch(H){t.error(H)}}))};return e.subscribe(Ie(t,L,()=>{S=!0,V()})),()=>{x?.()}}function rt(e,t,r=1/0){return ce(t)?rt((s,l)=>ve((d,p)=>t(s,d,l,p))(ct(e(s,l))),r):(typeof t=="number"&&(r=t),Ee((s,l)=>sf(s,l,e,r)))}function sc(e=1/0){return rt(kt,e)}function af(){return sc(1)}function Vr(...e){return af()(nt(e,Wn(e)))}function os(e){return new Be(t=>{ct(e()).subscribe(t)})}function an(e,t){return Ee((r,s)=>{let l=0;r.subscribe(Ie(s,d=>e.call(t,d,l++)&&s.next(d)))})}function $n(e){return Ee((t,r)=>{let s=null,l=!1,d;s=t.subscribe(Ie(r,void 0,void 0,p=>{d=ct(e(p,$n(e)(t))),s?(s.unsubscribe(),s=null,d.subscribe(r)):l=!0})),l&&(s.unsubscribe(),s=null,d.subscribe(r))})}function cf(e,t,r,s,l){return(d,p)=>{let x=r,C=t,y=0;d.subscribe(Ie(p,v=>{let S=y++;C=x?e(C,v,S):(x=!0,v),s&&p.next(C)},l&&(()=>{x&&p.next(C),p.complete()})))}}function Hr(e,t){return ce(t)?rt(e,t,1):rt(e,1)}function Yn(e){return Ee((t,r)=>{let s=!1;t.subscribe(Ie(r,l=>{s=!0,r.next(l)},()=>{s||r.next(e),r.complete()}))})}function _n(e){return e<=0?()=>Bt:Ee((t,r)=>{let s=0;t.subscribe(Ie(r,l=>{++s<=e&&(r.next(l),e<=s&&r.complete())}))})}function ac(e){return ve(()=>e)}function ss(e=k1){return Ee((t,r)=>{let s=!1;t.subscribe(Ie(r,l=>{s=!0,r.next(l)},()=>s?r.complete():r.error(e())))})}function k1(){return new Mn}function Ni(e){return Ee((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}function yn(e,t){let r=arguments.length>=2;return s=>s.pipe(e?an((l,d)=>e(l,d,s)):kt,_n(1),r?Yn(t):ss(()=>new Mn))}function zr(e){return e<=0?()=>Bt:Ee((t,r)=>{let s=[];t.subscribe(Ie(r,l=>{s.push(l),e<s.length&&s.shift()},()=>{for(let l of s)r.next(l);r.complete()},void 0,()=>{s=null}))})}function cc(e,t){let r=arguments.length>=2;return s=>s.pipe(e?an((l,d)=>e(l,d,s)):kt,zr(1),r?Yn(t):ss(()=>new Mn))}function lc(e,t){return Ee(cf(e,t,arguments.length>=2,!0))}function uc(...e){let t=Wn(e);return Ee((r,s)=>{(t?Vr(e,r,t):Vr(e,r)).subscribe(s)})}function cn(e,t){return Ee((r,s)=>{let l=null,d=0,p=!1,x=()=>p&&!l&&s.complete();r.subscribe(Ie(s,C=>{l?.unsubscribe();let y=0,v=d++;ct(e(C,v)).subscribe(l=Ie(s,S=>s.next(t?t(C,S,v,y++):S),()=>{l=null,x()}))},()=>{p=!0,x()}))})}function dc(e){return Ee((t,r)=>{ct(e).subscribe(Ie(r,()=>r.complete(),_i)),!r.closed&&t.subscribe(r)})}function gt(e,t,r){let s=ce(e)||t||r?{next:e,error:t,complete:r}:e;return s?Ee((l,d)=>{var p;(p=s.subscribe)===null||p===void 0||p.call(s);let x=!0;l.subscribe(Ie(d,C=>{var y;(y=s.next)===null||y===void 0||y.call(s,C),d.next(C)},()=>{var C;x=!1,(C=s.complete)===null||C===void 0||C.call(s),d.complete()},C=>{var y;x=!1,(y=s.error)===null||y===void 0||y.call(s,C),d.error(C)},()=>{var C,y;x&&((C=s.unsubscribe)===null||C===void 0||C.call(s)),(y=s.finalize)===null||y===void 0||y.call(s)}))}):kt}var ae=class extends Error{constructor(t,r){super(el(t,r)),this.code=t}};function el(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function tl(e){return{toString:e}.toString()}var Ri=globalThis;function He(e){for(let t in e)if(e[t]===He)return t;throw Error("Could not find renamed property on target object.")}function Ut(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Ut).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r===-1?t:t.substring(0,r)}function lf(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var U1=He({__forward_ref__:He});function jf(e){return e.__forward_ref__=jf,e.toString=function(){return Ut(this())},e}function Yt(e){return Vf(e)?e():e}function Vf(e){return typeof e=="function"&&e.hasOwnProperty(U1)&&e.__forward_ref__===jf}function le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ms(e){return uf(e,zf)||uf(e,Gf)}function Hf(e){return Ms(e)!==null}function uf(e,t){return e.hasOwnProperty(t)?e[t]:null}function j1(e){let t=e&&(e[zf]||e[Gf]);return t||null}function df(e){return e&&(e.hasOwnProperty(ff)||e.hasOwnProperty(V1))?e[ff]:null}var zf=He({\u0275prov:He}),ff=He({\u0275inj:He}),Gf=He({ngInjectableDef:He}),V1=He({ngInjectorDef:He}),De=class{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=le({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wf(e){return e&&!!e.\u0275providers}var H1=He({\u0275cmp:He}),z1=He({\u0275dir:He}),G1=He({\u0275pipe:He}),W1=He({\u0275mod:He}),fs=He({\u0275fac:He}),Oi=He({__NG_ELEMENT_ID__:He}),hf=He({__NG_ENV_ID__:He});function $f(e){return typeof e=="string"?e:e==null?"":String(e)}function $1(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():$f(e)}function Y1(e,t){let r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ae(-200,e)}function nl(e,t){throw new ae(-201,!1)}var xe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xe||{}),Ic;function Yf(){return Ic}function $t(e){let t=Ic;return Ic=e,t}function qf(e,t,r){let s=Ms(e);if(s&&s.providedIn=="root")return s.value===void 0?s.value=s.factory():s.value;if(r&xe.Optional)return null;if(t!==void 0)return t;nl(e,"Injector")}var q1={},Li=q1,X1="__NG_DI_FLAG__",hs="ngTempTokenPath",Z1="ngTokenPath",Q1=/\n/gm,K1="\u0275",pf="__source",Yr;function J1(){return Yr}function qn(e){let t=Yr;return Yr=e,t}function em(e,t=xe.Default){if(Yr===void 0)throw new ae(-203,!1);return Yr===null?qf(e,void 0,t):Yr.get(e,t&xe.Optional?null:void 0,t)}function Ae(e,t=xe.Default){return(Yf()||em)(Yt(e),t)}function Z(e,t=xe.Default){return Ae(e,_s(t))}function _s(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vc(e){let t=[];for(let r=0;r<e.length;r++){let s=Yt(e[r]);if(Array.isArray(s)){if(s.length===0)throw new ae(900,!1);let l,d=xe.Default;for(let p=0;p<s.length;p++){let x=s[p],C=tm(x);typeof C=="number"?C===-1?l=x.token:d|=C:l=x}t.push(Ae(l,d))}else t.push(Ae(s))}return t}function tm(e){return e[X1]}function nm(e,t,r,s){let l=e[hs];throw t[pf]&&l.unshift(t[pf]),e.message=rm(`
`+e.message,l,r,s),e[Z1]=l,e[hs]=null,e}function rm(e,t,r,s=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==K1?e.slice(2):e;let l=Ut(t);if(Array.isArray(t))l=t.map(Ut).join(" -> ");else if(typeof t=="object"){let d=[];for(let p in t)if(t.hasOwnProperty(p)){let x=t[p];d.push(p+":"+(typeof x=="string"?JSON.stringify(x):Ut(x)))}l=`{${d.join(", ")}}`}return`${r}${s?"("+s+")":""}[${l}]: ${e.replace(Q1,`
  `)}`}function Zr(e,t){let r=e.hasOwnProperty(fs);return r?e[fs]:null}function rl(e,t){e.forEach(r=>Array.isArray(r)?rl(r,t):t(r))}function Xf(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function ps(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Pi={},Qr=[],Kr=new De(""),Zf=new De("",-1),Qf=new De(""),gs=class{get(t,r=Li){if(r===Li){let s=new Error(`NullInjectorError: No provider for ${Ut(t)}!`);throw s.name="NullInjectorError",s}return r}},Kf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Kf||{}),Cn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Cn||{}),Zn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Zn||{});function im(e,t,r){let s=e.length;for(;;){let l=e.indexOf(t,r);if(l===-1)return l;if(l===0||e.charCodeAt(l-1)<=32){let d=t.length;if(l+d===s||e.charCodeAt(l+d)<=32)return l}r=l+1}}function Dc(e,t,r){let s=0;for(;s<r.length;){let l=r[s];if(typeof l=="number"){if(l!==0)break;s++;let d=r[s++],p=r[s++],x=r[s++];e.setAttribute(t,p,x,d)}else{let d=l,p=r[++s];sm(d)?e.setProperty(t,d,p):e.setAttribute(t,d,p),s++}}return s}function om(e){return e===3||e===4||e===6}function sm(e){return e.charCodeAt(0)===64}function il(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let r=-1;for(let s=0;s<t.length;s++){let l=t[s];typeof l=="number"?r=l:r===0||(r===-1||r===2?gf(e,r,l,null,t[++s]):gf(e,r,l,null,null))}}return e}function gf(e,t,r,s,l){let d=0,p=e.length;if(t===-1)p=-1;else for(;d<e.length;){let x=e[d++];if(typeof x=="number"){if(x===t){p=-1;break}else if(x>t){p=d-1;break}}}for(;d<e.length;){let x=e[d];if(typeof x=="number")break;if(x===r){if(s===null){l!==null&&(e[d+1]=l);return}else if(s===e[d+1]){e[d+2]=l;return}}d++,s!==null&&d++,l!==null&&d++}p!==-1&&(e.splice(p,0,t),d=p+1),e.splice(d++,0,r),s!==null&&e.splice(d++,0,s),l!==null&&e.splice(d++,0,l)}var Jf="ng-template";function am(e,t,r,s){let l=0;if(s){for(;l<t.length&&typeof t[l]=="string";l+=2)if(t[l]==="class"&&im(t[l+1].toLowerCase(),r,0)!==-1)return!0}else if(ol(e))return!1;if(l=t.indexOf(1,l),l>-1){let d;for(;++l<t.length&&typeof(d=t[l])=="string";)if(d.toLowerCase()===r)return!0}return!1}function ol(e){return e.type===4&&e.value!==Jf}function cm(e,t,r){let s=e.type===4&&!r?Jf:e.value;return t===s}function lm(e,t,r){let s=4,l=e.attrs,d=l!==null?fm(l):0,p=!1;for(let x=0;x<t.length;x++){let C=t[x];if(typeof C=="number"){if(!p&&!ln(s)&&!ln(C))return!1;if(p&&ln(C))continue;p=!1,s=C|s&1;continue}if(!p)if(s&4){if(s=2|s&1,C!==""&&!cm(e,C,r)||C===""&&t.length===1){if(ln(s))return!1;p=!0}}else if(s&8){if(l===null||!am(e,l,C,r)){if(ln(s))return!1;p=!0}}else{let y=t[++x],v=um(C,l,ol(e),r);if(v===-1){if(ln(s))return!1;p=!0;continue}if(y!==""){let S;if(v>d?S="":S=l[v+1].toLowerCase(),s&2&&y!==S){if(ln(s))return!1;p=!0}}}}return ln(s)||p}function ln(e){return(e&1)===0}function um(e,t,r,s){if(t===null)return-1;let l=0;if(s||!r){let d=!1;for(;l<t.length;){let p=t[l];if(p===e)return l;if(p===3||p===6)d=!0;else if(p===1||p===2){let x=t[++l];for(;typeof x=="string";)x=t[++l];continue}else{if(p===4)break;if(p===0){l+=4;continue}}l+=d?1:2}return-1}else return hm(t,e)}function dm(e,t,r=!1){for(let s=0;s<t.length;s++)if(lm(e,t[s],r))return!0;return!1}function fm(e){for(let t=0;t<e.length;t++){let r=e[t];if(om(r))return t}return e.length}function hm(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let s=e[r];if(typeof s=="number")return-1;if(s===t)return r;r++}return-1}function mf(e,t){return e?":not("+t.trim()+")":t}function pm(e){let t=e[0],r=1,s=2,l="",d=!1;for(;r<e.length;){let p=e[r];if(typeof p=="string")if(s&2){let x=e[++r];l+="["+p+(x.length>0?'="'+x+'"':"")+"]"}else s&8?l+="."+p:s&4&&(l+=" "+p);else l!==""&&!ln(p)&&(t+=mf(d,l),l=""),s=p,d=d||!ln(s);r++}return l!==""&&(t+=mf(d,l)),t}function gm(e){return e.map(pm).join(",")}function mm(e){let t=[],r=[],s=1,l=2;for(;s<e.length;){let d=e[s];if(typeof d=="string")l===2?d!==""&&t.push(d,e[++s]):l===8&&r.push(d);else{if(!ln(l))break;l=d}s++}return{attrs:t,classes:r}}function ni(e){return tl(()=>{let t=ih(e),r=Ke(J({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Kf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Cn.Emulated,styles:e.styles||Qr,_:null,schemas:e.schemas||null,tView:null,id:""});oh(r);let s=e.dependencies;return r.directiveDefs=xf(s,!1),r.pipeDefs=xf(s,!0),r.id=wm(r),r})}function ym(e){return dr(e)||eh(e)}function xm(e){return e!==null}function yf(e,t){if(e==null)return Pi;let r={};for(let s in e)if(e.hasOwnProperty(s)){let l=e[s],d,p,x=Zn.None;Array.isArray(l)?(x=l[0],d=l[1],p=l[2]??d):(d=l,p=l),t?(r[d]=x!==Zn.None?[s,x]:s,t[d]=p):r[d]=s}return r}function sl(e){return tl(()=>{let t=ih(e);return oh(t),t})}function dr(e){return e[H1]||null}function eh(e){return e[z1]||null}function th(e){return e[G1]||null}function nh(e){let t=dr(e)||eh(e)||th(e);return t!==null?t.standalone:!1}function rh(e,t){let r=e[W1]||null;if(!r&&t===!0)throw new Error(`Type ${Ut(e)} does not have '\u0275mod' property.`);return r}function ih(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Pi,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Qr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yf(e.inputs,t),outputs:yf(e.outputs),debugInfo:null}}function oh(e){e.features?.forEach(t=>t(e))}function xf(e,t){if(!e)return null;let r=t?th:ym;return()=>(typeof e=="function"?e():e).map(s=>r(s)).filter(xm)}function wm(e){let t=0,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let l of r)t=Math.imul(31,t)+l.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Ns(e){return{\u0275providers:e}}function Cm(...e){return{\u0275providers:sh(!0,e),\u0275fromNgModule:!0}}function sh(e,...t){let r=[],s=new Set,l,d=p=>{r.push(p)};return rl(t,p=>{let x=p;Ac(x,d,[],s)&&(l||=[],l.push(x))}),l!==void 0&&ah(l,d),r}function ah(e,t){for(let r=0;r<e.length;r++){let{ngModule:s,providers:l}=e[r];al(l,d=>{t(d,s)})}}function Ac(e,t,r,s){if(e=Yt(e),!e)return!1;let l=null,d=df(e),p=!d&&dr(e);if(!d&&!p){let C=e.ngModule;if(d=df(C),d)l=C;else return!1}else{if(p&&!p.standalone)return!1;l=e}let x=s.has(l);if(p){if(x)return!1;if(s.add(l),p.dependencies){let C=typeof p.dependencies=="function"?p.dependencies():p.dependencies;for(let y of C)Ac(y,t,r,s)}}else if(d){if(d.imports!=null&&!x){s.add(l);let y;try{rl(d.imports,v=>{Ac(v,t,r,s)&&(y||=[],y.push(v))})}finally{}y!==void 0&&ah(y,t)}if(!x){let y=Zr(l)||(()=>new l);t({provide:l,useFactory:y,deps:Qr},l),t({provide:Qf,useValue:l,multi:!0},l),t({provide:Kr,useValue:()=>Ae(l),multi:!0},l)}let C=d.providers;if(C!=null&&!x){let y=e;al(C,v=>{t(v,y)})}}else return!1;return l!==e&&e.providers!==void 0}function al(e,t){for(let r of e)Wf(r)&&(r=r.\u0275providers),Array.isArray(r)?al(r,t):t(r)}var Em=He({provide:String,useValue:He});function ch(e){return e!==null&&typeof e=="object"&&Em in e}function Im(e){return!!(e&&e.useExisting)}function vm(e){return!!(e&&e.useFactory)}function Sc(e){return typeof e=="function"}var Rs=new De(""),as={},Dm={},fc;function cl(){return fc===void 0&&(fc=new gs),fc}var qt=class{},Fi=class extends qt{get destroyed(){return this._destroyed}constructor(t,r,s,l){super(),this.parent=r,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tc(t,p=>this.processProvider(p)),this.records.set(Zf,Gr(void 0,this)),l.has("environment")&&this.records.set(qt,Gr(void 0,this));let d=this.records.get(Rs);d!=null&&typeof d.value=="string"&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Qf,Qr,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Me(null);try{for(let s of this._ngOnDestroyHooks)s.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let r=qn(this),s=$t(void 0),l;try{return t()}finally{qn(r),$t(s)}}get(t,r=Li,s=xe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(hf))return t[hf](this);s=_s(s);let l,d=qn(this),p=$t(void 0);try{if(!(s&xe.SkipSelf)){let C=this.records.get(t);if(C===void 0){let y=_m(t)&&Ms(t);y&&this.injectableDefInScope(y)?C=Gr(bc(t),as):C=null,this.records.set(t,C)}if(C!=null)return this.hydrate(t,C)}let x=s&xe.Self?cl():this.parent;return r=s&xe.Optional&&r===Li?null:r,x.get(t,r)}catch(x){if(x.name==="NullInjectorError"){if((x[hs]=x[hs]||[]).unshift(Ut(t)),d)throw x;return nm(x,t,"R3InjectorError",this.source)}else throw x}finally{$t(p),qn(d)}}resolveInjectorInitializers(){let t=Me(null),r=qn(this),s=$t(void 0),l;try{let d=this.get(Kr,Qr,xe.Self);for(let p of d)p()}finally{qn(r),$t(s),Me(t)}}toString(){let t=[],r=this.records;for(let s of r.keys())t.push(Ut(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(t){t=Yt(t);let r=Sc(t)?t:Yt(t&&t.provide),s=Sm(t);if(!Sc(t)&&t.multi===!0){let l=this.records.get(r);l||(l=Gr(void 0,as,!0),l.factory=()=>vc(l.multi),this.records.set(r,l)),r=t,l.multi.push(t)}this.records.set(r,s)}hydrate(t,r){let s=Me(null);try{return r.value===as&&(r.value=Dm,r.value=r.factory()),typeof r.value=="object"&&r.value&&Mm(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Me(s)}}injectableDefInScope(t){if(!t.providedIn)return!1;let r=Yt(t.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){let r=this._onDestroyHooks.indexOf(t);r!==-1&&this._onDestroyHooks.splice(r,1)}};function bc(e){let t=Ms(e),r=t!==null?t.factory:Zr(e);if(r!==null)return r;if(e instanceof De)throw new ae(204,!1);if(e instanceof Function)return Am(e);throw new ae(204,!1)}function Am(e){if(e.length>0)throw new ae(204,!1);let r=j1(e);return r!==null?()=>r.factory(e):()=>new e}function Sm(e){if(ch(e))return Gr(void 0,e.useValue);{let t=bm(e);return Gr(t,as)}}function bm(e,t,r){let s;if(Sc(e)){let l=Yt(e);return Zr(l)||bc(l)}else if(ch(e))s=()=>Yt(e.useValue);else if(vm(e))s=()=>e.useFactory(...vc(e.deps||[]));else if(Im(e))s=()=>Ae(Yt(e.useExisting));else{let l=Yt(e&&(e.useClass||e.provide));if(Tm(e))s=()=>new l(...vc(e.deps));else return Zr(l)||bc(l)}return s}function Gr(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Tm(e){return!!e.deps}function Mm(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function _m(e){return typeof e=="function"||typeof e=="object"&&e instanceof De}function Tc(e,t){for(let r of e)Array.isArray(r)?Tc(r,t):r&&Wf(r)?Tc(r.\u0275providers,t):t(r)}function mr(e,t){e instanceof Fi&&e.assertNotDestroyed();let r,s=qn(e),l=$t(void 0);try{return t()}finally{qn(s),$t(l)}}function Nm(){return Yf()!==void 0||J1()!=null}function Rm(e){return typeof e=="function"}var Rn=0,we=1,ie=2,Et=3,un=4,fn=5,ms=6,ki=7,dn=8,Jr=9,En=10,Ot=11,Bi=12,wf=13,ri=14,In=15,Os=16,Wr=17,ei=18,Ls=19,lh=20,Xn=21,hc=22,fr=23,vn=25,uh=1;var hr=7,ys=8,xs=9,jt=10,ll=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ll||{});function qr(e){return Array.isArray(e)&&typeof e[uh]=="object"}function On(e){return Array.isArray(e)&&e[uh]===!0}function dh(e){return(e.flags&4)!==0}function Ps(e){return e.componentOffset>-1}function ul(e){return(e.flags&1)===1}function $i(e){return!!e.template}function Om(e){return(e[ie]&512)!==0}var Mc=class{constructor(t,r,s){this.previousValue=t,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}};function fh(e,t,r,s){t!==null?t.applyValueToInputSignal(t,s):e[r]=s}function Fs(){return hh}function hh(e){return e.type.prototype.ngOnChanges&&(e.setInput=Pm),Lm}Fs.ngInherit=!0;function Lm(){let e=gh(this),t=e?.current;if(t){let r=e.previous;if(r===Pi)e.previous=t;else for(let s in t)r[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Pm(e,t,r,s,l){let d=this.declaredInputs[s],p=gh(e)||Fm(e,{previous:Pi,current:null}),x=p.current||(p.current={}),C=p.previous,y=C[d];x[d]=new Mc(y&&y.currentValue,r,C===Pi),fh(e,t,l,r)}var ph="__ngSimpleChanges__";function gh(e){return e[ph]||null}function Fm(e,t){return e[ph]=t}var Cf=null;var xn=function(e,t,r){Cf?.(e,t,r)},km="svg",Bm="math",Um=!1;function jm(){return Um}function Dn(e){for(;Array.isArray(e);)e=e[Rn];return e}function Vm(e,t){return Dn(t[e])}function hn(e,t){return Dn(t[e.index])}function dl(e,t){return e.data[t]}function yr(e,t){let r=t[e];return qr(r)?r:r[Rn]}function fl(e){return(e[ie]&128)===128}function Hm(e){return On(e[Et])}function ws(e,t){return t==null?null:e[t]}function mh(e){e[Wr]=0}function zm(e){e[ie]&1024||(e[ie]|=1024,fl(e)&&Ui(e))}function Gm(e,t){for(;e>0;)t=t[ri],e--;return t}function hl(e){return!!(e[ie]&9216||e[fr]?.dirty)}function _c(e){e[En].changeDetectionScheduler?.notify(1),hl(e)?Ui(e):e[ie]&64&&(jm()?(e[ie]|=1024,Ui(e)):e[En].changeDetectionScheduler?.notify())}function Ui(e){e[En].changeDetectionScheduler?.notify();let t=ji(e);for(;t!==null&&!(t[ie]&8192||(t[ie]|=8192,!fl(t)));)t=ji(t)}function yh(e,t){if((e[ie]&256)===256)throw new ae(911,!1);e[Xn]===null&&(e[Xn]=[]),e[Xn].push(t)}function Wm(e,t){if(e[Xn]===null)return;let r=e[Xn].indexOf(t);r!==-1&&e[Xn].splice(r,1)}function ji(e){let t=e[Et];return On(t)?t[Et]:t}var _e={lFrame:Dh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $m(){return _e.lFrame.elementDepthCount}function Ym(){_e.lFrame.elementDepthCount++}function qm(){_e.lFrame.elementDepthCount--}function xh(){return _e.bindingsEnabled}function Xm(){return _e.skipHydrationRootTNode!==null}function Zm(e){return _e.skipHydrationRootTNode===e}function Qm(){_e.skipHydrationRootTNode=null}function mt(){return _e.lFrame.lView}function xr(){return _e.lFrame.tView}function Ln(){let e=wh();for(;e!==null&&e.type===64;)e=e.parent;return e}function wh(){return _e.lFrame.currentTNode}function Km(){let e=_e.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Yi(e,t){let r=_e.lFrame;r.currentTNode=e,r.isParent=t}function Ch(){return _e.lFrame.isParent}function Jm(){_e.lFrame.isParent=!1}function ey(e){return _e.lFrame.bindingIndex=e}function pl(){return _e.lFrame.bindingIndex++}function ty(){return _e.lFrame.inI18n}function ny(e,t){let r=_e.lFrame;r.bindingIndex=r.bindingRootIndex=e,Nc(t)}function ry(){return _e.lFrame.currentDirectiveIndex}function Nc(e){_e.lFrame.currentDirectiveIndex=e}function Eh(e){_e.lFrame.currentQueryIndex=e}function iy(e){let t=e[we];return t.type===2?t.declTNode:t.type===1?e[fn]:null}function Ih(e,t,r){if(r&xe.SkipSelf){let l=t,d=e;for(;l=l.parent,l===null&&!(r&xe.Host);)if(l=iy(d),l===null||(d=d[ri],l.type&10))break;if(l===null)return!1;t=l,e=d}let s=_e.lFrame=vh();return s.currentTNode=t,s.lView=e,!0}function gl(e){let t=vh(),r=e[we];_e.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function vh(){let e=_e.lFrame,t=e===null?null:e.child;return t===null?Dh(e):t}function Dh(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Ah(){let e=_e.lFrame;return _e.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Sh=Ah;function ml(){let e=Ah();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oy(e){return(_e.lFrame.contextLView=Gm(e,_e.lFrame.contextLView))[dn]}function yl(){return _e.lFrame.selectedIndex}function pr(e){_e.lFrame.selectedIndex=e}function sy(){let e=_e.lFrame;return dl(e.tView,e.selectedIndex)}function ay(){return _e.lFrame.currentNamespace}var bh=!0;function xl(){return bh}function wl(e){bh=e}function cy(e,t,r){let{ngOnChanges:s,ngOnInit:l,ngDoCheck:d}=t.type.prototype;if(s){let p=hh(t);(r.preOrderHooks??=[]).push(e,p),(r.preOrderCheckHooks??=[]).push(e,p)}l&&(r.preOrderHooks??=[]).push(0-e,l),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}function Cl(e,t){for(let r=t.directiveStart,s=t.directiveEnd;r<s;r++){let d=e.data[r].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:x,ngAfterViewInit:C,ngAfterViewChecked:y,ngOnDestroy:v}=d;p&&(e.contentHooks??=[]).push(-r,p),x&&((e.contentHooks??=[]).push(r,x),(e.contentCheckHooks??=[]).push(r,x)),C&&(e.viewHooks??=[]).push(-r,C),y&&((e.viewHooks??=[]).push(r,y),(e.viewCheckHooks??=[]).push(r,y)),v!=null&&(e.destroyHooks??=[]).push(r,v)}}function cs(e,t,r){Th(e,t,3,r)}function ls(e,t,r,s){(e[ie]&3)===r&&Th(e,t,r,s)}function pc(e,t){let r=e[ie];(r&3)===t&&(r&=16383,r+=1,e[ie]=r)}function Th(e,t,r,s){let l=s!==void 0?e[Wr]&65535:0,d=s??-1,p=t.length-1,x=0;for(let C=l;C<p;C++)if(typeof t[C+1]=="number"){if(x=t[C],s!=null&&x>=s)break}else t[C]<0&&(e[Wr]+=65536),(x<d||d==-1)&&(ly(e,r,t,C),e[Wr]=(e[Wr]&4294901760)+C+2),C++}function Ef(e,t){xn(4,e,t);let r=Me(null);try{t.call(e)}finally{Me(r),xn(5,e,t)}}function ly(e,t,r,s){let l=r[s]<0,d=r[s+1],p=l?-r[s]:r[s],x=e[p];l?e[ie]>>14<e[Wr]>>16&&(e[ie]&3)===t&&(e[ie]+=16384,Ef(x,d)):Ef(x,d)}var Xr=-1,Vi=class{constructor(t,r,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}};function uy(e){return e instanceof Vi}function dy(e){return(e.flags&8)!==0}function fy(e){return(e.flags&16)!==0}function Mh(e){return e!==Xr}function Cs(e){return e&32767}function hy(e){return e>>16}function Es(e,t){let r=hy(e),s=t;for(;r>0;)s=s[ri],r--;return s}var Rc=!0;function If(e){let t=Rc;return Rc=e,t}var py=256,_h=py-1,Nh=5,gy=0,wn={};function my(e,t,r){let s;typeof r=="string"?s=r.charCodeAt(0)||0:r.hasOwnProperty(Oi)&&(s=r[Oi]),s==null&&(s=r[Oi]=gy++);let l=s&_h,d=1<<l;t.data[e+(l>>Nh)]|=d}function Rh(e,t){let r=Oh(e,t);if(r!==-1)return r;let s=t[we];s.firstCreatePass&&(e.injectorIndex=t.length,gc(s.data,e),gc(t,null),gc(s.blueprint,null));let l=El(e,t),d=e.injectorIndex;if(Mh(l)){let p=Cs(l),x=Es(l,t),C=x[we].data;for(let y=0;y<8;y++)t[d+y]=x[p+y]|C[p+y]}return t[d+8]=l,d}function gc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Oh(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function El(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,s=null,l=t;for(;l!==null;){if(s=Bh(l),s===null)return Xr;if(r++,l=l[ri],s.injectorIndex!==-1)return s.injectorIndex|r<<16}return Xr}function yy(e,t,r){my(e,t,r)}function Lh(e,t,r){if(r&xe.Optional||e!==void 0)return e;nl(t,"NodeInjector")}function Ph(e,t,r,s){if(r&xe.Optional&&s===void 0&&(s=null),!(r&(xe.Self|xe.Host))){let l=e[Jr],d=$t(void 0);try{return l?l.get(t,s,r&xe.Optional):qf(t,s,r&xe.Optional)}finally{$t(d)}}return Lh(s,t,r)}function Fh(e,t,r,s=xe.Default,l){if(e!==null){if(t[ie]&2048&&!(s&xe.Self)){let p=Iy(e,t,r,s,wn);if(p!==wn)return p}let d=kh(e,t,r,s,wn);if(d!==wn)return d}return Ph(t,r,s,l)}function kh(e,t,r,s,l){let d=Cy(r);if(typeof d=="function"){if(!Ih(t,e,s))return s&xe.Host?Lh(l,r,s):Ph(t,r,s,l);try{let p;if(p=d(s),p==null&&!(s&xe.Optional))nl(r);else return p}finally{Sh()}}else if(typeof d=="number"){let p=null,x=Oh(e,t),C=Xr,y=s&xe.Host?t[In][fn]:null;for((x===-1||s&xe.SkipSelf)&&(C=x===-1?El(e,t):t[x+8],C===Xr||!Df(s,!1)?x=-1:(p=t[we],x=Cs(C),t=Es(C,t)));x!==-1;){let v=t[we];if(vf(d,x,v.data)){let S=xy(x,t,r,p,s,y);if(S!==wn)return S}C=t[x+8],C!==Xr&&Df(s,t[we].data[x+8]===y)&&vf(d,x,t)?(p=v,x=Cs(C),t=Es(C,t)):x=-1}}return l}function xy(e,t,r,s,l,d){let p=t[we],x=p.data[e+8],C=s==null?Ps(x)&&Rc:s!=p&&(x.type&3)!==0,y=l&xe.Host&&d===x,v=wy(x,p,r,C,y);return v!==null?Hi(t,p,v,x):wn}function wy(e,t,r,s,l){let d=e.providerIndexes,p=t.data,x=d&1048575,C=e.directiveStart,y=e.directiveEnd,v=d>>20,S=s?x:x+v,V=l?x+v:y;for(let L=S;L<V;L++){let Y=p[L];if(L<C&&r===Y||L>=C&&Y.type===r)return L}if(l){let L=p[C];if(L&&$i(L)&&L.type===r)return C}return null}function Hi(e,t,r,s){let l=e[r],d=t.data;if(uy(l)){let p=l;p.resolving&&Y1($1(d[r]));let x=If(p.canSeeViewProviders);p.resolving=!0;let C,y=p.injectImpl?$t(p.injectImpl):null,v=Ih(e,s,xe.Default);try{l=e[r]=p.factory(void 0,d,e,s),t.firstCreatePass&&r>=s.directiveStart&&cy(r,d[r],t)}finally{y!==null&&$t(y),If(x),p.resolving=!1,Sh()}}return l}function Cy(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Oi)?e[Oi]:void 0;return typeof t=="number"?t>=0?t&_h:Ey:t}function vf(e,t,r){let s=1<<e;return!!(r[t+(e>>Nh)]&s)}function Df(e,t){return!(e&xe.Self)&&!(e&xe.Host&&t)}var ur=class{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,s){return Fh(this._tNode,this._lView,t,_s(s),r)}};function Ey(){return new ur(Ln(),mt())}function Il(e){return tl(()=>{let t=e.prototype.constructor,r=t[fs]||Oc(t),s=Object.prototype,l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==s;){let d=l[fs]||Oc(l);if(d&&d!==r)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Oc(e){return Vf(e)?()=>{let t=Oc(Yt(e));return t&&t()}:Zr(e)}function Iy(e,t,r,s,l){let d=e,p=t;for(;d!==null&&p!==null&&p[ie]&2048&&!(p[ie]&512);){let x=kh(d,p,r,s|xe.Self,wn);if(x!==wn)return x;let C=d.parent;if(!C){let y=p[lh];if(y){let v=y.get(r,wn,s);if(v!==wn)return v}C=Bh(p),p=p[ri]}d=C}return l}function Bh(e){let t=e[we],r=t.type;return r===2?t.declTNode:r===1?e[fn]:null}function Af(e,t=null,r=null,s){let l=Uh(e,t,r,s);return l.resolveInjectorInitializers(),l}function Uh(e,t=null,r=null,s,l=new Set){let d=[r||Qr,Cm(e)];return s=s||(typeof e=="object"?void 0:Ut(e)),new Fi(d,t||cl(),s||null,l)}var qi=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Li}static{this.NULL=new gs}static create(r,s){if(Array.isArray(r))return Af({name:""},s,r,"");{let l=r.name??"";return Af({name:l},r.parent,r.providers,l)}}static{this.\u0275prov=le({token:e,providedIn:"any",factory:()=>Ae(Zf)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var vy="ngOriginalError";function mc(e){return e[vy]}var Nn=class{constructor(){this._console=console}handleError(t){let r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&mc(t);for(;r&&mc(r);)r=mc(r);return r||null}},jh=new De("",{providedIn:"root",factory:()=>Z(Nn).handleError.bind(void 0)}),Vh=(()=>{class e{static{this.__NG_ELEMENT_ID__=Dy}static{this.__NG_ENV_ID__=r=>r}}return e})(),Lc=class extends Vh{constructor(t){super(),this._lView=t}onDestroy(t){return yh(this._lView,t),()=>Wm(this._lView,t)}};function Dy(){return new Lc(mt())}function Ay(){return vl(Ln(),mt())}function vl(e,t){return new ks(hn(e,t))}var ks=(()=>{class e{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=Ay}}return e})();var Pc=class extends At{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,Nm()&&(this.destroyRef=Z(Vh,{optional:!0})??void 0)}emit(t){let r=Me(null);try{super.next(t)}finally{Me(r)}}subscribe(t,r,s){let l=t,d=r||(()=>null),p=s;if(t&&typeof t=="object"){let C=t;l=C.next?.bind(C),d=C.error?.bind(C),p=C.complete?.bind(C)}this.__isAsync&&(d=yc(d),l&&(l=yc(l)),p&&(p=yc(p)));let x=super.subscribe({next:l,error:d,complete:p});return t instanceof tt&&t.add(x),x}};function yc(e){return t=>{setTimeout(e,void 0,t)}}var Rt=Pc;function Hh(e){return(e.flags&128)===128}var zh=new Map,Sy=0;function by(){return Sy++}function Ty(e){zh.set(e[Ls],e)}function My(e){zh.delete(e[Ls])}var Sf="__ngContext__";function gr(e,t){qr(t)?(e[Sf]=t[Ls],Ty(t)):e[Sf]=t}function Gh(e){return $h(e[Bi])}function Wh(e){return $h(e[un])}function $h(e){for(;e!==null&&!On(e);)e=e[un];return e}var Fc;function Yh(e){Fc=e}function _y(){if(Fc!==void 0)return Fc;if(typeof document<"u")return document;throw new ae(210,!1)}var Dl=new De("",{providedIn:"root",factory:()=>Ny}),Ny="ng",Al=new De(""),ii=new De("",{providedIn:"platform",factory:()=>"unknown"});var Sl=new De("",{providedIn:"root",factory:()=>_y().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ry="h",Oy="b";var Ly=()=>null;function bl(e,t,r=!1){return Ly(e,t,r)}var qh=!1,Py=new De("",{providedIn:"root",factory:()=>qh});function Xh(e){return e instanceof Function?e():e}var wr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(wr||{}),Fy;function Tl(e,t){return Fy(e,t)}function $r(e,t,r,s,l){if(s!=null){let d,p=!1;On(s)?d=s:qr(s)&&(p=!0,s=s[Rn]);let x=Dn(s);e===0&&r!==null?l==null?Jh(t,r,x):vs(t,r,x,l||null,!0):e===1&&r!==null?vs(t,r,x,l||null,!0):e===2?Jy(t,x,p):e===3&&t.destroyNode(x),d!=null&&tx(t,e,d,r,l)}}function ky(e,t){return e.createText(t)}function By(e,t,r){e.setValue(t,r)}function Zh(e,t,r){return e.createElement(t,r)}function Uy(e,t){Qh(e,t),t[Rn]=null,t[fn]=null}function jy(e,t,r,s,l,d){s[Rn]=l,s[fn]=t,Bs(e,s,r,1,l,d)}function Qh(e,t){t[En].changeDetectionScheduler?.notify(1),Bs(e,t,t[Ot],2,null,null)}function Vy(e){let t=e[Bi];if(!t)return xc(e[we],e);for(;t;){let r=null;if(qr(t))r=t[Bi];else{let s=t[jt];s&&(r=s)}if(!r){for(;t&&!t[un]&&t!==e;)qr(t)&&xc(t[we],t),t=t[Et];t===null&&(t=e),qr(t)&&xc(t[we],t),r=t&&t[un]}t=r}}function Hy(e,t,r,s){let l=jt+s,d=r.length;s>0&&(r[l-1][un]=t),s<d-jt?(t[un]=r[l],Xf(r,jt+s,t)):(r.push(t),t[un]=null),t[Et]=r;let p=t[Os];p!==null&&r!==p&&zy(p,t);let x=t[ei];x!==null&&x.insertView(e),_c(t),t[ie]|=128}function zy(e,t){let r=e[xs],l=t[Et][Et][In];t[In]!==l&&(e[ie]|=ll.HasTransplantedViews),r===null?e[xs]=[t]:r.push(t)}function Kh(e,t){let r=e[xs],s=r.indexOf(t);r.splice(s,1)}function Is(e,t){if(e.length<=jt)return;let r=jt+t,s=e[r];if(s){let l=s[Os];l!==null&&l!==e&&Kh(l,s),t>0&&(e[r-1][un]=s[un]);let d=ps(e,jt+t);Uy(s[we],s);let p=d[ei];p!==null&&p.detachView(d[we]),s[Et]=null,s[un]=null,s[ie]&=-129}return s}function Ml(e,t){if(!(t[ie]&256)){let r=t[Ot];r.destroyNode&&Bs(e,t,r,3,null,null),Vy(t)}}function xc(e,t){if(t[ie]&256)return;let r=Me(null);try{t[ie]&=-129,t[ie]|=256,t[fr]&&Rd(t[fr]),Wy(e,t),Gy(e,t),t[we].type===1&&t[Ot].destroy();let s=t[Os];if(s!==null&&On(t[Et])){s!==t[Et]&&Kh(s,t);let l=t[ei];l!==null&&l.detachView(e)}My(t)}finally{Me(r)}}function Gy(e,t){let r=e.cleanup,s=t[ki];if(r!==null)for(let d=0;d<r.length-1;d+=2)if(typeof r[d]=="string"){let p=r[d+3];p>=0?s[p]():s[-p].unsubscribe(),d+=2}else{let p=s[r[d+1]];r[d].call(p)}s!==null&&(t[ki]=null);let l=t[Xn];if(l!==null){t[Xn]=null;for(let d=0;d<l.length;d++){let p=l[d];p()}}}function Wy(e,t){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let s=0;s<r.length;s+=2){let l=t[r[s]];if(!(l instanceof Vi)){let d=r[s+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){let x=l[d[p]],C=d[p+1];xn(4,x,C);try{C.call(x)}finally{xn(5,x,C)}}else{xn(4,l,d);try{d.call(l)}finally{xn(5,l,d)}}}}}function $y(e,t,r){return Yy(e,t.parent,r)}function Yy(e,t,r){let s=t;for(;s!==null&&s.type&40;)t=s,s=t.parent;if(s===null)return r[Rn];{let{componentOffset:l}=s;if(l>-1){let{encapsulation:d}=e.data[s.directiveStart+l];if(d===Cn.None||d===Cn.Emulated)return null}return hn(s,r)}}function vs(e,t,r,s,l){e.insertBefore(t,r,s,l)}function Jh(e,t,r){e.appendChild(t,r)}function bf(e,t,r,s,l){s!==null?vs(e,t,r,s,l):Jh(e,t,r)}function qy(e,t,r,s){e.removeChild(t,r,s)}function _l(e,t){return e.parentNode(t)}function Xy(e,t){return e.nextSibling(t)}function Zy(e,t,r){return Ky(e,t,r)}function Qy(e,t,r){return e.type&40?hn(e,r):null}var Ky=Qy,Tf;function Nl(e,t,r,s){let l=$y(e,s,t),d=t[Ot],p=s.parent||t[fn],x=Zy(p,s,t);if(l!=null)if(Array.isArray(r))for(let C=0;C<r.length;C++)bf(d,l,r[C],x,!1);else bf(d,l,r,x,!1);Tf!==void 0&&Tf(d,s,t,r,l)}function us(e,t){if(t!==null){let r=t.type;if(r&3)return hn(t,e);if(r&4)return kc(-1,e[t.index]);if(r&8){let s=t.child;if(s!==null)return us(e,s);{let l=e[t.index];return On(l)?kc(-1,l):Dn(l)}}else{if(r&32)return Tl(t,e)()||Dn(e[t.index]);{let s=ep(e,t);if(s!==null){if(Array.isArray(s))return s[0];let l=ji(e[In]);return us(l,s)}else return us(e,t.next)}}}return null}function ep(e,t){if(t!==null){let s=e[In][fn],l=t.projection;return s.projection[l]}return null}function kc(e,t){let r=jt+e+1;if(r<t.length){let s=t[r],l=s[we].firstChild;if(l!==null)return us(s,l)}return t[hr]}function Jy(e,t,r){let s=_l(e,t);s&&qy(e,s,t,r)}function Rl(e,t,r,s,l,d,p){for(;r!=null;){let x=s[r.index],C=r.type;if(p&&t===0&&(x&&gr(Dn(x),s),r.flags|=2),(r.flags&32)!==32)if(C&8)Rl(e,t,r.child,s,l,d,!1),$r(t,e,l,x,d);else if(C&32){let y=Tl(r,s),v;for(;v=y();)$r(t,e,l,v,d);$r(t,e,l,x,d)}else C&16?ex(e,t,s,r,l,d):$r(t,e,l,x,d);r=p?r.projectionNext:r.next}}function Bs(e,t,r,s,l,d){Rl(r,s,e.firstChild,t,l,d,!1)}function ex(e,t,r,s,l,d){let p=r[In],C=p[fn].projection[s.projection];if(Array.isArray(C))for(let y=0;y<C.length;y++){let v=C[y];$r(t,e,l,v,d)}else{let y=C,v=p[Et];Hh(s)&&(y.flags|=128),Rl(e,t,y,v,l,d,!0)}}function tx(e,t,r,s,l){let d=r[hr],p=Dn(r);d!==p&&$r(t,e,s,d,l);for(let x=jt;x<r.length;x++){let C=r[x];Bs(C[we],C,e,t,s,d)}}function nx(e,t,r){e.setAttribute(t,"style",r)}function tp(e,t,r){r===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function np(e,t,r){let{mergedAttrs:s,classes:l,styles:d}=r;s!==null&&Dc(e,t,s),l!==null&&tp(e,t,l),d!==null&&nx(e,t,d)}var Us={};function Ol(e=1){rp(xr(),mt(),yl()+e,!1)}function rp(e,t,r,s){if(!s)if((t[ie]&3)===3){let d=e.preOrderCheckHooks;d!==null&&cs(t,d,r)}else{let d=e.preOrderHooks;d!==null&&ls(t,d,0,r)}pr(r)}function Xi(e,t=xe.Default){let r=mt();if(r===null)return Ae(e,t);let s=Ln();return Fh(s,r,Yt(e),t)}function ip(e,t,r,s,l,d){let p=Me(null);try{let x=null;l&Zn.SignalBased&&(x=t[s][Td]),x!==null&&x.transformFn!==void 0&&(d=x.transformFn(d)),l&Zn.HasDecoratorInputTransform&&(d=e.inputTransforms[s].call(t,d)),e.setInput!==null?e.setInput(t,x,d,r,s):fh(t,x,s,d)}finally{Me(p)}}function rx(e,t){let r=e.hostBindingOpCodes;if(r!==null)try{for(let s=0;s<r.length;s++){let l=r[s];if(l<0)pr(~l);else{let d=l,p=r[++s],x=r[++s];ny(p,d);let C=t[d];x(2,C)}}}finally{pr(-1)}}function js(e,t,r,s,l,d,p,x,C,y,v){let S=t.blueprint.slice();return S[Rn]=l,S[ie]=s|4|128|8|64,(y!==null||e&&e[ie]&2048)&&(S[ie]|=2048),mh(S),S[Et]=S[ri]=e,S[dn]=r,S[En]=p||e&&e[En],S[Ot]=x||e&&e[Ot],S[Jr]=C||e&&e[Jr]||null,S[fn]=d,S[Ls]=by(),S[ms]=v,S[lh]=y,S[In]=t.type==2?e[In]:S,S}function Vs(e,t,r,s,l){let d=e.data[t];if(d===null)d=ix(e,t,r,s,l),ty()&&(d.flags|=32);else if(d.type&64){d.type=r,d.value=s,d.attrs=l;let p=Km();d.injectorIndex=p===null?-1:p.injectorIndex}return Yi(d,!0),d}function ix(e,t,r,s,l){let d=wh(),p=Ch(),x=p?d:d&&d.parent,C=e.data[t]=lx(e,x,r,t,s,l);return e.firstChild===null&&(e.firstChild=C),d!==null&&(p?d.child==null&&C.parent!==null&&(d.child=C):d.next===null&&(d.next=C,C.prev=d)),C}function op(e,t,r,s){if(r===0)return-1;let l=t.length;for(let d=0;d<r;d++)t.push(s),e.blueprint.push(s),e.data.push(null);return l}function sp(e,t,r,s,l){let d=yl(),p=s&2;try{pr(-1),p&&t.length>vn&&rp(e,t,vn,!1),xn(p?2:0,l),r(s,l)}finally{pr(d),xn(p?3:1,l)}}function ap(e,t,r){if(dh(t)){let s=Me(null);try{let l=t.directiveStart,d=t.directiveEnd;for(let p=l;p<d;p++){let x=e.data[p];if(x.contentQueries){let C=r[p];x.contentQueries(1,C,p)}}}finally{Me(s)}}}function cp(e,t,r){xh()&&(mx(e,t,r,hn(r,t)),(r.flags&64)===64&&hp(e,t,r))}function lp(e,t,r=hn){let s=t.localNames;if(s!==null){let l=t.index+1;for(let d=0;d<s.length;d+=2){let p=s[d+1],x=p===-1?r(t,e):e[p];e[l++]=x}}}function up(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ll(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ll(e,t,r,s,l,d,p,x,C,y,v){let S=vn+s,V=S+l,L=ox(S,V),Y=typeof y=="function"?y():y;return L[we]={type:e,blueprint:L,template:r,queries:null,viewQuery:x,declTNode:t,data:L.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof d=="function"?d():d,pipeRegistry:typeof p=="function"?p():p,firstChild:null,schemas:C,consts:Y,incompleteFirstPass:!1,ssrId:v}}function ox(e,t){let r=[];for(let s=0;s<t;s++)r.push(s<e?null:Us);return r}function sx(e,t,r,s){let d=s.get(Py,qh)||r===Cn.ShadowDom,p=e.selectRootElement(t,d);return ax(p),p}function ax(e){cx(e)}var cx=()=>null;function lx(e,t,r,s,l,d){let p=t?t.injectorIndex:-1,x=0;return Xm()&&(x|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Mf(e,t,r,s,l){for(let d in t){if(!t.hasOwnProperty(d))continue;let p=t[d];if(p===void 0)continue;s??={};let x,C=Zn.None;Array.isArray(p)?(x=p[0],C=p[1]):x=p;let y=d;if(l!==null){if(!l.hasOwnProperty(d))continue;y=l[d]}e===0?_f(s,r,y,x,C):_f(s,r,y,x)}return s}function _f(e,t,r,s,l){let d;e.hasOwnProperty(r)?(d=e[r]).push(t,s):d=e[r]=[t,s],l!==void 0&&d.push(l)}function ux(e,t,r){let s=t.directiveStart,l=t.directiveEnd,d=e.data,p=t.attrs,x=[],C=null,y=null;for(let v=s;v<l;v++){let S=d[v],V=r?r.get(S):null,L=V?V.inputs:null,Y=V?V.outputs:null;C=Mf(0,S.inputs,v,C,L),y=Mf(1,S.outputs,v,y,Y);let $=C!==null&&p!==null&&!ol(t)?Ax(C,v,p):null;x.push($)}C!==null&&(C.hasOwnProperty("class")&&(t.flags|=8),C.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=x,t.inputs=C,t.outputs=y}function dx(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function fx(e,t,r,s,l,d,p,x){let C=hn(t,r),y=t.inputs,v;!x&&y!=null&&(v=y[s])?(Pl(e,r,v,s,l),Ps(t)&&hx(r,t.index)):t.type&3?(s=dx(s),l=p!=null?p(l,t.value||"",s):l,d.setProperty(C,s,l)):t.type&12}function hx(e,t){let r=yr(t,e);r[ie]&16||(r[ie]|=64)}function dp(e,t,r,s){if(xh()){let l=s===null?null:{"":-1},d=xx(e,r),p,x;d===null?p=x=null:[p,x]=d,p!==null&&fp(e,t,r,p,l,x),l&&wx(r,s,l)}r.mergedAttrs=il(r.mergedAttrs,r.attrs)}function fp(e,t,r,s,l,d){for(let y=0;y<s.length;y++)yy(Rh(r,t),e,s[y].type);Ex(r,e.data.length,s.length);for(let y=0;y<s.length;y++){let v=s[y];v.providersResolver&&v.providersResolver(v)}let p=!1,x=!1,C=op(e,t,s.length,null);for(let y=0;y<s.length;y++){let v=s[y];r.mergedAttrs=il(r.mergedAttrs,v.hostAttrs),Ix(e,r,t,C,v),Cx(C,v,l),v.contentQueries!==null&&(r.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(r.flags|=64);let S=v.type.prototype;!p&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),p=!0),!x&&(S.ngOnChanges||S.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),x=!0),C++}ux(e,r,d)}function px(e,t,r,s,l){let d=l.hostBindings;if(d){let p=e.hostBindingOpCodes;p===null&&(p=e.hostBindingOpCodes=[]);let x=~t.index;gx(p)!=x&&p.push(x),p.push(r,s,d)}}function gx(e){let t=e.length;for(;t>0;){let r=e[--t];if(typeof r=="number"&&r<0)return r}return 0}function mx(e,t,r,s){let l=r.directiveStart,d=r.directiveEnd;Ps(r)&&vx(t,r,e.data[l+r.componentOffset]),e.firstCreatePass||Rh(r,t),gr(s,t);let p=r.initialInputs;for(let x=l;x<d;x++){let C=e.data[x],y=Hi(t,e,x,r);if(gr(y,t),p!==null&&Dx(t,x-l,y,C,r,p),$i(C)){let v=yr(r.index,t);v[dn]=Hi(t,e,x,r)}}}function hp(e,t,r){let s=r.directiveStart,l=r.directiveEnd,d=r.index,p=ry();try{pr(d);for(let x=s;x<l;x++){let C=e.data[x],y=t[x];Nc(x),(C.hostBindings!==null||C.hostVars!==0||C.hostAttrs!==null)&&yx(C,y)}}finally{pr(-1),Nc(p)}}function yx(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function xx(e,t){let r=e.directiveRegistry,s=null,l=null;if(r)for(let d=0;d<r.length;d++){let p=r[d];if(dm(t,p.selectors,!1))if(s||(s=[]),$i(p))if(p.findHostDirectiveDefs!==null){let x=[];l=l||new Map,p.findHostDirectiveDefs(p,x,l),s.unshift(...x,p);let C=x.length;Bc(e,t,C)}else s.unshift(p),Bc(e,t,0);else l=l||new Map,p.findHostDirectiveDefs?.(p,s,l),s.push(p)}return s===null?null:[s,l]}function Bc(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function wx(e,t,r){if(t){let s=e.localNames=[];for(let l=0;l<t.length;l+=2){let d=r[t[l+1]];if(d==null)throw new ae(-301,!1);s.push(t[l],d)}}}function Cx(e,t,r){if(r){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)r[t.exportAs[s]]=e;$i(t)&&(r[""]=e)}}function Ex(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function Ix(e,t,r,s,l){e.data[s]=l;let d=l.factory||(l.factory=Zr(l.type,!0)),p=new Vi(d,$i(l),Xi);e.blueprint[s]=p,r[s]=p,px(e,t,s,op(e,r,l.hostVars,Us),l)}function vx(e,t,r){let s=hn(t,e),l=up(r),d=e[En].rendererFactory,p=16;r.signals?p=4096:r.onPush&&(p=64);let x=Hs(e,js(e,l,null,p,s,t,null,d.createRenderer(s,r),null,null,null));e[t.index]=x}function Dx(e,t,r,s,l,d){let p=d[t];if(p!==null)for(let x=0;x<p.length;){let C=p[x++],y=p[x++],v=p[x++],S=p[x++];ip(s,r,C,y,v,S)}}function Ax(e,t,r){let s=null,l=0;for(;l<r.length;){let d=r[l];if(d===0){l+=4;continue}else if(d===5){l+=2;continue}if(typeof d=="number")break;if(e.hasOwnProperty(d)){s===null&&(s=[]);let p=e[d];for(let x=0;x<p.length;x+=3)if(p[x]===t){s.push(d,p[x+1],p[x+2],r[l+1]);break}}l+=2}return s}function pp(e,t,r,s){return[e,!0,0,t,null,s,null,r,null,null]}function gp(e,t){let r=e.contentQueries;if(r!==null){let s=Me(null);try{for(let l=0;l<r.length;l+=2){let d=r[l],p=r[l+1];if(p!==-1){let x=e.data[p];Eh(d),x.contentQueries(2,t[p],p)}}}finally{Me(s)}}}function Hs(e,t){return e[Bi]?e[wf][un]=t:e[Bi]=t,e[wf]=t,t}function Uc(e,t,r){Eh(0);let s=Me(null);try{t(e,r)}finally{Me(s)}}function Sx(e){return e[ki]||(e[ki]=[])}function bx(e){return e.cleanup||(e.cleanup=[])}function mp(e,t){let r=e[Jr],s=r?r.get(Nn,null):null;s&&s.handleError(t)}function Pl(e,t,r,s,l){for(let d=0;d<r.length;){let p=r[d++],x=r[d++],C=r[d++],y=t[p],v=e.data[p];ip(v,y,s,x,C,l)}}function Tx(e,t,r){let s=Vm(t,e);By(e[Ot],s,r)}function Mx(e,t){let r=yr(t,e),s=r[we];_x(s,r);let l=r[Rn];l!==null&&r[ms]===null&&(r[ms]=bl(l,r[Jr])),Fl(s,r,r[dn])}function _x(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}function Fl(e,t,r){gl(t);try{let s=e.viewQuery;s!==null&&Uc(1,s,r);let l=e.template;l!==null&&sp(e,t,l,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[ei]?.finishViewCreation(e),e.staticContentQueries&&gp(e,t),e.staticViewQueries&&Uc(2,e.viewQuery,r);let d=e.components;d!==null&&Nx(t,d)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[ie]&=-5,ml()}}function Nx(e,t){for(let r=0;r<t.length;r++)Mx(e,t[r])}function Rx(e,t,r,s){let l=Me(null);try{let d=t.tView,x=e[ie]&4096?4096:16,C=js(e,d,r,x,null,t,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null),y=e[t.index];C[Os]=y;let v=e[ei];return v!==null&&(C[ei]=v.createEmbeddedView(d)),Fl(d,C,r),C}finally{Me(l)}}function Ox(e,t){let r=jt+t;if(r<e.length)return e[r]}function jc(e,t){return!t||t.firstChild===null||Hh(e)}function yp(e,t,r,s=!0){let l=t[we];if(Hy(l,t,e,r),s){let p=kc(r,e),x=t[Ot],C=_l(x,e[hr]);C!==null&&jy(l,e[fn],x,t,C,p)}let d=t[ms];d!==null&&d.firstChild!==null&&(d.firstChild=null)}function Lx(e,t){let r=Is(e,t);return r!==void 0&&Ml(r[we],r),r}function Ds(e,t,r,s,l=!1){for(;r!==null;){let d=t[r.index];d!==null&&s.push(Dn(d)),On(d)&&Px(d,s);let p=r.type;if(p&8)Ds(e,t,r.child,s);else if(p&32){let x=Tl(r,t),C;for(;C=x();)s.push(C)}else if(p&16){let x=ep(t,r);if(Array.isArray(x))s.push(...x);else{let C=ji(t[In]);Ds(C[we],C,x,s,!0)}}r=l?r.projectionNext:r.next}return s}function Px(e,t){for(let r=jt;r<e.length;r++){let s=e[r],l=s[we].firstChild;l!==null&&Ds(s[we],s,l,t)}e[hr]!==e[Rn]&&t.push(e[hr])}var xp=[];function Fx(e){return e[fr]??kx(e)}function kx(e){let t=xp.pop()??Object.create(Ux);return t.lView=e,t}function Bx(e){e.lView[fr]!==e&&(e.lView=null,xp.push(e))}var Ux=Ke(J({},Md),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ui(e.lView)},consumerOnSignalRead(){this.lView[fr]=this}}),wp=100;function Cp(e,t=!0,r=0){let s=e[En],l=s.rendererFactory,d=!1;d||l.begin?.();try{jx(e,r)}catch(p){throw t&&mp(e,p),p}finally{d||(l.end?.(),s.inlineEffectRunner?.flush())}}function jx(e,t){Vc(e,t);let r=0;for(;hl(e);){if(r===wp)throw new ae(103,!1);r++,Vc(e,1)}}function Vx(e,t,r,s){let l=t[ie];if((l&256)===256)return;let d=!1;!d&&t[En].inlineEffectRunner?.flush(),gl(t);let p=null,x=null;!d&&Hx(e)&&(x=Fx(t),p=_d(x));try{mh(t),ey(e.bindingStartIndex),r!==null&&sp(e,t,r,2,s);let C=(l&3)===3;if(!d)if(C){let S=e.preOrderCheckHooks;S!==null&&cs(t,S,null)}else{let S=e.preOrderHooks;S!==null&&ls(t,S,0,null),pc(t,0)}if(zx(t),Ep(t,0),e.contentQueries!==null&&gp(e,t),!d)if(C){let S=e.contentCheckHooks;S!==null&&cs(t,S)}else{let S=e.contentHooks;S!==null&&ls(t,S,1),pc(t,1)}rx(e,t);let y=e.components;y!==null&&vp(t,y,0);let v=e.viewQuery;if(v!==null&&Uc(2,v,s),!d)if(C){let S=e.viewCheckHooks;S!==null&&cs(t,S)}else{let S=e.viewHooks;S!==null&&ls(t,S,2),pc(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[hc]){for(let S of t[hc])S();t[hc]=null}d||(t[ie]&=-73)}catch(C){throw Ui(t),C}finally{x!==null&&(Nd(x,p),Bx(x)),ml()}}function Hx(e){return e.type!==2}function Ep(e,t){for(let r=Gh(e);r!==null;r=Wh(r))for(let s=jt;s<r.length;s++){let l=r[s];Ip(l,t)}}function zx(e){for(let t=Gh(e);t!==null;t=Wh(t)){if(!(t[ie]&ll.HasTransplantedViews))continue;let r=t[xs];for(let s=0;s<r.length;s++){let l=r[s],d=l[Et];zm(l)}}}function Gx(e,t,r){let s=yr(t,e);Ip(s,r)}function Ip(e,t){fl(e)&&Vc(e,t)}function Vc(e,t){let s=e[we],l=e[ie],d=e[fr],p=!!(t===0&&l&16);if(p||=!!(l&64&&t===0),p||=!!(l&1024),p||=!!(d?.dirty&&Ya(d)),d&&(d.dirty=!1),e[ie]&=-9217,p)Vx(s,e,s.template,e[dn]);else if(l&8192){Ep(e,1);let x=s.components;x!==null&&vp(e,x,1)}}function vp(e,t,r){for(let s=0;s<t.length;s++)Gx(e,t[s],r)}function kl(e){for(e[En].changeDetectionScheduler?.notify();e;){e[ie]|=64;let t=ji(e);if(Om(e)&&!t)return e;e=t}return null}var ti=class{get rootNodes(){let t=this._lView,r=t[we];return Ds(r,t,r.firstChild,[])}constructor(t,r,s=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(t){this._lView[dn]=t}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Et];if(On(t)){let r=t[ys],s=r?r.indexOf(this):-1;s>-1&&(Is(t,s),ps(r,s))}this._attachedToViewContainer=!1}Ml(this._lView[we],this._lView)}onDestroy(t){yh(this._lView,t)}markForCheck(){kl(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){_c(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,Cp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Qh(this._lView[we],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=t,_c(this._lView)}};var vb=new RegExp(`^(\\d+)*(${Oy}|${Ry})*(.*)`);var Wx=()=>null;function Hc(e,t){return Wx(e,t)}var zc=class{},Gc=class{},As=class{};function $x(e){let t=Error(`No component factory found for ${Ut(e)}.`);return t[Yx]=e,t}var Yx="ngComponent";var Wc=class{resolveComponentFactory(t){throw $x(t)}},zs=(()=>{class e{static{this.NULL=new Wc}}return e})(),zi=class{};var qx=(()=>{class e{static{this.\u0275prov=le({token:e,providedIn:"root",factory:()=>null})}}return e})(),wc={};var Nf=new Set;function Bl(e){Nf.has(e)||(Nf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Rf(...e){}function Xx(){let e=typeof Ri.requestAnimationFrame=="function",t=Ri[e?"requestAnimationFrame":"setTimeout"],r=Ri[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){let s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);let l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}var Je=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();let l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&r,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=Xx().nativeRequestAnimationFrame,Kx(l)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ae(909,!1)}run(t,r,s){return this._inner.run(t,r,s)}runTask(t,r,s,l){let d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+l,t,Zx,Rf,Rf);try{return d.runTask(p,r,s)}finally{d.cancelTask(p)}}runGuarded(t,r,s){return this._inner.runGuarded(t,r,s)}runOutsideAngular(t){return this._outer.run(t)}},Zx={};function Ul(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Qx(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ri,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,$c(e),e.isCheckStableRunning=!0,Ul(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),$c(e))}function Kx(e){let t=()=>{Qx(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,s,l,d,p,x)=>{if(Jx(x))return r.invokeTask(l,d,p,x);try{return Of(e),r.invokeTask(l,d,p,x)}finally{(e.shouldCoalesceEventChangeDetection&&d.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Lf(e)}},onInvoke:(r,s,l,d,p,x,C)=>{try{return Of(e),r.invoke(l,d,p,x,C)}finally{e.shouldCoalesceRunChangeDetection&&t(),Lf(e)}},onHasTask:(r,s,l,d)=>{r.hasTask(l,d),s===l&&(d.change=="microTask"?(e._hasPendingMicrotasks=d.microTask,$c(e),Ul(e)):d.change=="macroTask"&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(r,s,l,d)=>(r.handleError(l,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}function $c(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Of(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lf(e){e._nesting--,Ul(e)}function Jx(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Dp=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=le({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Yc(e,t,r){let s=r?e.styles:null,l=r?e.classes:null,d=0;if(t!==null)for(let p=0;p<t.length;p++){let x=t[p];if(typeof x=="number")d=x;else if(d==1)l=lf(l,x);else if(d==2){let C=x,y=t[++p];s=lf(s,C+": "+y+";")}}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=l:e.classesWithoutHost=l}var Ss=class extends zs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let r=dr(t);return new Gi(r,this.ngModule)}};function Pf(e){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let s=e[r];s!==void 0&&t.push({propName:Array.isArray(s)?s[0]:s,templateName:r})}return t}function ew(e){let t=e.toLowerCase();return t==="svg"?km:t==="math"?Bm:null}var qc=class{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,s){s=_s(s);let l=this.injector.get(t,wc,s);return l!==wc||r===wc?l:this.parentInjector.get(t,r,s)}},Gi=class extends As{get inputs(){let t=this.componentDef,r=t.inputTransforms,s=Pf(t.inputs);if(r!==null)for(let l of s)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return s}get outputs(){return Pf(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=gm(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,s,l){let d=Me(null);try{l=l||this.ngModule;let p=l instanceof qt?l:l?.injector;p&&this.componentDef.getStandaloneInjector!==null&&(p=this.componentDef.getStandaloneInjector(p)||p);let x=p?new qc(t,p):t,C=x.get(zi,null);if(C===null)throw new ae(407,!1);let y=x.get(qx,null),v=x.get(Dp,null),S=x.get(zc,null),V={rendererFactory:C,sanitizer:y,inlineEffectRunner:null,afterRenderEventManager:v,changeDetectionScheduler:S},L=C.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",$=s?sx(L,s,this.componentDef.encapsulation,x):Zh(L,Y,ew(Y)),q=512;this.componentDef.signals?q|=4096:this.componentDef.onPush||(q|=16);let H=null;$!==null&&(H=bl($,x,!0));let ue=Ll(0,null,null,1,0,null,null,null,null,null,null),We=js(null,ue,null,q,null,null,V,L,x,null,H);gl(We);let oe,B;try{let se=this.componentDef,U,bn=null;se.findHostDirectiveDefs?(U=[],bn=new Map,se.findHostDirectiveDefs(se,U,bn),U.push(se)):U=[se];let xt=tw(We,$),re=nw(xt,$,se,U,We,V,L);B=dl(ue,vn),$&&ow(L,se,$,s),r!==void 0&&sw(B,this.ngContentSelectors,r),oe=iw(re,se,U,bn,We,[aw]),Fl(ue,We,null)}finally{ml()}return new Xc(this.componentType,oe,vl(B,We),We,B)}finally{Me(d)}}},Xc=class extends Gc{constructor(t,r,s,l,d){super(),this.location=s,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new ti(l,void 0,!1),this.componentType=t}setInput(t,r){let s=this._tNode.inputs,l;if(s!==null&&(l=s[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;let d=this._rootLView;Pl(d[we],d,l,t,r),this.previousInputValues.set(t,r);let p=yr(this._tNode.index,d);kl(p)}}get injector(){return new ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function tw(e,t){let r=e[we],s=vn;return e[s]=t,Vs(r,s,2,"#host",null)}function nw(e,t,r,s,l,d,p){let x=l[we];rw(s,e,t,p);let C=null;t!==null&&(C=bl(t,l[Jr]));let y=d.rendererFactory.createRenderer(t,r),v=16;r.signals?v=4096:r.onPush&&(v=64);let S=js(l,up(r),null,v,l[e.index],e,d,y,null,null,C);return x.firstCreatePass&&Bc(x,e,s.length-1),Hs(l,S),l[e.index]=S}function rw(e,t,r,s){for(let l of e)t.mergedAttrs=il(t.mergedAttrs,l.hostAttrs);t.mergedAttrs!==null&&(Yc(t,t.mergedAttrs,!0),r!==null&&np(s,r,t))}function iw(e,t,r,s,l,d){let p=Ln(),x=l[we],C=hn(p,l);fp(x,l,p,r,null,s);for(let v=0;v<r.length;v++){let S=p.directiveStart+v,V=Hi(l,x,S,p);gr(V,l)}hp(x,l,p),C&&gr(C,l);let y=Hi(l,x,p.directiveStart+p.componentOffset,p);if(e[dn]=l[dn]=y,d!==null)for(let v of d)v(y,t);return ap(x,p,l),y}function ow(e,t,r,s){if(s)Dc(e,r,["ng-version","17.3.12"]);else{let{attrs:l,classes:d}=mm(t.selectors[0]);l&&Dc(e,r,l),d&&d.length>0&&tp(e,r,d.join(" "))}}function sw(e,t,r){let s=e.projection=[];for(let l=0;l<t.length;l++){let d=r[l];s.push(d!=null?Array.from(d):null)}}function aw(){let e=Ln();Cl(mt()[we],e)}var Gs=(()=>{class e{static{this.__NG_ELEMENT_ID__=cw}}return e})();function cw(){let e=Ln();return uw(e,mt())}var lw=Gs,Ap=class extends lw{constructor(t,r,s){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=s}get element(){return vl(this._hostTNode,this._hostLView)}get injector(){return new ur(this._hostTNode,this._hostLView)}get parentInjector(){let t=El(this._hostTNode,this._hostLView);if(Mh(t)){let r=Es(t,this._hostLView),s=Cs(t),l=r[we].data[s+8];return new ur(l,r)}else return new ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let r=Ff(this._lContainer);return r!==null&&r[t]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(t,r,s){let l,d;typeof s=="number"?l=s:s!=null&&(l=s.index,d=s.injector);let p=Hc(this._lContainer,t.ssrId),x=t.createEmbeddedViewImpl(r||{},d,p);return this.insertImpl(x,l,jc(this._hostTNode,p)),x}createComponent(t,r,s,l,d){let p=t&&!Rm(t),x;if(p)x=r;else{let Y=r||{};x=Y.index,s=Y.injector,l=Y.projectableNodes,d=Y.environmentInjector||Y.ngModuleRef}let C=p?t:new Gi(dr(t)),y=s||this.parentInjector;if(!d&&C.ngModule==null){let $=(p?y:this.parentInjector).get(qt,null);$&&(d=$)}let v=dr(C.componentType??{}),S=Hc(this._lContainer,v?.id??null),V=S?.firstChild??null,L=C.create(y,l,V,d);return this.insertImpl(L.hostView,x,jc(this._hostTNode,S)),L}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,s){let l=t._lView;if(Hm(l)){let x=this.indexOf(t);if(x!==-1)this.detach(x);else{let C=l[Et],y=new Ap(C,C[fn],C[Et]);y.detach(y.indexOf(t))}}let d=this._adjustIndex(r),p=this._lContainer;return yp(p,l,d,s),t.attachToViewContainerRef(),Xf(Cc(p),d,t),t}move(t,r){return this.insert(t,r)}indexOf(t){let r=Ff(this._lContainer);return r!==null?r.indexOf(t):-1}remove(t){let r=this._adjustIndex(t,-1),s=Is(this._lContainer,r);s&&(ps(Cc(this._lContainer),r),Ml(s[we],s))}detach(t){let r=this._adjustIndex(t,-1),s=Is(this._lContainer,r);return s&&ps(Cc(this._lContainer),r)!=null?new ti(s):null}_adjustIndex(t,r=0){return t??this.length+r}};function Ff(e){return e[ys]}function Cc(e){return e[ys]||(e[ys]=[])}function uw(e,t){let r,s=t[e.index];return On(s)?r=s:(r=pp(s,t,null,e),t[e.index]=r,Hs(t,r)),fw(r,t,e,s),new Ap(r,e,t)}function dw(e,t){let r=e[Ot],s=r.createComment(""),l=hn(t,e),d=_l(r,l);return vs(r,d,s,Xy(r,l),!1),s}var fw=gw,hw=()=>!1;function pw(e,t,r){return hw(e,t,r)}function gw(e,t,r,s){if(e[hr])return;let l;r.type&8?l=Dn(s):l=dw(t,r),e[hr]=l}var Qn=class{},Wi=class{};var Zc=class extends Qn{constructor(t,r,s){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ss(this);let l=rh(t);this._bootstrapComponents=Xh(l.bootstrap),this._r3Injector=Uh(t,r,[{provide:Qn,useValue:this},{provide:zs,useValue:this.componentFactoryResolver},...s],Ut(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Qc=class extends Wi{constructor(t){super(),this.moduleType=t}create(t){return new Zc(this.moduleType,t,[])}};var bs=class extends Qn{constructor(t){super(),this.componentFactoryResolver=new Ss(this),this.instance=null;let r=new Fi([...t.providers,{provide:Qn,useValue:this},{provide:zs,useValue:this.componentFactoryResolver}],t.parent||cl(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function jl(e,t,r=null){return new bs({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}var Ws=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Vl(e,t,r){let s=e[t];return Object.is(s,r)?!1:(e[t]=r,!0)}function mw(e){return(e.flags&32)===32}function yw(e,t,r,s,l,d,p,x,C){let y=t.consts,v=Vs(t,e,4,p||null,ws(y,x));dp(t,r,v,ws(y,C)),Cl(t,v);let S=v.tView=Ll(2,v,s,l,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,y,null);return t.queries!==null&&(t.queries.template(t,v),S.queries=t.queries.embeddedTView(v)),v}function Hl(e,t,r,s,l,d,p,x){let C=mt(),y=xr(),v=e+vn,S=y.firstCreatePass?yw(v,y,C,t,r,s,l,d,p):y.data[v];Yi(S,!1);let V=xw(y,C,S,e);xl()&&Nl(y,C,V,S),gr(V,C);let L=pp(V,C,V,S);return C[v]=L,Hs(C,L),pw(L,S,C),ul(S)&&cp(y,C,S),p!=null&&lp(C,S,x),Hl}var xw=ww;function ww(e,t,r,s){return wl(!0),t[Ot].createComment("")}function Cw(e,t,r,s){return Vl(e,pl(),r)?t+$f(r)+s:Us}function Zi(e,t,r){let s=mt(),l=pl();if(Vl(s,l,t)){let d=xr(),p=sy();fx(d,p,s,e,t,s[Ot],r,!1)}return Zi}function kf(e,t,r,s,l){let d=t.inputs,p=l?"class":"style";Pl(e,r,d[p],p,s)}function Sp(e,t,r){Bl("NgControlFlow");let s=mt(),l=pl(),d=Ew(s,vn+e),p=0;if(Vl(s,l,t)){let x=Me(null);try{if(Lx(d,p),t!==-1){let C=Iw(s[we],vn+t),y=Hc(d,C.tView.ssrId),v=Rx(s,C,r,{dehydratedView:y});yp(d,v,p,jc(C,y))}}finally{Me(x)}}else{let x=Ox(d,p);x!==void 0&&(x[dn]=r)}}function Ew(e,t){return e[t]}function Iw(e,t){return dl(e,t)}function vw(e,t,r,s,l,d){let p=t.consts,x=ws(p,l),C=Vs(t,e,2,s,x);return dp(t,r,C,ws(p,d)),C.attrs!==null&&Yc(C,C.attrs,!1),C.mergedAttrs!==null&&Yc(C,C.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,C),C}function Qi(e,t,r,s){let l=mt(),d=xr(),p=vn+e,x=l[Ot],C=d.firstCreatePass?vw(p,d,l,t,r,s):d.data[p],y=Dw(d,l,C,x,t,e);l[p]=y;let v=ul(C);return Yi(C,!0),np(x,y,C),!mw(C)&&xl()&&Nl(d,l,y,C),$m()===0&&gr(y,l),Ym(),v&&(cp(d,l,C),ap(d,C,l)),s!==null&&lp(l,C),Qi}function Ki(){let e=Ln();Ch()?Jm():(e=e.parent,Yi(e,!1));let t=e;Zm(t)&&Qm(),qm();let r=xr();return r.firstCreatePass&&(Cl(r,e),dh(e)&&r.queries.elementEnd(e)),t.classesWithoutHost!=null&&dy(t)&&kf(r,t,mt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&fy(t)&&kf(r,t,mt(),t.stylesWithoutHost,!1),Ki}function Ji(e,t,r,s){return Qi(e,t,r,s),Ki(),Ji}var Dw=(e,t,r,s,l,d)=>(wl(!0),Zh(s,l,ay()));var Ts="en-US";var Aw=Ts;function Sw(e){typeof e=="string"&&(Aw=e.toLowerCase().replace(/_/g,"-"))}function $s(e,t,r,s){let l=mt(),d=xr(),p=Ln();return Tw(d,l,l[Ot],p,e,t,s),$s}function bw(e,t,r,s){let l=e.cleanup;if(l!=null)for(let d=0;d<l.length-1;d+=2){let p=l[d];if(p===r&&l[d+1]===s){let x=t[ki],C=l[d+2];return x.length>C?x[C]:null}typeof p=="string"&&(d+=2)}return null}function Tw(e,t,r,s,l,d,p){let x=ul(s),y=e.firstCreatePass&&bx(e),v=t[dn],S=Sx(t),V=!0;if(s.type&3||p){let $=hn(s,t),q=p?p($):$,H=S.length,ue=p?oe=>p(Dn(oe[s.index])):s.index,We=null;if(!p&&x&&(We=bw(e,t,l,s.index)),We!==null){let oe=We.__ngLastListenerFn__||We;oe.__ngNextListenerFn__=d,We.__ngLastListenerFn__=d,V=!1}else{d=Uf(s,t,v,d,!1);let oe=r.listen(q,l,d);S.push(d,oe),y&&y.push(l,ue,H,H+1)}}else d=Uf(s,t,v,d,!1);let L=s.outputs,Y;if(V&&L!==null&&(Y=L[l])){let $=Y.length;if($)for(let q=0;q<$;q+=2){let H=Y[q],ue=Y[q+1],B=t[H][ue].subscribe(d),se=S.length;S.push(d,B),y&&y.push(l,s.index,se,-(se+1))}}}function Bf(e,t,r,s){let l=Me(null);try{return xn(6,t,r),r(s)!==!1}catch(d){return mp(e,d),!1}finally{xn(7,t,r),Me(l)}}function Uf(e,t,r,s,l){return function d(p){if(p===Function)return s;let x=e.componentOffset>-1?yr(e.index,t):t;kl(x);let C=Bf(t,r,s,p),y=d.__ngNextListenerFn__;for(;y;)C=Bf(t,r,y,p)&&C,y=y.__ngNextListenerFn__;return l&&C===!1&&p.preventDefault(),C}}function bp(e=1){return oy(e)}function Tp(e,t=""){let r=mt(),s=xr(),l=e+vn,d=s.firstCreatePass?Vs(s,l,1,t,null):s.data[l],p=Mw(s,r,d,t,e);r[l]=p,xl()&&Nl(s,r,p,d),Yi(d,!1)}var Mw=(e,t,r,s,l)=>(wl(!0),ky(t[Ot],s));function zl(e,t,r){let s=mt(),l=Cw(s,e,t,r);return l!==Us&&Tx(s,yl(),l),zl}var _w=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let s=sh(!1,r.type),l=s.length>0?jl([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,l)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=le({token:e,providedIn:"environment",factory:()=>new e(Ae(qt))})}}return e})();function oi(e){Bl("NgStandalone"),e.getStandaloneInjector=t=>t.get(_w).getOrCreateStandaloneInjector(e)}var Ys=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Mp=new De("");function eo(e){return!!e&&typeof e.then=="function"}function _p(e){return!!e&&typeof e.subscribe=="function"}var Np=new De(""),Rp=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s}),this.appInits=Z(Np,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let l of this.appInits){let d=l();if(eo(d))r.push(d);else if(_p(d)){let p=new Promise((x,C)=>{d.subscribe({complete:x,error:C})});r.push(p)}}let s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(l=>{this.reject(l)}),r.length===0&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Gl=new De("");function Nw(){Od(()=>{throw new ae(600,!1)})}function Rw(e){return e.isBoundToModule}function Ow(e,t,r){try{let s=r();return eo(s)?s.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}var to=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(jh),this.afterRenderEffectManager=Z(Dp),this.externalTestViews=new Set,this.beforeRender=new At,this.afterTick=new At,this.componentTypes=[],this.components=[],this.isStable=Z(Ws).hasPendingTasks.pipe(ve(r=>!r)),this._injector=Z(qt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,s){let l=r instanceof As;if(!this._injector.get(Rp).done){let V=!l&&nh(r),L=!1;throw new ae(405,L)}let p;l?p=r:p=this._injector.get(zs).resolveComponentFactory(r),this.componentTypes.push(p.componentType);let x=Rw(p)?void 0:this._injector.get(Qn),C=s||p.selector,y=p.create(qi.NULL,[],C,x),v=y.location.nativeElement,S=y.injector.get(Mp,null);return S?.registerApplication(v),y.onDestroy(()=>{this.detachView(y.hostView),Ec(this.components,y),S?.unregisterApplication(v)}),this._loadComponent(y),y}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new ae(101,!1);let s=Me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(l){this.internalErrorHandler(l)}finally{this.afterTick.next(),this._runningTick=!1,Me(s)}}detectChangesInAttachedViews(r){let s=0,l=this.afterRenderEffectManager;for(;;){if(s===wp)throw new ae(103,!1);if(r){let d=s===0;this.beforeRender.next(d);for(let{_lView:p,notifyErrorHandler:x}of this._views)Lw(p,d,x)}if(s++,l.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>Kc(d))&&(l.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>Kc(d))))break}}attachView(r){let s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){let s=r;Ec(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let s=this._injector.get(Gl,[]);[...this._bootstrapListeners,...s].forEach(l=>l(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ec(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ae(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ec(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function Lw(e,t,r){!t&&!Kc(e)||Pw(e,r,t)}function Kc(e){return hl(e)}function Pw(e,t,r){let s;r?(s=0,e[ie]|=1024):e[ie]&64?s=0:s=1,Cp(e,t,s)}var Jc=class{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}},Wl=(()=>{class e{compileModuleSync(r){return new Qc(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let s=this.compileModuleSync(r),l=rh(r),d=Xh(l.declarations).reduce((p,x)=>{let C=dr(x);return C&&p.push(new Gi(C)),p},[]);return new Jc(s,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Fw=(()=>{class e{constructor(){this.zone=Z(Je),this.applicationRef=Z(to)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function kw(e){return[{provide:Je,useFactory:e},{provide:Kr,multi:!0,useFactory:()=>{let t=Z(Fw,{optional:!0});return()=>t.initialize()}},{provide:Kr,multi:!0,useFactory:()=>{let t=Z(Vw);return()=>{t.initialize()}}},{provide:jh,useFactory:Bw}]}function Bw(){let e=Z(Je),t=Z(Nn);return r=>e.runOutsideAngular(()=>t.handleError(r))}function Uw(e){let t=kw(()=>new Je(jw(e)));return Ns([[],t])}function jw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Vw=(()=>{class e{constructor(){this.subscription=new tt,this.initialized=!1,this.zone=Z(Je),this.pendingTasks=Z(Ws)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Hw(){return typeof $localize<"u"&&$localize.locale||Ts}var $l=new De("",{providedIn:"root",factory:()=>Z($l,xe.Optional|xe.SkipSelf)||Hw()});var Op=new De("");var ds=null;function zw(e=[],t){return qi.create({name:t,providers:[{provide:Rs,useValue:"platform"},{provide:Op,useValue:new Set([()=>ds=null])},...e]})}function Gw(e=[]){if(ds)return ds;let t=zw(e);return ds=t,Nw(),Ww(t),t}function Ww(e){e.get(Al,null)?.forEach(r=>r())}var no=(()=>{class e{static{this.__NG_ELEMENT_ID__=$w}}return e})();function $w(e){return Yw(Ln(),mt(),(e&16)===16)}function Yw(e,t,r){if(Ps(e)&&!r){let s=yr(e.index,t);return new ti(s,s)}else if(e.type&47){let s=t[In];return new ti(s,t)}return null}function Lp(e){try{let{rootComponent:t,appProviders:r,platformProviders:s}=e,l=Gw(s),d=[Uw(),...r||[]],x=new bs({providers:d,parent:l,debugName:"",runEnvironmentInitializers:!1}).injector,C=x.get(Je);return C.run(()=>{x.resolveInjectorInitializers();let y=x.get(Nn,null),v;C.runOutsideAngular(()=>{v=C.onError.subscribe({next:L=>{y.handleError(L)}})});let S=()=>x.destroy(),V=l.get(Op);return V.add(S),x.onDestroy(()=>{v.unsubscribe(),V.delete(S)}),Ow(y,C,()=>{let L=x.get(Rp);return L.runInitializers(),L.donePromise.then(()=>{let Y=x.get($l,Ts);Sw(Y||Ts);let $=x.get(to);return t!==void 0&&$.bootstrap(t),$})})})}catch(t){return Promise.reject(t)}}var Vp=null;function si(){return Vp}function Hp(e){Vp??=e}var qs=class{};var Xt=new De(""),zp=(()=>{class e{historyGo(r){throw new Error("")}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:()=>Z(Kw),providedIn:"platform"})}}return e})();var Kw=(()=>{class e extends zp{constructor(){super(),this._doc=Z(Xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return si().getBaseHref(this._doc)}onPopState(r){let s=si().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){let s=si().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,s,l){this._history.pushState(r,s,l)}replaceState(r,s,l){this._history.replaceState(r,s,l)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Gp(e,t){if(e.length==0)return t;if(t.length==0)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,r==2?e+t.substring(1):r==1?e+t:e+"/"+t}function Pp(e){let t=e.match(/#|\?|$/),r=t&&t.index||e.length,s=r-(e[r-1]==="/"?1:0);return e.slice(0,s)+e.slice(r)}function Cr(e){return e&&e[0]!=="?"?"?"+e:e}var Zs=(()=>{class e{historyGo(r){throw new Error("")}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:()=>Z(Wp),providedIn:"root"})}}return e})(),Jw=new De(""),Wp=(()=>{class e extends Zs{constructor(r,s){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??Z(Xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Gp(this._baseHref,r)}path(r=!1){let s=this._platformLocation.pathname+Cr(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${s}${l}`:s}pushState(r,s,l,d){let p=this.prepareExternalUrl(l+Cr(d));this._platformLocation.pushState(r,s,p)}replaceState(r,s,l,d){let p=this.prepareExternalUrl(l+Cr(d));this._platformLocation.replaceState(r,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static{this.\u0275fac=function(s){return new(s||e)(Ae(zp),Ae(Jw,8))}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var io=(()=>{class e{constructor(r){this._subject=new Rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let s=this._locationStrategy.getBaseHref();this._basePath=nC(Pp(Fp(s))),this._locationStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+Cr(s))}normalize(r){return e.stripTrailingSlash(tC(this._basePath,Fp(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,s="",l=null){this._locationStrategy.pushState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Cr(s)),l)}replaceState(r,s="",l=null){this._locationStrategy.replaceState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Cr(s)),l)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{let s=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(s,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(l=>l(r,s))}subscribe(r,s,l){return this._subject.subscribe({next:r,error:s,complete:l})}static{this.normalizeQueryParams=Cr}static{this.joinWithSlash=Gp}static{this.stripTrailingSlash=Pp}static{this.\u0275fac=function(s){return new(s||e)(Ae(Zs))}}static{this.\u0275prov=le({token:e,factory:()=>eC(),providedIn:"root"})}}return e})();function eC(){return new io(Ae(Zs))}function tC(e,t){if(!e||!t.startsWith(e))return t;let r=t.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:t}function Fp(e){return e.replace(/\/index.html$/,"")}function nC(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}function $p(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let s=r.indexOf("="),[l,d]=s==-1?[r,""]:[r.slice(0,s),r.slice(s+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}var Yp="browser",rC="server";function Yl(e){return e===rC}var Xs=class{};var Zl=class extends qs{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ql=class e extends Zl{static makeCurrent(){Hp(new e)}onAndCancel(t,r,s){return t.addEventListener(r,s),()=>{t.removeEventListener(r,s)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=oC();return r==null?null:sC(r)}resetBaseElement(){oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $p(document.cookie,t)}},oo=null;function oC(){return oo=oo||document.querySelector("base"),oo?oo.getAttribute("href"):null}function sC(e){return new URL(e,document.baseURI).pathname}var aC=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac})}}return e})(),Kl=new De(""),Qp=(()=>{class e{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(l=>{l.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,s,l){return this._findPluginFor(s).addEventListener(r,s,l)}getZone(){return this._zone}_findPluginFor(r){let s=this._eventNameToPlugin.get(r);if(s)return s;if(s=this._plugins.find(d=>d.supports(r)),!s)throw new ae(5101,!1);return this._eventNameToPlugin.set(r,s),s}static{this.\u0275fac=function(s){return new(s||e)(Ae(Kl),Ae(Je))}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac})}}return e})(),Qs=class{constructor(t){this._doc=t}},ql="ng-app-id",Kp=(()=>{class e{constructor(r,s,l,d={}){this.doc=r,this.appId=s,this.nonce=l,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yl(d),this.resetHostNodes()}addStyles(r){for(let s of r)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(r){for(let s of r)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(s=>s.remove()),r.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let s of this.getAllStyles())this.addStyleToHost(r,s)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let s of this.hostNodes)this.addStyleToHost(s,r)}onStyleRemoved(r){let s=this.styleRef;s.get(r)?.elements?.forEach(l=>l.remove()),s.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ql}="${this.appId}"]`);if(r?.length){let s=new Map;return r.forEach(l=>{l.textContent!=null&&s.set(l.textContent,l)}),s}return null}changeUsageCount(r,s){let l=this.styleRef;if(l.has(r)){let d=l.get(r);return d.usage+=s,d.usage}return l.set(r,{usage:s,elements:[]}),s}getStyleElement(r,s){let l=this.styleNodesInDOM,d=l?.get(s);if(d?.parentNode===r)return l.delete(s),d.removeAttribute(ql),d;{let p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=s,this.platformIsServer&&p.setAttribute(ql,this.appId),r.appendChild(p),p}}addStyleToHost(r,s){let l=this.getStyleElement(r,s),d=this.styleRef,p=d.get(s)?.elements;p?p.push(l):d.set(s,{elements:[l],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}static{this.\u0275fac=function(s){return new(s||e)(Ae(Xt),Ae(Dl),Ae(Sl,8),Ae(ii))}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac})}}return e})(),Xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eu=/%COMP%/g,Jp="%COMP%",cC=`_nghost-${Jp}`,lC=`_ngcontent-${Jp}`,uC=!0,dC=new De("",{providedIn:"root",factory:()=>uC});function fC(e){return lC.replace(eu,e)}function hC(e){return cC.replace(eu,e)}function eg(e,t){return t.map(r=>r.replace(eu,e))}var qp=(()=>{class e{constructor(r,s,l,d,p,x,C,y=null){this.eventManager=r,this.sharedStylesHost=s,this.appId=l,this.removeStylesOnCompDestroy=d,this.doc=p,this.platformId=x,this.ngZone=C,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=Yl(x),this.defaultRenderer=new so(r,p,C,this.platformIsServer)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Cn.ShadowDom&&(s=Ke(J({},s),{encapsulation:Cn.Emulated}));let l=this.getOrCreateRenderer(r,s);return l instanceof Ks?l.applyToHost(r):l instanceof ao&&l.applyStyles(),l}getOrCreateRenderer(r,s){let l=this.rendererByCompId,d=l.get(s.id);if(!d){let p=this.doc,x=this.ngZone,C=this.eventManager,y=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,S=this.platformIsServer;switch(s.encapsulation){case Cn.Emulated:d=new Ks(C,y,s,this.appId,v,p,x,S);break;case Cn.ShadowDom:return new Jl(C,y,r,s,p,x,this.nonce,S);default:d=new ao(C,y,s,v,p,x,S);break}l.set(s.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(s){return new(s||e)(Ae(Qp),Ae(Kp),Ae(Dl),Ae(dC),Ae(Xt),Ae(ii),Ae(Je),Ae(Sl))}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac})}}return e})(),so=class{constructor(t,r,s,l){this.eventManager=t,this.doc=r,this.ngZone=s,this.platformIsServer=l,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(Xl[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(Xp(t)?t.content:t).appendChild(r)}insertBefore(t,r,s){t&&(Xp(t)?t.content:t).insertBefore(r,s)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let s=typeof t=="string"?this.doc.querySelector(t):t;if(!s)throw new ae(-5104,!1);return r||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,s,l){if(l){r=l+":"+r;let d=Xl[l];d?t.setAttributeNS(d,r,s):t.setAttribute(r,s)}else t.setAttribute(r,s)}removeAttribute(t,r,s){if(s){let l=Xl[s];l?t.removeAttributeNS(l,r):t.removeAttribute(`${s}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,s,l){l&(wr.DashCase|wr.Important)?t.style.setProperty(r,s,l&wr.Important?"important":""):t.style[r]=s}removeStyle(t,r,s){s&wr.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,s){t!=null&&(t[r]=s)}setValue(t,r){t.nodeValue=r}listen(t,r,s){if(typeof t=="string"&&(t=si().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(s))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function Xp(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Jl=class extends so{constructor(t,r,s,l,d,p,x,C){super(t,d,p,C),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let y=eg(l.id,l.styles);for(let v of y){let S=document.createElement("style");x&&S.setAttribute("nonce",x),S.textContent=v,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,s){return super.insertBefore(this.nodeOrShadowRoot(t),r,s)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ao=class extends so{constructor(t,r,s,l,d,p,x,C){super(t,d,p,x),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=l,this.styles=C?eg(C,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ks=class extends ao{constructor(t,r,s,l,d,p,x,C){let y=l+"-"+s.id;super(t,r,s,d,p,x,C,y),this.contentAttr=fC(y),this.hostAttr=hC(y)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let s=super.createElement(t,r);return super.setAttribute(s,this.contentAttr,""),s}},pC=(()=>{class e extends Qs{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,l){return r.addEventListener(s,l,!1),()=>this.removeEventListener(r,s,l)}removeEventListener(r,s,l){return r.removeEventListener(s,l)}static{this.\u0275fac=function(s){return new(s||e)(Ae(Xt))}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac})}}return e})(),Zp=["alt","control","meta","shift"],gC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mC={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},yC=(()=>{class e extends Qs{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,s,l){let d=e.parseEventName(s),p=e.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>si().onAndCancel(r,d.domEventName,p))}static parseEventName(r){let s=r.toLowerCase().split("."),l=s.shift();if(s.length===0||!(l==="keydown"||l==="keyup"))return null;let d=e._normalizeKey(s.pop()),p="",x=s.indexOf("code");if(x>-1&&(s.splice(x,1),p="code."),Zp.forEach(y=>{let v=s.indexOf(y);v>-1&&(s.splice(v,1),p+=y+".")}),p+=d,s.length!=0||d.length===0)return null;let C={};return C.domEventName=l,C.fullKey=p,C}static matchEventFullKeyCode(r,s){let l=gC[r.key]||r.key,d="";return s.indexOf("code.")>-1&&(l=r.code,d="code."),l==null||!l?!1:(l=l.toLowerCase(),l===" "?l="space":l==="."&&(l="dot"),Zp.forEach(p=>{if(p!==l){let x=mC[p];x(r)&&(d+=p+".")}}),d+=l,d===s)}static eventCallback(r,s,l){return d=>{e.matchEventFullKeyCode(d,r)&&l.runGuarded(()=>s(d))}}static _normalizeKey(r){return r==="esc"?"escape":r}static{this.\u0275fac=function(s){return new(s||e)(Ae(Xt))}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac})}}return e})();function tg(e,t){return Lp(J({rootComponent:e},xC(t)))}function xC(e){return{appProviders:[...vC,...e?.providers??[]],platformProviders:IC}}function wC(){Ql.makeCurrent()}function CC(){return new Nn}function EC(){return Yh(document),document}var IC=[{provide:ii,useValue:Yp},{provide:Al,useValue:wC,multi:!0},{provide:Xt,useFactory:EC,deps:[]}];var vC=[{provide:Rs,useValue:"root"},{provide:Nn,useFactory:CC,deps:[]},{provide:Kl,useClass:pC,multi:!0,deps:[Xt,Je,ii]},{provide:Kl,useClass:yC,multi:!0,deps:[Xt]},qp,Kp,Qp,{provide:zi,useExisting:qp},{provide:Xs,useClass:aC,deps:[]},[]];var ng=(()=>{class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static{this.\u0275fac=function(s){return new(s||e)(Ae(Xt))}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var he="primary",vo=Symbol("RouteTitle"),ou=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function di(e){return new ou(e)}function AC(e,t,r){let s=r.path.split("/");if(s.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||s.length<e.length))return null;let l={};for(let d=0;d<s.length;d++){let p=s[d],x=e[d];if(p.startsWith(":"))l[p.substring(1)]=x;else if(p!==x.path)return null}return{consumed:e.slice(0,s.length),posParams:l}}function SC(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!An(e[r],t[r]))return!1;return!0}function An(e,t){let r=e?su(e):void 0,s=t?su(t):void 0;if(!r||!s||r.length!=s.length)return!1;let l;for(let d=0;d<r.length;d++)if(l=r[d],!cg(e[l],t[l]))return!1;return!0}function su(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function cg(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),s=[...t].sort();return r.every((l,d)=>s[d]===l)}else return e===t}function lg(e){return e.length>0?e[e.length-1]:null}function er(e){return oc(e)?e:eo(e)?nt(Promise.resolve(e)):fe(e)}var bC={exact:dg,subset:fg},ug={exact:TC,subset:MC,ignored:()=>!0};function rg(e,t,r){return bC[r.paths](e.root,t.root,r.matrixParams)&&ug[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function TC(e,t){return An(e,t)}function dg(e,t,r){if(!Ir(e.segments,t.segments)||!ta(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let s in t.children)if(!e.children[s]||!dg(e.children[s],t.children[s],r))return!1;return!0}function MC(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>cg(e[r],t[r]))}function fg(e,t,r){return hg(e,t,t.segments,r)}function hg(e,t,r,s){if(e.segments.length>r.length){let l=e.segments.slice(0,r.length);return!(!Ir(l,r)||t.hasChildren()||!ta(l,r,s))}else if(e.segments.length===r.length){if(!Ir(e.segments,r)||!ta(e.segments,r,s))return!1;for(let l in t.children)if(!e.children[l]||!fg(e.children[l],t.children[l],s))return!1;return!0}else{let l=r.slice(0,e.segments.length),d=r.slice(e.segments.length);return!Ir(e.segments,l)||!ta(e.segments,l,s)||!e.children[he]?!1:hg(e.children[he],t,d,s)}}function ta(e,t,r){return t.every((s,l)=>ug[r](e[l].parameters,s.parameters))}var Kn=class{constructor(t=new Pe([],{}),r={},s=null){this.root=t,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap??=di(this.queryParams),this._queryParamMap}toString(){return RC.serialize(this)}},Pe=class{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return na(this)}},Er=class{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=di(this.parameters),this._parameterMap}toString(){return gg(this)}};function _C(e,t){return Ir(e,t)&&e.every((r,s)=>An(r.parameters,t[s].parameters))}function Ir(e,t){return e.length!==t.length?!1:e.every((r,s)=>r.path===t[s].path)}function NC(e,t){let r=[];return Object.entries(e.children).forEach(([s,l])=>{s===he&&(r=r.concat(t(l,s)))}),Object.entries(e.children).forEach(([s,l])=>{s!==he&&(r=r.concat(t(l,s)))}),r}var Ru=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:()=>new ia,providedIn:"root"})}}return e})(),ia=class{parse(t){let r=new cu(t);return new Kn(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${co(t.root,!0)}`,s=PC(t.queryParams),l=typeof t.fragment=="string"?`#${OC(t.fragment)}`:"";return`${r}${s}${l}`}},RC=new ia;function na(e){return e.segments.map(t=>gg(t)).join("/")}function co(e,t){if(!e.hasChildren())return na(e);if(t){let r=e.children[he]?co(e.children[he],!1):"",s=[];return Object.entries(e.children).forEach(([l,d])=>{l!==he&&s.push(`${l}:${co(d,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}else{let r=NC(e,(s,l)=>l===he?[co(e.children[he],!1)]:[`${l}:${co(s,!1)}`]);return Object.keys(e.children).length===1&&e.children[he]!=null?`${na(e)}/${r[0]}`:`${na(e)}/(${r.join("//")})`}}function pg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Js(e){return pg(e).replace(/%3B/gi,";")}function OC(e){return encodeURI(e)}function au(e){return pg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ra(e){return decodeURIComponent(e)}function ig(e){return ra(e.replace(/\+/g,"%20"))}function gg(e){return`${au(e.path)}${LC(e.parameters)}`}function LC(e){return Object.entries(e).map(([t,r])=>`;${au(t)}=${au(r)}`).join("")}function PC(e){let t=Object.entries(e).map(([r,s])=>Array.isArray(s)?s.map(l=>`${Js(r)}=${Js(l)}`).join("&"):`${Js(r)}=${Js(s)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}var FC=/^[^\/()?;#]+/;function tu(e){let t=e.match(FC);return t?t[0]:""}var kC=/^[^\/()?;=#]+/;function BC(e){let t=e.match(kC);return t?t[0]:""}var UC=/^[^=?&#]+/;function jC(e){let t=e.match(UC);return t?t[0]:""}var VC=/^[^&#]+/;function HC(e){let t=e.match(VC);return t?t[0]:""}var cu=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(s[he]=new Pe(t,r)),s}parseSegment(){let t=tu(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(t),new Er(ra(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=BC(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){let l=tu(this.remaining);l&&(s=l,this.capture(s))}t[ra(r)]=ra(s)}parseQueryParam(t){let r=jC(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){let p=HC(this.remaining);p&&(s=p,this.capture(s))}let l=ig(r),d=ig(s);if(t.hasOwnProperty(l)){let p=t[l];Array.isArray(p)||(p=[p],t[l]=p),p.push(d)}else t[l]=d}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let s=tu(this.remaining),l=this.remaining[s.length];if(l!=="/"&&l!==")"&&l!==";")throw new ae(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=he);let p=this.parseChildren();r[d]=Object.keys(p).length===1?p[he]:new Pe([],p),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ae(4011,!1)}};function mg(e){return e.segments.length>0?new Pe([],{[he]:e}):e}function yg(e){let t={};for(let[s,l]of Object.entries(e.children)){let d=yg(l);if(s===he&&d.segments.length===0&&d.hasChildren())for(let[p,x]of Object.entries(d.children))t[p]=x;else(d.segments.length>0||d.hasChildren())&&(t[s]=d)}let r=new Pe(e.segments,t);return zC(r)}function zC(e){if(e.numberOfChildren===1&&e.children[he]){let t=e.children[he];return new Pe(e.segments.concat(t.segments),t.children)}return e}function fi(e){return e instanceof Kn}function GC(e,t,r=null,s=null){let l=xg(e);return wg(l,t,r,s)}function xg(e){let t;function r(d){let p={};for(let C of d.children){let y=r(C);p[C.outlet]=y}let x=new Pe(d.url,p);return d===e&&(t=x),x}let s=r(e.root),l=mg(s);return t??l}function wg(e,t,r,s){let l=e;for(;l.parent;)l=l.parent;if(t.length===0)return nu(l,l,l,r,s);let d=WC(t);if(d.toRoot())return nu(l,l,new Pe([],{}),r,s);let p=$C(d,l,e),x=p.processChildren?fo(p.segmentGroup,p.index,d.commands):Eg(p.segmentGroup,p.index,d.commands);return nu(l,p.segmentGroup,x,r,s)}function oa(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function go(e){return typeof e=="object"&&e!=null&&e.outlets}function nu(e,t,r,s,l){let d={};s&&Object.entries(s).forEach(([C,y])=>{d[C]=Array.isArray(y)?y.map(v=>`${v}`):`${y}`});let p;e===t?p=r:p=Cg(e,t,r);let x=mg(yg(p));return new Kn(x,d,l)}function Cg(e,t,r){let s={};return Object.entries(e.children).forEach(([l,d])=>{d===t?s[l]=r:s[l]=Cg(d,t,r)}),new Pe(e.segments,s)}var sa=class{constructor(t,r,s){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=s,t&&s.length>0&&oa(s[0]))throw new ae(4003,!1);let l=s.find(go);if(l&&l!==lg(s))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WC(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new sa(!0,0,e);let t=0,r=!1,s=e.reduce((l,d,p)=>{if(typeof d=="object"&&d!=null){if(d.outlets){let x={};return Object.entries(d.outlets).forEach(([C,y])=>{x[C]=typeof y=="string"?y.split("/"):y}),[...l,{outlets:x}]}if(d.segmentPath)return[...l,d.segmentPath]}return typeof d!="string"?[...l,d]:p===0?(d.split("/").forEach((x,C)=>{C==0&&x==="."||(C==0&&x===""?r=!0:x===".."?t++:x!=""&&l.push(x))}),l):[...l,d]},[]);return new sa(r,t,s)}var li=class{constructor(t,r,s){this.segmentGroup=t,this.processChildren=r,this.index=s}};function $C(e,t,r){if(e.isAbsolute)return new li(t,!0,0);if(!r)return new li(t,!1,NaN);if(r.parent===null)return new li(r,!0,0);let s=oa(e.commands[0])?0:1,l=r.segments.length-1+s;return YC(r,l,e.numberOfDoubleDots)}function YC(e,t,r){let s=e,l=t,d=r;for(;d>l;){if(d-=l,s=s.parent,!s)throw new ae(4005,!1);l=s.segments.length}return new li(s,!1,l-d)}function qC(e){return go(e[0])?e[0].outlets:{[he]:e}}function Eg(e,t,r){if(e??=new Pe([],{}),e.segments.length===0&&e.hasChildren())return fo(e,t,r);let s=XC(e,t,r),l=r.slice(s.commandIndex);if(s.match&&s.pathIndex<e.segments.length){let d=new Pe(e.segments.slice(0,s.pathIndex),{});return d.children[he]=new Pe(e.segments.slice(s.pathIndex),e.children),fo(d,0,l)}else return s.match&&l.length===0?new Pe(e.segments,{}):s.match&&!e.hasChildren()?lu(e,t,r):s.match?fo(e,0,l):lu(e,t,r)}function fo(e,t,r){if(r.length===0)return new Pe(e.segments,{});{let s=qC(r),l={};if(Object.keys(s).some(d=>d!==he)&&e.children[he]&&e.numberOfChildren===1&&e.children[he].segments.length===0){let d=fo(e.children[he],t,r);return new Pe(e.segments,d.children)}return Object.entries(s).forEach(([d,p])=>{typeof p=="string"&&(p=[p]),p!==null&&(l[d]=Eg(e.children[d],t,p))}),Object.entries(e.children).forEach(([d,p])=>{s[d]===void 0&&(l[d]=p)}),new Pe(e.segments,l)}}function XC(e,t,r){let s=0,l=t,d={match:!1,pathIndex:0,commandIndex:0};for(;l<e.segments.length;){if(s>=r.length)return d;let p=e.segments[l],x=r[s];if(go(x))break;let C=`${x}`,y=s<r.length-1?r[s+1]:null;if(l>0&&C===void 0)break;if(C&&y&&typeof y=="object"&&y.outlets===void 0){if(!sg(C,y,p))return d;s+=2}else{if(!sg(C,{},p))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}function lu(e,t,r){let s=e.segments.slice(0,t),l=0;for(;l<r.length;){let d=r[l];if(go(d)){let C=ZC(d.outlets);return new Pe(s,C)}if(l===0&&oa(r[0])){let C=e.segments[t];s.push(new Er(C.path,og(r[0]))),l++;continue}let p=go(d)?d.outlets[he]:`${d}`,x=l<r.length-1?r[l+1]:null;p&&x&&oa(x)?(s.push(new Er(p,og(x))),l+=2):(s.push(new Er(p,{})),l++)}return new Pe(s,{})}function ZC(e){let t={};return Object.entries(e).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(t[r]=lu(new Pe([],{}),0,s))}),t}function og(e){let t={};return Object.entries(e).forEach(([r,s])=>t[r]=`${s}`),t}function sg(e,t,r){return e==r.path&&An(t,r.parameters)}var ho="imperative",yt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(yt||{}),Zt=class{constructor(t,r){this.id=t,this.url=r}},mo=class extends Zt{constructor(t,r,s="imperative",l=null){super(t,r),this.type=yt.NavigationStart,this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vr=class extends Zt{constructor(t,r,s){super(t,r),this.urlAfterRedirects=s,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ht||{}),uu=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(uu||{}),Jn=class extends Zt{constructor(t,r,s,l){super(t,r),this.reason=s,this.code=l,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends Zt{constructor(t,r,s,l){super(t,r),this.reason=s,this.code=l,this.type=yt.NavigationSkipped}},yo=class extends Zt{constructor(t,r,s,l){super(t,r),this.error=s,this.target=l,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},aa=class extends Zt{constructor(t,r,s,l){super(t,r),this.urlAfterRedirects=s,this.state=l,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},du=class extends Zt{constructor(t,r,s,l){super(t,r),this.urlAfterRedirects=s,this.state=l,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fu=class extends Zt{constructor(t,r,s,l,d){super(t,r),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hu=class extends Zt{constructor(t,r,s,l){super(t,r),this.urlAfterRedirects=s,this.state=l,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pu=class extends Zt{constructor(t,r,s,l){super(t,r),this.urlAfterRedirects=s,this.state=l,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gu=class{constructor(t){this.route=t,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mu=class{constructor(t){this.route=t,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yu=class{constructor(t){this.snapshot=t,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xu=class{constructor(t){this.snapshot=t,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wu=class{constructor(t){this.snapshot=t,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cu=class{constructor(t){this.snapshot=t,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xo=class{},wo=class{constructor(t){this.url=t}};var Eu=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ha,this.attachRef=null}},ha=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,s){let l=this.getOrCreateContext(r);l.outlet=s,this.contexts.set(r,l)}onChildOutletDestroyed(r){let s=this.getContext(r);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let s=this.getContext(r);return s||(s=new Eu,this.contexts.set(r,s)),s}getContext(r){return this.contexts.get(r)||null}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ca=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=Iu(t,this._root);return r?r.children.map(s=>s.value):[]}firstChild(t){let r=Iu(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=vu(t,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return vu(t,this._root).map(r=>r.value)}};function Iu(e,t){if(e===t.value)return t;for(let r of t.children){let s=Iu(e,r);if(s)return s}return null}function vu(e,t){if(e===t.value)return[t];for(let r of t.children){let s=vu(e,r);if(s.length)return s.unshift(t),s}return[]}var Vt=class{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function ci(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var la=class extends ca{constructor(t,r){super(t),this.snapshot=r,Lu(this,t)}toString(){return this.snapshot.toString()}};function Ig(e){let t=QC(e),r=new pt([new Er("",{})]),s=new pt({}),l=new pt({}),d=new pt({}),p=new pt(""),x=new hi(r,s,d,p,l,he,e,t.root);return x.snapshot=t.root,new la(new Vt(x,[]),t)}function QC(e){let t={},r={},s={},l="",d=new Co([],t,s,l,r,he,e,null,{});return new ua("",new Vt(d,[]))}var hi=class{constructor(t,r,s,l,d,p,x,C){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=s,this.fragmentSubject=l,this.dataSubject=d,this.outlet=p,this.component=x,this._futureSnapshot=C,this.title=this.dataSubject?.pipe(ve(y=>y[vo]))??fe(void 0),this.url=t,this.params=r,this.queryParams=s,this.fragment=l,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(t=>di(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(t=>di(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ou(e,t,r="emptyOnly"){let s,{routeConfig:l}=e;return t!==null&&(r==="always"||l?.path===""||!t.component&&!t.routeConfig?.loadComponent)?s={params:J(J({},t.params),e.params),data:J(J({},t.data),e.data),resolve:J(J(J(J({},e.data),t.data),l?.data),e._resolvedData)}:s={params:J({},e.params),data:J({},e.data),resolve:J(J({},e.data),e._resolvedData??{})},l&&Dg(l)&&(s.resolve[vo]=l.title),s}var Co=class{get title(){return this.data?.[vo]}constructor(t,r,s,l,d,p,x,C,y){this.url=t,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=p,this.component=x,this.routeConfig=C,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=di(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=di(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(s=>s.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},ua=class extends ca{constructor(t,r){super(r),this.url=t,Lu(this,r)}toString(){return vg(this._root)}};function Lu(e,t){t.value._routerState=e,t.children.forEach(r=>Lu(e,r))}function vg(e){let t=e.children.length>0?` { ${e.children.map(vg).join(", ")} } `:"";return`${e.value}${t}`}function ru(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,An(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),An(t.params,r.params)||e.paramsSubject.next(r.params),SC(t.url,r.url)||e.urlSubject.next(r.url),An(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Du(e,t){let r=An(e.params,t.params)&&_C(e.url,t.url),s=!e.parent!=!t.parent;return r&&!s&&(!e.parent||Du(e.parent,t.parent))}function Dg(e){return typeof e.title=="string"||e.title===null}var KC=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new Rt,this.deactivateEvents=new Rt,this.attachEvents=new Rt,this.detachEvents=new Rt,this.parentContexts=Z(ha),this.location=Z(Gs),this.changeDetector=Z(no),this.environmentInjector=Z(qt),this.inputBinder=Z(Pu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:s,previousValue:l}=r.name;if(s)return;this.isTrackedInParentContexts(l)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(l)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=r;let l=this.location,p=r.snapshot.component,x=this.parentContexts.getOrCreateContext(this.name).children,C=new Au(r,x,l.injector);this.activated=l.createComponent(p,{index:l.length,injector:C,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275dir=sl({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fs]})}}return e})(),Au=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,r,s){this.route=t,this.childContexts=r,this.parent=s}get(t,r){return t===hi?this.route:t===ha?this.childContexts:this.parent.get(t,r)}},Pu=new De("");function JC(e,t,r){let s=Eo(e,t._root,r?r._root:void 0);return new la(s,t)}function Eo(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let s=r.value;s._futureSnapshot=t.value;let l=eE(e,t,r);return new Vt(s,l)}else{if(e.shouldAttach(t.value)){let d=e.retrieve(t.value);if(d!==null){let p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(x=>Eo(e,x)),p}}let s=tE(t.value),l=t.children.map(d=>Eo(e,d));return new Vt(s,l)}}function eE(e,t,r){return t.children.map(s=>{for(let l of r.children)if(e.shouldReuseRoute(s.value,l.value.snapshot))return Eo(e,s,l);return Eo(e,s)})}function tE(e){return new hi(new pt(e.url),new pt(e.params),new pt(e.queryParams),new pt(e.fragment),new pt(e.data),e.outlet,e.component,e)}var Ag="ngNavigationCancelingError";function Sg(e,t){let{redirectTo:r,navigationBehaviorOptions:s}=fi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,l=bg(!1,Ht.Redirect);return l.url=r,l.navigationBehaviorOptions=s,l}function bg(e,t){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[Ag]=!0,r.cancellationCode=t,r}function nE(e){return Tg(e)&&fi(e.url)}function Tg(e){return!!e&&e[Ag]}var rE=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=ni({type:e,selectors:[["ng-component"]],standalone:!0,features:[oi],decls:1,vars:0,template:function(s,l){s&1&&Ji(0,"router-outlet")},dependencies:[KC],encapsulation:2})}}return e})();function iE(e,t){return e.providers&&!e._injector&&(e._injector=jl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Fu(e){let t=e.children&&e.children.map(Fu),r=t?Ke(J({},e),{children:t}):J({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==he&&(r.component=rE),r}function Sn(e){return e.outlet||he}function oE(e,t){let r=e.filter(s=>Sn(s)===t);return r.push(...e.filter(s=>Sn(s)!==t)),r}function Do(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var sE=(e,t,r,s)=>ve(l=>(new Su(t,l.targetRouterState,l.currentRouterState,r,s).activate(e),l)),Su=class{constructor(t,r,s,l,d){this.routeReuseStrategy=t,this.futureState=r,this.currState=s,this.forwardEvent=l,this.inputBindingEnabled=d}activate(t){let r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,t),ru(this.futureState.root),this.activateChildRoutes(r,s,t)}deactivateChildRoutes(t,r,s){let l=ci(r);t.children.forEach(d=>{let p=d.value.outlet;this.deactivateRoutes(d,l[p],s),delete l[p]}),Object.values(l).forEach(d=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,r,s){let l=t.value,d=r?r.value:null;if(l===d)if(l.component){let p=s.getContext(l.outlet);p&&this.deactivateChildRoutes(t,r,p.children)}else this.deactivateChildRoutes(t,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let s=r.getContext(t.value.outlet),l=s&&t.value.component?s.children:r,d=ci(t);for(let p of Object.values(d))this.deactivateRouteAndItsChildren(p,l);if(s&&s.outlet){let p=s.outlet.detach(),x=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:x})}}deactivateRouteAndOutlet(t,r){let s=r.getContext(t.value.outlet),l=s&&t.value.component?s.children:r,d=ci(t);for(let p of Object.values(d))this.deactivateRouteAndItsChildren(p,l);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(t,r,s){let l=ci(r);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new Cu(d.value.snapshot))}),t.children.length&&this.forwardEvent(new xu(t.value.snapshot))}activateRoutes(t,r,s){let l=t.value,d=r?r.value:null;if(ru(l),l===d)if(l.component){let p=s.getOrCreateContext(l.outlet);this.activateChildRoutes(t,r,p.children)}else this.activateChildRoutes(t,r,s);else if(l.component){let p=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){let x=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),p.children.onOutletReAttached(x.contexts),p.attachRef=x.componentRef,p.route=x.route.value,p.outlet&&p.outlet.attach(x.componentRef,x.route.value),ru(x.route.value),this.activateChildRoutes(t,null,p.children)}else{let x=Do(l.snapshot);p.attachRef=null,p.route=l,p.injector=x,p.outlet&&p.outlet.activateWith(l,p.injector),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,s)}},da=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ui=class{constructor(t,r){this.component=t,this.route=r}};function aE(e,t,r){let s=e._root,l=t?t._root:null;return lo(s,l,r,[s.value])}function cE(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function gi(e,t){let r=Symbol(),s=t.get(e,r);return s===r?typeof e=="function"&&!Hf(e)?e:t.get(e):s}function lo(e,t,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){let d=ci(t);return e.children.forEach(p=>{lE(p,d[p.value.outlet],r,s.concat([p.value]),l),delete d[p.value.outlet]}),Object.entries(d).forEach(([p,x])=>po(x,r.getContext(p),l)),l}function lE(e,t,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){let d=e.value,p=t?t.value:null,x=r?r.getContext(e.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){let C=uE(p,d,d.routeConfig.runGuardsAndResolvers);C?l.canActivateChecks.push(new da(s)):(d.data=p.data,d._resolvedData=p._resolvedData),d.component?lo(e,t,x?x.children:null,s,l):lo(e,t,r,s,l),C&&x&&x.outlet&&x.outlet.isActivated&&l.canDeactivateChecks.push(new ui(x.outlet.component,p))}else p&&po(t,x,l),l.canActivateChecks.push(new da(s)),d.component?lo(e,null,x?x.children:null,s,l):lo(e,null,r,s,l);return l}function uE(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!Ir(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ir(e.url,t.url)||!An(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Du(e,t)||!An(e.queryParams,t.queryParams);case"paramsChange":default:return!Du(e,t)}}function po(e,t,r){let s=ci(e),l=e.value;Object.entries(s).forEach(([d,p])=>{l.component?t?po(p,t.children.getContext(d),r):po(p,null,r):po(p,t,r)}),l.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new ui(t.outlet.component,l)):r.canDeactivateChecks.push(new ui(null,l)):r.canDeactivateChecks.push(new ui(null,l))}function Ao(e){return typeof e=="function"}function dE(e){return typeof e=="boolean"}function fE(e){return e&&Ao(e.canLoad)}function hE(e){return e&&Ao(e.canActivate)}function pE(e){return e&&Ao(e.canActivateChild)}function gE(e){return e&&Ao(e.canDeactivate)}function mE(e){return e&&Ao(e.canMatch)}function Mg(e){return e instanceof Mn||e?.name==="EmptyError"}var ea=Symbol("INITIAL_VALUE");function pi(){return cn(e=>is(e.map(t=>t.pipe(_n(1),uc(ea)))).pipe(ve(t=>{for(let r of t)if(r!==!0){if(r===ea)return ea;if(r===!1||r instanceof Kn)return r}return!0}),an(t=>t!==ea),_n(1)))}function yE(e,t){return rt(r=>{let{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:p}}=r;return p.length===0&&d.length===0?fe(Ke(J({},r),{guardsResult:!0})):xE(p,s,l,e).pipe(rt(x=>x&&dE(x)?wE(s,d,e,t):fe(x)),ve(x=>Ke(J({},r),{guardsResult:x})))})}function xE(e,t,r,s){return nt(e).pipe(rt(l=>DE(l.component,l.route,r,t,s)),yn(l=>l!==!0,!0))}function wE(e,t,r,s){return nt(t).pipe(Hr(l=>Vr(EE(l.route.parent,s),CE(l.route,s),vE(e,l.path,r),IE(e,l.route,r))),yn(l=>l!==!0,!0))}function CE(e,t){return e!==null&&t&&t(new wu(e)),fe(!0)}function EE(e,t){return e!==null&&t&&t(new yu(e)),fe(!0)}function IE(e,t,r){let s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||s.length===0)return fe(!0);let l=s.map(d=>os(()=>{let p=Do(t)??r,x=gi(d,p),C=hE(x)?x.canActivate(t,e):mr(p,()=>x(t,e));return er(C).pipe(yn())}));return fe(l).pipe(pi())}function vE(e,t,r){let s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>cE(p)).filter(p=>p!==null).map(p=>os(()=>{let x=p.guards.map(C=>{let y=Do(p.node)??r,v=gi(C,y),S=pE(v)?v.canActivateChild(s,e):mr(y,()=>v(s,e));return er(S).pipe(yn())});return fe(x).pipe(pi())}));return fe(d).pipe(pi())}function DE(e,t,r,s,l){let d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!d||d.length===0)return fe(!0);let p=d.map(x=>{let C=Do(t)??l,y=gi(x,C),v=gE(y)?y.canDeactivate(e,t,r,s):mr(C,()=>y(e,t,r,s));return er(v).pipe(yn())});return fe(p).pipe(pi())}function AE(e,t,r,s){let l=t.canLoad;if(l===void 0||l.length===0)return fe(!0);let d=l.map(p=>{let x=gi(p,e),C=fE(x)?x.canLoad(t,r):mr(e,()=>x(t,r));return er(C)});return fe(d).pipe(pi(),_g(s))}function _g(e){return tc(gt(t=>{if(fi(t))throw Sg(e,t)}),ve(t=>t===!0))}function SE(e,t,r,s){let l=t.canMatch;if(!l||l.length===0)return fe(!0);let d=l.map(p=>{let x=gi(p,e),C=mE(x)?x.canMatch(t,r):mr(e,()=>x(t,r));return er(C)});return fe(d).pipe(pi(),_g(s))}var Io=class{constructor(t){this.segmentGroup=t||null}},fa=class extends Error{constructor(t){super(),this.urlTree=t}};function ai(e){return jr(new Io(e))}function bE(e){return jr(new ae(4e3,!1))}function TE(e){return jr(bg(!1,Ht.GuardRejected))}var bu=class{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let s=[],l=r.root;for(;;){if(s=s.concat(l.segments),l.numberOfChildren===0)return fe(s);if(l.numberOfChildren>1||!l.children[he])return bE(t.redirectTo);l=l.children[he]}}applyRedirectCommands(t,r,s){let l=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,s);if(r.startsWith("/"))throw new fa(l);return l}applyRedirectCreateUrlTree(t,r,s,l){let d=this.createSegmentGroup(t,r.root,s,l);return new Kn(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let s={};return Object.entries(t).forEach(([l,d])=>{if(typeof d=="string"&&d.startsWith(":")){let x=d.substring(1);s[l]=r[x]}else s[l]=d}),s}createSegmentGroup(t,r,s,l){let d=this.createSegments(t,r.segments,s,l),p={};return Object.entries(r.children).forEach(([x,C])=>{p[x]=this.createSegmentGroup(t,C,s,l)}),new Pe(d,p)}createSegments(t,r,s,l){return r.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,s))}findPosParam(t,r,s){let l=s[r.path.substring(1)];if(!l)throw new ae(4001,!1);return l}findOrReturn(t,r){let s=0;for(let l of r){if(l.path===t.path)return r.splice(s),l;s++}return t}},Tu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ME(e,t,r,s,l){let d=ku(e,t,r);return d.matched?(s=iE(t,s),SE(s,t,r,l).pipe(ve(p=>p===!0?d:J({},Tu)))):fe(d)}function ku(e,t,r){if(t.path==="**")return _E(r);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?J({},Tu):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let l=(t.matcher||AC)(r,e,t);if(!l)return J({},Tu);let d={};Object.entries(l.posParams??{}).forEach(([x,C])=>{d[x]=C.path});let p=l.consumed.length>0?J(J({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:r.slice(l.consumed.length),parameters:p,positionalParamSegments:l.posParams??{}}}function _E(e){return{matched:!0,parameters:e.length>0?lg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function ag(e,t,r,s){return r.length>0&&OE(e,r,s)?{segmentGroup:new Pe(t,RE(s,new Pe(r,e.children))),slicedSegments:[]}:r.length===0&&LE(e,r,s)?{segmentGroup:new Pe(e.segments,NE(e,r,s,e.children)),slicedSegments:r}:{segmentGroup:new Pe(e.segments,e.children),slicedSegments:r}}function NE(e,t,r,s){let l={};for(let d of r)if(pa(e,t,d)&&!s[Sn(d)]){let p=new Pe([],{});l[Sn(d)]=p}return J(J({},s),l)}function RE(e,t){let r={};r[he]=t;for(let s of e)if(s.path===""&&Sn(s)!==he){let l=new Pe([],{});r[Sn(s)]=l}return r}function OE(e,t,r){return r.some(s=>pa(e,t,s)&&Sn(s)!==he)}function LE(e,t,r){return r.some(s=>pa(e,t,s))}function pa(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function PE(e,t,r,s){return Sn(e)!==s&&(s===he||!pa(t,r,e))?!1:ku(t,e,r).matched}function FE(e,t,r){return t.length===0&&!e.children[r]}var Mu=class{};function kE(e,t,r,s,l,d,p="emptyOnly"){return new _u(e,t,r,s,l,p,d).recognize()}var BE=31,_u=class{constructor(t,r,s,l,d,p,x){this.injector=t,this.configLoader=r,this.rootComponentType=s,this.config=l,this.urlTree=d,this.paramsInheritanceStrategy=p,this.urlSerializer=x,this.applyRedirects=new bu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ae(4002,`'${t.segmentGroup}'`)}recognize(){let t=ag(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ve(r=>{let s=new Co([],Object.freeze({}),Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),l=new Vt(s,r),d=new ua("",l),p=GC(s,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(p),this.inheritParamsAndData(d._root,null),{state:d,tree:p}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,he).pipe($n(s=>{if(s instanceof fa)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof Io?this.noMatchError(s):s}))}inheritParamsAndData(t,r){let s=t.value,l=Ou(s,r,this.paramsInheritanceStrategy);s.params=Object.freeze(l.params),s.data=Object.freeze(l.data),t.children.forEach(d=>this.inheritParamsAndData(d,s))}processSegmentGroup(t,r,s,l){return s.segments.length===0&&s.hasChildren()?this.processChildren(t,r,s):this.processSegment(t,r,s,s.segments,l,!0).pipe(ve(d=>d instanceof Vt?[d]:[]))}processChildren(t,r,s){let l=[];for(let d of Object.keys(s.children))d==="primary"?l.unshift(d):l.push(d);return nt(l).pipe(Hr(d=>{let p=s.children[d],x=oE(r,d);return this.processSegmentGroup(t,x,p,d)}),lc((d,p)=>(d.push(...p),d)),Yn(null),cc(),rt(d=>{if(d===null)return ai(s);let p=Ng(d);return UE(p),fe(p)}))}processSegment(t,r,s,l,d,p){return nt(r).pipe(Hr(x=>this.processSegmentAgainstRoute(x._injector??t,r,x,s,l,d,p).pipe($n(C=>{if(C instanceof Io)return fe(null);throw C}))),yn(x=>!!x),$n(x=>{if(Mg(x))return FE(s,l,d)?fe(new Mu):ai(s);throw x}))}processSegmentAgainstRoute(t,r,s,l,d,p,x){return PE(s,l,d,p)?s.redirectTo===void 0?this.matchSegmentAgainstRoute(t,l,s,d,p):this.allowRedirects&&x?this.expandSegmentAgainstRouteUsingRedirect(t,l,r,s,d,p):ai(l):ai(l)}expandSegmentAgainstRouteUsingRedirect(t,r,s,l,d,p){let{matched:x,consumedSegments:C,positionalParamSegments:y,remainingSegments:v}=ku(r,l,d);if(!x)return ai(r);l.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BE&&(this.allowRedirects=!1));let S=this.applyRedirects.applyRedirectCommands(C,l.redirectTo,y);return this.applyRedirects.lineralizeSegments(l,S).pipe(rt(V=>this.processSegment(t,s,r,V.concat(v),p,!1)))}matchSegmentAgainstRoute(t,r,s,l,d){let p=ME(r,s,l,t,this.urlSerializer);return s.path==="**"&&(r.children={}),p.pipe(cn(x=>x.matched?(t=s._injector??t,this.getChildConfig(t,s,l).pipe(cn(({routes:C})=>{let y=s._loadedInjector??t,{consumedSegments:v,remainingSegments:S,parameters:V}=x,L=new Co(v,V,Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,VE(s),Sn(s),s.component??s._loadedComponent??null,s,HE(s)),{segmentGroup:Y,slicedSegments:$}=ag(r,v,S,C);if($.length===0&&Y.hasChildren())return this.processChildren(y,C,Y).pipe(ve(H=>H===null?null:new Vt(L,H)));if(C.length===0&&$.length===0)return fe(new Vt(L,[]));let q=Sn(s)===d;return this.processSegment(y,C,Y,$,q?he:d,!0).pipe(ve(H=>new Vt(L,H instanceof Vt?[H]:[])))}))):ai(r)))}getChildConfig(t,r,s){return r.children?fe({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?fe({routes:r._loadedRoutes,injector:r._loadedInjector}):AE(t,r,s,this.urlSerializer).pipe(rt(l=>l?this.configLoader.loadChildren(t,r).pipe(gt(d=>{r._loadedRoutes=d.routes,r._loadedInjector=d.injector})):TE(r))):fe({routes:[],injector:t})}};function UE(e){e.sort((t,r)=>t.value.outlet===he?-1:r.value.outlet===he?1:t.value.outlet.localeCompare(r.value.outlet))}function jE(e){let t=e.value.routeConfig;return t&&t.path===""}function Ng(e){let t=[],r=new Set;for(let s of e){if(!jE(s)){t.push(s);continue}let l=t.find(d=>s.value.routeConfig===d.value.routeConfig);l!==void 0?(l.children.push(...s.children),r.add(l)):t.push(s)}for(let s of r){let l=Ng(s.children);t.push(new Vt(s.value,l))}return t.filter(s=>!r.has(s))}function VE(e){return e.data||{}}function HE(e){return e.resolve||{}}function zE(e,t,r,s,l,d){return rt(p=>kE(e,t,r,s,p.extractedUrl,l,d).pipe(ve(({state:x,tree:C})=>Ke(J({},p),{targetSnapshot:x,urlAfterRedirects:C}))))}function GE(e,t){return rt(r=>{let{targetSnapshot:s,guards:{canActivateChecks:l}}=r;if(!l.length)return fe(r);let d=new Set(l.map(C=>C.route)),p=new Set;for(let C of d)if(!p.has(C))for(let y of Rg(C))p.add(y);let x=0;return nt(p).pipe(Hr(C=>d.has(C)?WE(C,s,e,t):(C.data=Ou(C,C.parent,e).resolve,fe(void 0))),gt(()=>x++),zr(1),rt(C=>x===p.size?fe(r):Bt))})}function Rg(e){let t=e.children.map(r=>Rg(r)).flat();return[e,...t]}function WE(e,t,r,s){let l=e.routeConfig,d=e._resolve;return l?.title!==void 0&&!Dg(l)&&(d[vo]=l.title),$E(d,e,t,s).pipe(ve(p=>(e._resolvedData=p,e.data=Ou(e,e.parent,r).resolve,null)))}function $E(e,t,r,s){let l=su(e);if(l.length===0)return fe({});let d={};return nt(l).pipe(rt(p=>YE(e[p],t,r,s).pipe(yn(),gt(x=>{d[p]=x}))),zr(1),ac(d),$n(p=>Mg(p)?Bt:jr(p)))}function YE(e,t,r,s){let l=Do(t)??s,d=gi(e,l),p=d.resolve?d.resolve(t,r):mr(l,()=>d(t,r));return er(p)}function iu(e){return cn(t=>{let r=e(t);return r?nt(r).pipe(ve(()=>t)):fe(t)})}var Og=(()=>{class e{buildTitle(r){let s,l=r.root;for(;l!==void 0;)s=this.getResolvedTitleForRoute(l)??s,l=l.children.find(d=>d.outlet===he);return s}getResolvedTitleForRoute(r){return r.data[vo]}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:()=>Z(qE),providedIn:"root"})}}return e})(),qE=(()=>{class e extends Og{constructor(r){super(),this.title=r}updateTitle(r){let s=this.buildTitle(r);s!==void 0&&this.title.setTitle(s)}static{this.\u0275fac=function(s){return new(s||e)(Ae(ng))}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bu=new De("",{providedIn:"root",factory:()=>({})}),Uu=new De(""),XE=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(Wl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return fe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let s=er(r.loadComponent()).pipe(ve(Lg),gt(d=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=d}),Ni(()=>{this.componentLoaders.delete(r)})),l=new Ur(s,()=>new At).pipe(Br());return this.componentLoaders.set(r,l),l}loadChildren(r,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return fe({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let d=ZE(s,this.compiler,r,this.onLoadEndListener).pipe(Ni(()=>{this.childrenLoaders.delete(s)})),p=new Ur(d,()=>new At).pipe(Br());return this.childrenLoaders.set(s,p),p}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ZE(e,t,r,s){return er(e.loadChildren()).pipe(ve(Lg),rt(l=>l instanceof Wi||Array.isArray(l)?fe(l):nt(t.compileModuleAsync(l))),ve(l=>{s&&s(e);let d,p,x=!1;return Array.isArray(l)?(p=l,x=!0):(d=l.create(r).injector,p=d.get(Uu,[],{optional:!0,self:!0}).flat()),{routes:p.map(Fu),injector:d}}))}function QE(e){return e&&typeof e=="object"&&"default"in e}function Lg(e){return QE(e)?e.default:e}var ju=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:()=>Z(KE),providedIn:"root"})}}return e})(),KE=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,s){return r}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JE=new De("");var eI=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new At,this.transitionAbortSubject=new At,this.configLoader=Z(XE),this.environmentInjector=Z(qt),this.urlSerializer=Z(Ru),this.rootContexts=Z(ha),this.location=Z(io),this.inputBindingEnabled=Z(Pu,{optional:!0})!==null,this.titleStrategy=Z(Og),this.options=Z(Bu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(ju),this.createViewTransition=Z(JE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>fe(void 0),this.rootComponentType=null;let r=l=>this.events.next(new gu(l)),s=l=>this.events.next(new mu(l));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let s=++this.navigationId;this.transitions?.next(Ke(J(J({},this.transitions.value),r),{id:s}))}setupNavigations(r,s,l){return this.transitions=new pt({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ho,restoredState:null,currentSnapshot:l.snapshot,targetSnapshot:null,currentRouterState:l,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(an(d=>d.id!==0),ve(d=>Ke(J({},d),{extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),cn(d=>{let p=!1,x=!1;return fe(d).pipe(cn(C=>{if(this.navigationId>d.id)return this.cancelNavigationTransition(d,"",Ht.SupersededByNewNavigation),Bt;this.currentTransition=d,this.currentNavigation={id:C.id,initialUrl:C.rawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?Ke(J({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let y=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=C.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!y&&v!=="reload"){let S="";return this.events.next(new Dr(C.id,this.urlSerializer.serialize(C.rawUrl),S,uu.IgnoredSameUrlNavigation)),C.resolve(null),Bt}if(this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return fe(C).pipe(cn(S=>{let V=this.transitions?.getValue();return this.events.next(new mo(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),V!==this.transitions?.getValue()?Bt:Promise.resolve(S)}),zE(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(S=>{d.targetSnapshot=S.targetSnapshot,d.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation=Ke(J({},this.currentNavigation),{finalUrl:S.urlAfterRedirects});let V=new aa(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(V)}));if(y&&this.urlHandlingStrategy.shouldProcessUrl(C.currentRawUrl)){let{id:S,extractedUrl:V,source:L,restoredState:Y,extras:$}=C,q=new mo(S,this.urlSerializer.serialize(V),L,Y);this.events.next(q);let H=Ig(this.rootComponentType).snapshot;return this.currentTransition=d=Ke(J({},C),{targetSnapshot:H,urlAfterRedirects:V,extras:Ke(J({},$),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=V,fe(d)}else{let S="";return this.events.next(new Dr(C.id,this.urlSerializer.serialize(C.extractedUrl),S,uu.IgnoredByUrlHandlingStrategy)),C.resolve(null),Bt}}),gt(C=>{let y=new du(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(y)}),ve(C=>(this.currentTransition=d=Ke(J({},C),{guards:aE(C.targetSnapshot,C.currentSnapshot,this.rootContexts)}),d)),yE(this.environmentInjector,C=>this.events.next(C)),gt(C=>{if(d.guardsResult=C.guardsResult,fi(C.guardsResult))throw Sg(this.urlSerializer,C.guardsResult);let y=new fu(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.events.next(y)}),an(C=>C.guardsResult?!0:(this.cancelNavigationTransition(C,"",Ht.GuardRejected),!1)),iu(C=>{if(C.guards.canActivateChecks.length)return fe(C).pipe(gt(y=>{let v=new hu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(v)}),cn(y=>{let v=!1;return fe(y).pipe(GE(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(y,"",Ht.NoDataFromResolver)}}))}),gt(y=>{let v=new pu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(v)}))}),iu(C=>{let y=v=>{let S=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(v.routeConfig).pipe(gt(V=>{v.component=V}),ve(()=>{})));for(let V of v.children)S.push(...y(V));return S};return is(y(C.targetSnapshot.root)).pipe(Yn(null),_n(1))}),iu(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:C,targetSnapshot:y}=d,v=this.createViewTransition?.(this.environmentInjector,C.root,y.root);return v?nt(v).pipe(ve(()=>d)):fe(d)}),ve(C=>{let y=JC(r.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return this.currentTransition=d=Ke(J({},C),{targetRouterState:y}),this.currentNavigation.targetRouterState=y,d}),gt(()=>{this.events.next(new xo)}),sE(this.rootContexts,r.routeReuseStrategy,C=>this.events.next(C),this.inputBindingEnabled),_n(1),gt({next:C=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vr(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects))),this.titleStrategy?.updateTitle(C.targetRouterState.snapshot),C.resolve(!0)},complete:()=>{p=!0}}),dc(this.transitionAbortSubject.pipe(gt(C=>{throw C}))),Ni(()=>{!p&&!x&&this.cancelNavigationTransition(d,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===d.id&&(this.currentNavigation=null,this.currentTransition=null)}),$n(C=>{if(x=!0,Tg(C))this.events.next(new Jn(d.id,this.urlSerializer.serialize(d.extractedUrl),C.message,C.cancellationCode)),nE(C)?this.events.next(new wo(C.url)):d.resolve(!1);else{this.events.next(new yo(d.id,this.urlSerializer.serialize(d.extractedUrl),C,d.targetSnapshot??void 0));try{d.resolve(r.errorHandler(C))}catch(y){this.options.resolveNavigationPromiseOnError?d.resolve(!1):d.reject(y)}}return Bt}))}))}cancelNavigationTransition(r,s,l){let d=new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),s,l);this.events.next(d),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tI(e){return e!==ho}var nI=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:()=>Z(rI),providedIn:"root"})}}return e})(),Nu=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},rI=(()=>{class e extends Nu{static{this.\u0275fac=(()=>{let r;return function(l){return(r||(r=Il(e)))(l||e)}})()}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Pg=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:()=>Z(iI),providedIn:"root"})}}return e})(),iI=(()=>{class e extends Pg{constructor(){super(...arguments),this.location=Z(io),this.urlSerializer=Z(Ru),this.options=Z(Bu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(ju),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ig(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(s=>{s.type==="popstate"&&r(s.url,s.state)})}handleRouterEvent(r,s){if(r instanceof mo)this.stateMemento=this.createStateMemento();else if(r instanceof Dr)this.rawUrlTree=s.initialUrl;else if(r instanceof aa){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let l=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(l,s)}}else r instanceof xo?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):r instanceof Jn&&(r.code===Ht.GuardRejected||r.code===Ht.NoDataFromResolver)?this.restoreHistory(s):r instanceof yo?this.restoreHistory(s,!0):r instanceof vr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,s){let l=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl){let d=this.browserPageId,p=J(J({},s.extras.state),this.generateNgRouterState(s.id,d));this.location.replaceState(l,"",p)}else{let d=J(J({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(l,"",d)}}restoreHistory(r,s=!1){if(this.canceledNavigationResolution==="computed"){let l=this.browserPageId,d=this.currentPageId-l;d!==0?this.location.historyGo(d):this.currentUrlTree===r.finalUrl&&d===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,s){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}static{this.\u0275fac=(()=>{let r;return function(l){return(r||(r=Il(e)))(l||e)}})()}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),uo=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(uo||{});function oI(e,t){e.events.pipe(an(r=>r instanceof vr||r instanceof Jn||r instanceof yo||r instanceof Dr),ve(r=>r instanceof vr||r instanceof Dr?uo.COMPLETE:(r instanceof Jn?r.code===Ht.Redirect||r.code===Ht.SupersededByNewNavigation:!1)?uo.REDIRECTING:uo.FAILED),an(r=>r!==uo.REDIRECTING),_n(1)).subscribe(()=>{t()})}function sI(e){throw e}var aI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fg=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Z(Ys),this.stateManager=Z(Pg),this.options=Z(Bu,{optional:!0})||{},this.pendingTasks=Z(Ws),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(eI),this.urlSerializer=Z(Ru),this.location=Z(io),this.urlHandlingStrategy=Z(ju),this._events=new At,this.errorHandler=this.options.errorHandler||sI,this.navigated=!1,this.routeReuseStrategy=Z(nI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(Uu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(Pu,{optional:!0}),this.eventsSubscription=new tt,this.isNgZoneEnabled=Z(Je)instanceof Je&&Je.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(s=>{try{let l=this.navigationTransitions.currentTransition,d=this.navigationTransitions.currentNavigation;if(l!==null&&d!==null){if(this.stateManager.handleRouterEvent(s,d),s instanceof Jn&&s.code!==Ht.Redirect&&s.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof vr)this.navigated=!0;else if(s instanceof wo){let p=this.urlHandlingStrategy.merge(s.url,l.currentRawUrl),x={info:l.extras.info,skipLocationChange:l.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||tI(l.source)};this.scheduleNavigation(p,ho,null,x,{resolve:l.resolve,reject:l.reject,promise:l.promise})}}uI(s)&&this._events.next(s)}catch(l){this.navigationTransitions.transitionAbortSubject.next(l)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ho,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",s)},0)})}navigateToSyncWithBrowser(r,s,l){let d={replaceUrl:!0},p=l?.navigationId?l:null;if(l){let C=J({},l);delete C.navigationId,delete C.\u0275routerPageId,Object.keys(C).length!==0&&(d.state=C)}let x=this.parseUrl(r);this.scheduleNavigation(x,s,p,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Fu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,s={}){let{relativeTo:l,queryParams:d,fragment:p,queryParamsHandling:x,preserveFragment:C}=s,y=C?this.currentUrlTree.fragment:p,v=null;switch(x){case"merge":v=J(J({},this.currentUrlTree.queryParams),d);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=d||null}v!==null&&(v=this.removeEmptyProps(v));let S;try{let V=l?l.snapshot:this.routerState.snapshot.root;S=xg(V)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),S=this.currentUrlTree.root}return wg(S,r,v,y??null)}navigateByUrl(r,s={skipLocationChange:!1}){let l=fi(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,ho,null,s)}navigate(r,s={skipLocationChange:!1}){return lI(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,s){let l;if(s===!0?l=J({},aI):s===!1?l=J({},cI):l=s,fi(r))return rg(this.currentUrlTree,r,l);let d=this.parseUrl(r);return rg(this.currentUrlTree,d,l)}removeEmptyProps(r){return Object.entries(r).reduce((s,[l,d])=>(d!=null&&(s[l]=d),s),{})}scheduleNavigation(r,s,l,d,p){if(this.disposed)return Promise.resolve(!1);let x,C,y;p?(x=p.resolve,C=p.reject,y=p.promise):y=new Promise((S,V)=>{x=S,C=V});let v=this.pendingTasks.add();return oI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:d,resolve:x,reject:C,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(S=>Promise.reject(S))}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lI(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new ae(4008,!1)}function uI(e){return!(e instanceof xo)&&!(e instanceof wo)}var dI=new De("");function kg(e,...t){return Ns([{provide:Uu,multi:!0,useValue:e},[],{provide:hi,useFactory:fI,deps:[Fg]},{provide:Gl,multi:!0,useFactory:hI},t.map(r=>r.\u0275providers)])}function fI(e){return e.routerState.root}function hI(){let e=Z(qi);return t=>{let r=e.get(to);if(t!==r.components[0])return;let s=e.get(Fg),l=e.get(pI);e.get(gI)===1&&s.initialNavigation(),e.get(mI,null,xe.Optional)?.setUpPreloading(),e.get(dI,null,xe.Optional)?.init(),s.resetRootComponentType(r.componentTypes[0]),l.closed||(l.next(),l.complete(),l.unsubscribe())}}var pI=new De("",{factory:()=>new At}),gI=new De("",{providedIn:"root",factory:()=>1});var mI=new De("");var Bg=[];var Ug={providers:[kg(Bg)]};var j=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}(j||{}),jg=new Map([[j.QR_CODE,"QR_CODE"],[j.AZTEC,"AZTEC"],[j.CODABAR,"CODABAR"],[j.CODE_39,"CODE_39"],[j.CODE_93,"CODE_93"],[j.CODE_128,"CODE_128"],[j.DATA_MATRIX,"DATA_MATRIX"],[j.MAXICODE,"MAXICODE"],[j.ITF,"ITF"],[j.EAN_13,"EAN_13"],[j.EAN_8,"EAN_8"],[j.PDF_417,"PDF_417"],[j.RSS_14,"RSS_14"],[j.RSS_EXPANDED,"RSS_EXPANDED"],[j.UPC_A,"UPC_A"],[j.UPC_E,"UPC_E"],[j.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function Vg(e){return Object.values(j).includes(e)}var St=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(St||{}),Lt=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[St.SCAN_TYPE_CAMERA,St.SCAN_TYPE_FILE],e}();var ga=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!jg.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,jg.get(t))},e}();var Vu=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}();var Hg=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(Hg||{}),ma=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Hg.UNKWOWN_ERROR}},e}();var ya=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Qt(e){return typeof e>"u"||e===null}function zg(e,t,r){return e>r?r:e<t?t:e}var tr=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}();var Se=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}();var Hu=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}();var zu=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var s=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(l),p=Object.keys(t),x=0,C=p;x<C.length;x++){var y=C[x];if(d.has(y))return r.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},e}();var Fe=f1(Wg());var Gu=function(){function e(t,r,s){if(this.formatMap=new Map([[j.QR_CODE,Fe.BarcodeFormat.QR_CODE],[j.AZTEC,Fe.BarcodeFormat.AZTEC],[j.CODABAR,Fe.BarcodeFormat.CODABAR],[j.CODE_39,Fe.BarcodeFormat.CODE_39],[j.CODE_93,Fe.BarcodeFormat.CODE_93],[j.CODE_128,Fe.BarcodeFormat.CODE_128],[j.DATA_MATRIX,Fe.BarcodeFormat.DATA_MATRIX],[j.MAXICODE,Fe.BarcodeFormat.MAXICODE],[j.ITF,Fe.BarcodeFormat.ITF],[j.EAN_13,Fe.BarcodeFormat.EAN_13],[j.EAN_8,Fe.BarcodeFormat.EAN_8],[j.PDF_417,Fe.BarcodeFormat.PDF_417],[j.RSS_14,Fe.BarcodeFormat.RSS_14],[j.RSS_EXPANDED,Fe.BarcodeFormat.RSS_EXPANDED],[j.UPC_A,Fe.BarcodeFormat.UPC_A],[j.UPC_E,Fe.BarcodeFormat.UPC_E],[j.UPC_EAN_EXTENSION,Fe.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Fe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=s;var l=this.createZXingFormats(t),d=new Map;d.set(Fe.DecodeHintType.POSSIBLE_FORMATS,l),d.set(Fe.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(s,l){try{s(r.decode(t))}catch(d){l(d)}})},e.prototype.decode=function(t){var r=new Fe.MultiFormatReader(this.verbose,this.hints),s=new Fe.HTMLCanvasElementLuminanceSource(t),l=new Fe.BinaryBitmap(new Fe.HybridBinarizer(s)),d=r.decode(l);return{text:d.text,format:ga.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,s,l){t.set(r,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],s=0,l=t;s<l.length;s++){var d=l[s];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}();var yI=function(e,t,r,s){function l(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function x(v){try{y(s.next(v))}catch(S){p(S)}}function C(v){try{y(s.throw(v))}catch(S){p(S)}}function y(v){v.done?d(v.value):l(v.value).then(x,C)}y((s=s.apply(e,t||[])).next())})},xI=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(v){return C([y,v])}}function C(y){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(r=0)),r;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(v){y=[6,v],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Wu=function(){function e(t,r,s){if(this.formatMap=new Map([[j.QR_CODE,"qr_code"],[j.AZTEC,"aztec"],[j.CODABAR,"codabar"],[j.CODE_39,"code_39"],[j.CODE_93,"code_93"],[j.CODE_128,"code_128"],[j.DATA_MATRIX,"data_matrix"],[j.ITF,"itf"],[j.EAN_13,"ean_13"],[j.EAN_8,"ean_8"],[j.PDF_417,"pdf417"],[j.UPC_A,"upc_a"],[j.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=s;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return yI(this,void 0,void 0,function(){var r,s;return xI(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(r),[2,{text:s.rawValue,format:ga.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,s=0,l=0,d=t;l<d.length;l++){var p=d[l],x=p.boundingBox.width*p.boundingBox.height;x>s&&(s=x,r=p)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],s=0,l=t;s<l.length;s++){var d=l[s];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,s,l){t.set(r,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}();var $g=function(e,t,r,s){function l(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function x(v){try{y(s.next(v))}catch(S){p(S)}}function C(v){try{y(s.throw(v))}catch(S){p(S)}}function y(v){v.done?d(v.value):l(v.value).then(x,C)}y((s=s.apply(e,t||[])).next())})},Yg=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(v){return C([y,v])}}function C(y){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(r=0)),r;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(v){y=[6,v],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},qg=function(){function e(t,r,s,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,r&&Wu.isSupported()?(this.primaryDecoder=new Wu(t,s,l),this.secondaryDecoder=new Gu(t,s,l)):this.primaryDecoder=new Gu(t,s,l)}return e.prototype.decodeAsync=function(t){return $g(this,void 0,void 0,function(){var r;return Yg(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return $g(this,void 0,void 0,function(){var r,s;return Yg(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(s=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,s=this.executionResults;r<s.length;r++){var l=s[r];t+=l}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}();var $u=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),wa=function(e,t,r,s){function l(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function x(v){try{y(s.next(v))}catch(S){p(S)}}function C(v){try{y(s.throw(v))}catch(S){p(S)}}function y(v){v.done?d(v.value):l(v.value).then(x,C)}y((s=s.apply(e,t||[])).next())})},Ca=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(v){return C([y,v])}}function C(y){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(r=0)),r;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(v){y=[6,v],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Xg=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),wI=function(e){$u(t,e);function t(r,s){return e.call(this,r,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var s={};s[this.name]=r;var l={advanced:[s]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),s=r[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Xg),CI=function(e){$u(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(wI),EI=function(e){$u(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(Xg),II=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new CI(this.track)},e.prototype.torchFeature=function(){return new EI(this.track)},e}(),vI=function(){function e(t,r,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var s=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,s,l){return wa(this,void 0,void 0,function(){var d,p;return Ca(this,function(x){switch(x.label){case 0:return d=new e(t,r,l),s.aspectRatio?(p={aspectRatio:s.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:x.sent(),x.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,s=function(){setTimeout(t,200),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return wa(this,void 0,void 0,function(){return Ca(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,s){var l=t.mediaStream.getVideoTracks(),d=l.length,p=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++p,p>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new II(this.getFirstTrackOrFail())},e}(),Zg=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,s){return wa(this,void 0,void 0,function(){return Ca(this,function(l){return[2,vI.create(t,this.mediaStream,r,s)]})})},e.create=function(t){return wa(this,void 0,void 0,function(){var r,s;return Ca(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return s=l.sent(),[2,new e(s)]}})})},e}();var Qg=function(e,t,r,s){function l(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function x(v){try{y(s.next(v))}catch(S){p(S)}}function C(v){try{y(s.throw(v))}catch(S){p(S)}}function y(v){v.done?d(v.value):l(v.value).then(x,C)}y((s=s.apply(e,t||[])).next())})},Kg=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(v){return C([y,v])}}function C(y){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(r=0)),r;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(v){y=[6,v],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Jg=function(){function e(){}return e.failIfNotSupported=function(){return Qg(this,void 0,void 0,function(){return Kg(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Qg(this,void 0,void 0,function(){return Kg(this,function(r){return[2,Zg.create(t)]})})},e}();var DI=function(e,t,r,s){function l(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function x(v){try{y(s.next(v))}catch(S){p(S)}}function C(v){try{y(s.throw(v))}catch(S){p(S)}}function y(v){v.done?d(v.value):l(v.value).then(x,C)}y((s=s.apply(e,t||[])).next())})},AI=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(v){return C([y,v])}}function C(y){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(r=0)),r;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(v){y=[6,v],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},e0=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=tr.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=tr.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return DI(this,void 0,void 0,function(){var t,r,s,l,d,p,x;return AI(this,function(C){switch(C.label){case 0:return t=function(y){for(var v=y.getVideoTracks(),S=0,V=v;S<V.length;S++){var L=V[S];L.enabled=!1,L.stop(),y.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=C.sent(),l=[],d=0,p=s;d<p.length;d++)x=p[d],x.kind==="videoinput"&&l.push({id:x.deviceId,label:x.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var s=function(d){for(var p=[],x=0,C=d;x<C.length;x++){var y=C[x];y.kind==="video"&&p.push({id:y.id,label:y.label})}t(p)},l=MediaStreamTrack;l.getSources(s)})},e}();var Ye=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(Ye||{}),SI=function(){function e(){this.state=Ye.NOT_STARTED,this.onGoingTransactionNewState=Ye.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ye.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ye.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ye.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ye.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ye.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ye.UNKNOWN:throw"Transition from unknown is not allowed";case Ye.NOT_STARTED:this.failIfNewStateIs(t,[Ye.PAUSED]);break;case Ye.SCANNING:break;case Ye.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var s=0,l=r;s<l.length;s++){var d=l[s];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),bI=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ye.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ye.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ye.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ye.PAUSED},e}();var t0=function(){function e(){}return e.create=function(){return new bI(new SI)},e}();var TI=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),zt=function(e){TI(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Lt),MI=function(){function e(t,r){this.logger=r,this.fps=zt.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=zt.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?zu.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Qt(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Ea=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s,l;typeof r=="boolean"?this.verbose=r===!0:r&&(l=r,this.verbose=l.verbose===!0,s=l.experimentalFeatures),this.logger=new ya(this.verbose),this.qrcode=new qg(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=t0.create()}return e.prototype.start=function(t,r,s,l){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;l?p=l:p=this.verbose?this.logger.log:function(){};var x=MI.create(r,this.logger);this.clearElement();var C=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=C,v=document.getElementById(this.elementId),S=v.clientWidth?v.clientWidth:zt.DEFAULT_WIDTH;v.style.position="relative",this.shouldScan=!0,this.element=v;var V=this,L=this.stateManagerProxy.startTransition(Ye.SCANNING);return new Promise(function(Y,$){var q=y?x.videoConstraints:V.createVideoConstraints(t);if(!q){L.cancel(),$("videoConstraints should be defined");return}var H={};(!y||x.aspectRatio)&&(H.aspectRatio=x.aspectRatio);var ue={onRenderSurfaceReady:function(We,oe){V.setupUi(We,oe,x),V.isScanning=!0,V.foreverScan(x,s,p)}};Jg.failIfNotSupported().then(function(We){We.create(q).then(function(oe){return oe.render(d.element,H,ue).then(function(B){V.renderedCamera=B,L.execute(),Y(null)}).catch(function(B){L.cancel(),$(B)})}).catch(function(oe){L.cancel(),$(tr.errorGettingUserMedia(oe))})}).catch(function(We){L.cancel(),$(tr.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ye.PAUSED),this.showPausedState(),(Qt(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Ye.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Ye.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var d=document.getElementById(zt.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),s(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,r){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Qt(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,d){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var p=new Image;p.onload=function(){var x=p.width,C=p.height,y=document.getElementById(s.elementId),v=y.clientWidth?y.clientWidth:zt.DEFAULT_WIDTH,S=Math.max(y.clientHeight?y.clientHeight:C,zt.FILE_SCAN_MIN_HEIGHT),V=s.computeCanvasDrawConfig(x,C,v,S);if(r){var L=s.createCanvasElement(v,S,"qr-canvas-visible");L.style.display="inline-block",y.appendChild(L);var Y=L.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=v,Y.canvas.height=S,Y.drawImage(p,0,0,x,C,V.x,V.y,V.width,V.height)}var $=zt.FILE_SCAN_HIDDEN_CANVAS_PADDING,q=Math.max(p.width,V.width),H=Math.max(p.height,V.height),ue=q+2*$,We=H+2*$,oe=s.createCanvasElement(ue,We);y.appendChild(oe);var B=oe.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=ue,B.canvas.height=We,B.drawImage(p,0,0,x,C,$,$,q,H);try{s.qrcode.decodeRobustlyAsync(oe).then(function(se){l(Vu.createFromQrcodeResult(se))}).catch(d)}catch(se){d("QR code parse error, error = ".concat(se))}},p.onerror=d,p.onabort=d,p.onstalled=d,p.onsuspend=d,p.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return e0.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!zu.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[j.QR_CODE,j.AZTEC,j.CODABAR,j.CODE_39,j.CODE_93,j.CODE_128,j.DATA_MATRIX,j.MAXICODE,j.ITF,j.EAN_13,j.EAN_8,j.PDF_417,j.RSS_14,j.RSS_EXPANDED,j.UPC_A,j.UPC_E,j.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],l=0,d=t.formatsToSupport;l<d.length;l++){var p=d[l];Vg(p)?s.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Qt(t))return!0;if(!Qt(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Qt(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Qt(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,s){var l=this,d=s.qrbox;this.validateQrboxConfig(d);var p=this.toQrdimensions(t,r,d),x=function(y){if(y<zt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(zt.MIN_QR_BOX_SIZE,"px.")},C=function(y){return y>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};x(p.width),x(p.height),p.width=C(p.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return s},e.prototype.setupUi=function(t,r,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,s);var l=Qt(s.qrbox)?{width:t,height:r}:s.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(t,r,l);d.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=s.isShadedBoxEnabled()&&d.height<=r,x={x:0,y:0,width:t,height:r},C=p?this.getShadedRegionBounds(t,r,d):x,y=this.createCanvasElement(C.width,C.height),v={willReadFrequently:!0},S=y.getContext("2d",v);S.canvas.width=C.width,S.canvas.height=C.height,this.element.append(y),p&&this.possiblyInsertShadingElement(this.element,t,r,d),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=S,this.canvasElement=y},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=tr.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,Vu.createFromQrcodeResult(l)),s.possiblyUpdateShaders(!0),!0}).catch(function(l){s.possiblyUpdateShaders(!1);var d=tr.codeParseError(l);return r(d,ma.createFrom(d)),!1})},e.prototype.foreverScan=function(t,r,s){var l=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),p=d.videoWidth/d.clientWidth,x=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*p,y=this.qrRegion.height*x,v=this.qrRegion.x*p,S=this.qrRegion.y*x;this.context.drawImage(d,v,S,C,y,0,0,this.qrRegion.width,this.qrRegion.height);var V=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,s)},l.getTimeoutFps(t.fps))};this.scanContext(r,s).then(function(L){!L&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,s).finally(function(){V()})):V()}).catch(function(L){l.logger.logError("Error happend while scanning context",L),V()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",s="deviceId",l={user:!0,environment:!0},d="exact",p=function(Y){if(Y in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Y,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var C=Object.keys(t)[0];if(C!==r&&C!==s)throw"Only '".concat(r,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(C===r){var y=t.facingMode;if(typeof y=="string"){if(p(y))return{facingMode:y}}else if(typeof y=="object")if(d in y){if(p(y["".concat(d)]))return{facingMode:{exact:y["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var v=typeof y;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(d in S)return{deviceId:{exact:S["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var V=typeof S;throw"Invalid type of 'deviceId' = ".concat(V)}}}var L=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},e.prototype.computeCanvasDrawConfig=function(t,r,s,l){if(t<=s&&r<=l){var d=(s-t)/2,p=(l-r)/2;return{x:d,y:p,width:t,height:r}}else{var x=t,C=r;return t>s&&(r=s/t*r,t=s),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(C)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,s,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?zt.BORDER_SHADER_MATCH_COLOR:zt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,s){var l=t,d=r,p=document.createElement("canvas");return p.style.width="".concat(l,"px"),p.style.height="".concat(d,"px"),p.style.display="none",p.id=Qt(s)?"qr-canvas":s,p},e.prototype.getShadedRegionBounds=function(t,r,s){if(s.width>t||s.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(r-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,r,s,l){if(!(r-l.width<1||s-l.height<1)){var d=document.createElement("div");d.style.position="absolute";var p=(r-l.width)/2,x=(s-l.height)/2;if(d.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(zt.SHADED_REGION_ELEMENT_ID),r-l.width<11||s-l.height<11)this.hasBorderShaders=!1;else{var C=5,y=40;this.insertShaderBorders(d,y,C,-C,null,0,!0),this.insertShaderBorders(d,y,C,-C,null,0,!1),this.insertShaderBorders(d,y,C,null,-C,0,!0),this.insertShaderBorders(d,y,C,null,-C,0,!1),this.insertShaderBorders(d,C,y+C,-C,null,-C,!0),this.insertShaderBorders(d,C,y+C,null,-C,-C,!0),this.insertShaderBorders(d,C,y+C,-C,null,-C,!1),this.insertShaderBorders(d,C,y+C,null,-C,-C,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,r,s,l,d,p,x){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=zt.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(r,"px"),C.style.height="".concat(s,"px"),l!==null&&(C.style.top="".concat(l,"px")),d!==null&&(C.style.bottom="".concat(d,"px")),x?C.style.left="".concat(p,"px"):C.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),t.appendChild(C)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();var Yu="data:image/svg+xml;base64,",n0=Yu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",r0=Yu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",qu=Yu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",i0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=";var o0=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),s0=function(){function e(){this.data=o0.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=o0.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}();var _I=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Hu.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var s=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(l);var d=document.createElement("a");d.innerText=Hu.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),NI=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=qu,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return r.onHoverIn()},this.infoIcon.onmouseout=function(s){return r.onHoverOut()},this.infoIcon.onclick=function(s){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=i0,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=qu,this.infoIcon.style.opacity="0.6")},e}(),a0=function(){function e(){var t=this;this.infoDiv=new _I,this.infoIcon=new NI(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}();var RI=function(e,t,r,s){function l(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function x(v){try{y(s.next(v))}catch(S){p(S)}}function C(v){try{y(s.throw(v))}catch(S){p(S)}}function y(v){v.done?d(v.value):l(v.value).then(x,C)}y((s=s.apply(e,t||[])).next())})},OI=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(v){return C([y,v])}}function C(y){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(r=0)),r;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(v){y=[6,v],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Xu=function(){function e(){}return e.hasPermissions=function(){return RI(this,void 0,void 0,function(){var t,r,s,l;return OI(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=d.sent(),r=0,s=t;r<s.length;r++)if(l=s[r],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}();var Pn=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var s=r[t];if(e.isCameraScanType(s))return!0}return!1},e.isCameraScanType=function(t){return t===St.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===St.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Lt.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Lt.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var s=0,l=t;s<l.length;s++){var d=l[s];if(!Lt.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return t},e}();var lt=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}();var Pt=function(){function e(){}return e.createElement=function(t,r){var s=document.createElement(t);return s.id=r,s.classList.add(lt.ALL_ELEMENT_CLASS),t==="button"&&s.setAttribute("type","button"),s},e}();var l0=function(e,t,r,s){function l(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function x(v){try{y(s.next(v))}catch(S){p(S)}}function C(v){try{y(s.throw(v))}catch(S){p(S)}}function y(v){v.done?d(v.value):l(v.value).then(x,C)}y((s=s.apply(e,t||[])).next())})},u0=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(v){return C([y,v])}}function C(y){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(r=0)),r;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){r.label=y[1];break}if(y[0]===6&&r.label<d[1]){r.label=d[1],d=y;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(y);break}d[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(v){y=[6,v],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},c0=function(){function e(t,r,s){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=s}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return l0(this,void 0,void 0,function(){var t,r;return u0(this,function(s){switch(s.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=s.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Se.torchOffButton():Se.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var s=t?Se.torchOnFailedMessage():Se.torchOffFailedMessage();r&&(s+="; Error = "+r),this.onTorchActionFailureCallback(s)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),d0=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=Pt.createElement("button",lt.TORCH_BUTTON_ID),this.torchController=new c0(t,this,r)}return e.prototype.render=function(t,r){var s=this;this.torchButton.innerText=Se.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var l=this;this.torchButton.addEventListener("click",function(d){return l0(s,void 0,void 0,function(){return u0(this,function(p){switch(p.label){case 0:return[4,l.torchController.flipState()];case 1:return p.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(lt.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(lt.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(lt.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(lt.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new c0(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Se.torchOnButton(),this.torchController.reset()},e.create=function(t,r,s,l){var d=new e(r,l);return d.render(t,s),d},e}();var f0=function(){function e(t,r,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Pt.createElement("button",lt.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Pt.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var C=x.target;if(!(C.files&&C.files.length===0)){var y=C.files,v=y[0],S=v.name;d.setImageNameToButton(S),s(v)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(x){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var C=x.dataTransfer;if(C){var y=C.files;if(!y||y.length===0)return;for(var v=!1,S=0;S<y.length;++S){var V=y.item(S);if(V){var L=/image.*/;if(V.type.match(L)){v=!0;var Y=V.name;d.setImageNameToButton(Y),s(V),p.innerText=Se.dragAndDropMessage();break}}}v||(p.innerText=Se.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Se.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var s=t.substring(0,8),l=t.length,d=t.substring(l-8,l);t="".concat(s,"....").concat(d)}var p=Se.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var t=Se.fileSelectionChooseImage()+" - "+Se.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,s){var l=new e(t,r,s);return l},e}();var h0=function(){function e(t){this.selectElement=Pt.createElement("select",lt.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var s=this.cameras.length;if(s===0)throw new Error("No cameras found");if(s===1)r.style.display="none";else{var l=Se.selectCamera();r.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var d=1,p=0,x=this.cameras;p<x.length;p++){var C=x[p],y=C.id,v=C.label==null?y:C.label;(!v||v==="")&&(v=[Se.anonymousCameraPrefix(),d++].join(" "));var S=document.createElement("option");S.value=y,S.innerText=v,this.options.push(S),this.selectElement.appendChild(S)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,s=this.options;r<s.length;r++){var l=s[r];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var s=new e(r);return s.render(t),s},e}();var p0=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Pt.createElement("input",lt.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=Se.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Se.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,s,l){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var s=new e;return s.render(t,r),s},e}();var Kt=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(Kt||{});function LI(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function PI(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Zu=function(){function e(t,r,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=s===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Pn(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ya(this.verbose),this.persistedDataManager=new s0,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,p){if(t)t(d,p);else{if(s.lastMatchFound===d)return;s.lastMatchFound=d,s.setHeaderMessage(Se.lastMatch(d),Kt.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,p){r&&r(d,p)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Ea(this.getScanRegionId(),PI(this.config,this.verbose))},e.prototype.pause=function(t){(Qt(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var s=document.getElementById(t.elementId);s&&(s.innerHTML="",t.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,l){if(!t.html5Qrcode){s();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(d){if(!t.html5Qrcode){s();return}t.html5Qrcode.clear(),r(),s()}).catch(function(d){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",d),l(d)}):(t.html5Qrcode.clear(),r(),s())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Lt.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Lt.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Lt.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Lt.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Lt.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Lt.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Lt.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),s=this.getScanRegionId();r.id=s,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Pn.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),d=this.getDashboardId();l.id=d,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var s=new a0;s.renderInto(r);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",r.appendChild(l)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,s){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(Se.cameraPermissionRequesting());var d=function(){s||l.createPermissionButton(t,r)};Ea.getCameras().then(function(p){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),p&&p.length>0?(t.removeChild(r),l.renderCameraSelection(p)):(l.setHeaderMessage(Se.noCameraFound(),Kt.STATUS_WARNING),d())}).catch(function(p){l.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:d(),l.setHeaderMessage(p,Kt.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var s=this,l=Pt.createElement("button",this.getCameraPermissionButtonId());l.innerText=Se.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,s.createCameraListUi(t,r,l)}),r.appendChild(l)},e.prototype.createPermissionsUi=function(t,r){var s=this;if(Pn.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Xu.hasPermissions().then(function(l){l?s.createCameraListUi(t,r):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,r))}).catch(function(l){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=Pn.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(s);var l=document.createElement("div");l.style.textAlign="center",s.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,l),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Pn.isFileScanType(this.currentScanType),s=this,l=function(d){if(!s.html5Qrcode)throw"html5Qrcode not defined";Pn.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(Se.loadingImage()),s.html5Qrcode.scanFileV2(d,!0).then(function(p){s.resetHeaderMessage(),s.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){s.setHeaderMessage(p,Kt.STATUS_WARNING),s.qrCodeErrorCallback(p,ma.createFrom(p))}))};this.fileSelectionUi=f0.create(t,r,l)},e.prototype.renderCameraSelection=function(t){var r=this,s=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var d=p0.create(l,!1),p=function($){var q=$.zoomFeature();if(q.isSupported()){d.setOnCameraZoomValueChangeCallback(function(ue){q.apply(ue)});var H=1;r.config.defaultZoomValueIfSupported&&(H=r.config.defaultZoomValueIfSupported),H=zg(H,q.min(),q.max()),d.setValues(q.min(),q.max(),H,q.step()),d.show()}},x=h0.create(l,t),C=document.createElement("span"),y=Pt.createElement("button",lt.CAMERA_START_BUTTON_ID);y.innerText=Se.scanButtonStartScanningText(),C.appendChild(y);var v=Pt.createElement("button",lt.CAMERA_STOP_BUTTON_ID);v.innerText=Se.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,C.appendChild(v);var S,V=function($){if(!$.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability($.torchFeature()):S=d0.create(C,$.torchFeature(),{display:"none",marginLeft:"5px"},function(q){s.setHeaderMessage(q,Kt.STATUS_WARNING)}),S.show()};l.appendChild(C);var L=function($){$||(y.style.display="none"),y.innerText=Se.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,$&&(y.style.display="inline-block")};if(y.addEventListener("click",function($){y.innerText=Se.scanButtonScanningStarting(),x.disable(),y.disabled=!0,y.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var q=x.getValue();s.persistedDataManager.setLastUsedCameraId(q),s.html5Qrcode.start(q,LI(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(H){v.disabled=!1,v.style.display="inline-block",L(!1);var ue=s.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&V(ue),r.config.showZoomSliderIfSupported===!0&&p(ue)}).catch(function(H){s.showHideScanTypeSwapLink(!0),x.enable(),L(!0),s.setHeaderMessage(H,Kt.STATUS_WARNING)})}),x.hasSingleItem()&&y.click(),v.addEventListener("click",function($){if(!s.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,s.html5Qrcode.stop().then(function(q){r.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),x.enable(),y.disabled=!1,v.style.display="none",y.style.display="inline-block",S&&(S.reset(),S.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(q){v.disabled=!1,s.setHeaderMessage(q,Kt.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var Y=s.persistedDataManager.getLastUsedCameraId();x.hasValue(Y)?(x.setValue(Y),y.click()):s.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Se.textIfCameraScanSelected(),s=Se.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var p=Pt.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=Pn.isCameraScanType(this.currentScanType)?r:s,p.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Pn.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),p.innerText=s,t.currentScanType=St.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),p.innerText=r,t.currentScanType=St.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),d.appendChild(p),l.appendChild(d)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Xu.hasPermissions().then(function(s){if(s){var l=document.getElementById(r.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(s){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Kt.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=t,s.style.display="block",r){case Kt.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case Kt.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;case Kt.STATUS_DEFAULT:default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=n0,this.cameraScanImage.alt=Se.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(s){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=r0,this.fileScanImage.alt=Se.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return lt.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return lt.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();var FI=(()=>{class e{constructor(){}html5QrcodeScanner(r,s,l=!0){return this.instance=new Zu(r,s,l),this.instance}render(r,s){this.instance?.render(r,s)}clear(){return this.instance?.clear()}pause(r){this.instance?.pause(r)}resume(){this.instance?.resume()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),g0=(()=>{class e{constructor(r){this.angularHtmlQrcodeService=r,this.onSuccess=new Rt,this.onError=new Rt,this.types=[j.QR_CODE,j.AZTEC,j.CODABAR,j.CODE_39,j.CODE_93,j.CODE_128,j.DATA_MATRIX,j.MAXICODE,j.ITF,j.EAN_13,j.EAN_8,j.PDF_417,j.RSS_14,j.RSS_EXPANDED,j.UPC_A,j.UPC_E,j.UPC_EAN_EXTENSION],this.fps=10,this.selectorID="reader",this.rememberLastUsedCamera=!0,this.aspectRatio=1.333334,this.disableFlip=!1,this.supportCameraOrFile="both",this.supportedTypes={camera:[St.SCAN_TYPE_CAMERA],file:[St.SCAN_TYPE_FILE],both:[St.SCAN_TYPE_CAMERA,St.SCAN_TYPE_FILE]},this.qrbox={width:250,height:250}}ngAfterContentInit(){setTimeout(()=>{this.onReaderLoad()},80)}onReaderLoad(){this.angularHtmlQrcodeService.html5QrcodeScanner(this.selectorID,{formatsToSupport:this.types,fps:this.fps,rememberLastUsedCamera:this.rememberLastUsedCamera,disableFlip:this.disableFlip,supportedScanTypes:this.supportedTypes[this.supportCameraOrFile],aspectRatio:this.aspectRatio,qrbox:this.qrbox},!0).render((s,l)=>{this.onSuccess.emit({decodedText:s,result:l})},(s,l)=>{this.onError.emit({errorMessage:s,error:l})})}static{this.\u0275fac=function(s){return new(s||e)(Xi(FI))}}static{this.\u0275cmp=ni({type:e,selectors:[["angular-html-qrcode"]],inputs:{types:"types",fps:"fps",selectorID:"selectorID",rememberLastUsedCamera:"rememberLastUsedCamera",aspectRatio:"aspectRatio",disableFlip:"disableFlip",supportCameraOrFile:"supportCameraOrFile",qrbox:"qrbox"},outputs:{onSuccess:"onSuccess",onError:"onError"},standalone:!0,features:[oi],decls:1,vars:1,consts:[[3,"id"]],template:function(s,l){s&1&&Ji(0,"div",0),s&2&&Zi("id",l.selectorID)}})}}return e})();function kI(e,t){if(e&1&&(Qi(0,"p"),Tp(1),Ki()),e&2){let r=bp();Ol(),zl("C\xF3digo escaneado: ",r.scannedCode,"")}}var m0=(()=>{class e{constructor(){this.title="testzxingngxscanner",this.scannedCode=null,this.formats=[j.CODE_128,j.EAN_13,j.QR_CODE]}handleScanSuccess(r){console.log("C\xF3digo:",r.decodedText),this.scannedCode=r.decodedText}handleScanError(r){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=ni({type:e,selectors:[["app-root"]],standalone:!0,features:[oi],decls:2,vars:4,consts:[[3,"onSuccess","onError","types","fps","supportCameraOrFile"]],template:function(s,l){s&1&&(Qi(0,"angular-html-qrcode",0),$s("onSuccess",function(p){return l.handleScanSuccess(p)})("onError",function(p){return l.handleScanError(p)}),Ki(),Hl(1,kI,2,1,"p")),s&2&&(Zi("types",l.formats)("fps",5)("supportCameraOrFile","camera"),Ol(),Sp(1,l.scannedCode?1:-1))},dependencies:[g0]})}}return e})();tg(m0,Ug).catch(e=>console.error(e));
