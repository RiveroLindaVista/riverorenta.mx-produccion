(self.webpackChunkkiosko_greeter_v2=self.webpackChunkkiosko_greeter_v2||[]).push([[179],{846:(tc,nc,G)=>{"use strict";function Ue(e){return"function"==typeof e}function fa(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ha=fa(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ga(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class vn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const a of n)a.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(a){t=a instanceof ha?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{Dn(a)}catch(u){t=t??[],u instanceof ha?t=[...t,...u.errors]:t.push(u)}}if(t)throw new ha(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Dn(t);else{if(t instanceof vn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ga(n,t)}remove(t){const{_finalizers:n}=this;n&&ga(n,t),t instanceof vn&&t._removeParent(this)}}vn.EMPTY=(()=>{const e=new vn;return e.closed=!0,e})();const rc=vn.EMPTY;function Kt(e){return e instanceof vn||e&&"closed"in e&&Ue(e.remove)&&Ue(e.add)&&Ue(e.unsubscribe)}function Dn(e){Ue(e)?e():e.unsubscribe()}const ee={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ar={setTimeout(e,t,...n){const{delegate:r}=Ar;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Ar;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Pt(e){Ar.setTimeout(()=>{const{onUnhandledError:t}=ee;if(!t)throw e;t(e)})}function jo(){}const it=St("C",void 0,void 0);function St(e,t,n){return{kind:e,value:t,error:n}}let xe=null;function ot(e){if(ee.useDeprecatedSynchronousErrorHandling){const t=!xe;if(t&&(xe={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=xe;if(xe=null,n)throw r}}else e()}class ht extends vn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Kt(t)&&t.add(this)):this.destination=Vt}static create(t,n,r){return new Ir(t,n,r)}next(t){this.isStopped?Xe(function ic(e){return St("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Xe(function pa(e){return St("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xe(it,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Z=Function.prototype.bind;function qe(e,t){return Z.call(e,t)}class q{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){$t(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){$t(r)}else $t(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){$t(n)}}}class Ir extends ht{constructor(t,n,r){let i;if(super(),Ue(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let a;this&&ee.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&qe(t.next,a),error:t.error&&qe(t.error,a),complete:t.complete&&qe(t.complete,a)}):i=t}this.destination=new q(i)}}function $t(e){ee.useDeprecatedSynchronousErrorHandling?function oc(e){ee.useDeprecatedSynchronousErrorHandling&&xe&&(xe.errorThrown=!0,xe.error=e)}(e):Pt(e)}function Xe(e,t){const{onStoppedNotification:n}=ee;n&&Ar.setTimeout(()=>n(e,t))}const Vt={closed:!0,next:jo,error:function Ce(e){throw e},complete:jo},U="function"==typeof Symbol&&Symbol.observable||"@@observable";function gt(e){return e}function Ni(e){return 0===e.length?gt:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let st=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const a=function rn(e){return e&&e instanceof ht||function sc(e){return e&&Ue(e.next)&&Ue(e.error)&&Ue(e.complete)}(e)&&Kt(e)}(n)?n:new Ir(n,r,i);return ot(()=>{const{operator:u,source:h}=this;a.add(u?u.call(a,h):h?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=_r(r))((i,a)=>{const u=new Ir({next:h=>{try{n(h)}catch(p){a(p),u.unsubscribe()}},error:a,complete:i});this.subscribe(u)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[U](){return this}pipe(...n){return Ni(n)(this)}toPromise(n){return new(n=_r(n))((r,i)=>{let a;this.subscribe(u=>a=u,u=>i(u),()=>r(a))})}}return e.create=t=>new e(t),e})();function _r(e){var t;return null!==(t=e??ee.Promise)&&void 0!==t?t:Promise}const ai=fa(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pt=(()=>{class e extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ma(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ai}next(n){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:a}=this;return r||i?rc:(this.currentObservers=null,a.push(n),new vn(()=>{this.currentObservers=null,ga(a,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:a}=this;r?n.error(i):a&&n.complete()}asObservable(){const n=new st;return n.source=this,n}}return e.create=(t,n)=>new ma(t,n),e})();class ma extends pt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:rc}}function fe(e){return Ue(e?.lift)}function Mt(e){return t=>{if(fe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(e,t,n,r,i){return new co(e,t,n,r,i)}class co extends ht{constructor(t,n,r,i,a,u){super(t),this.onFinalize=a,this.shouldUnsubscribe=u,this._next=n?function(h){try{n(h)}catch(p){t.error(p)}}:super._next,this._error=i?function(h){try{i(h)}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function We(e,t){return Mt((n,r)=>{let i=0;n.subscribe(Re(r,a=>{r.next(e.call(t,a,i++))}))})}function Yn(e){return this instanceof Yn?(this.v=e,this):new Yn(e)}function X(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function An(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(u){return new Promise(function(h,p){!function i(a,u,h,p){Promise.resolve(p).then(function(m){a({value:m,done:h})},u)}(h,p,(u=e[a](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zo=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Vr(e){return Ue(e?.then)}function li(e){return Ue(e[U])}function po(e){return Symbol.asyncIterator&&Ue(e?.[Symbol.asyncIterator])}function qn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ur=function jd(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Go(e){return Ue(e?.[Ur])}function Bn(e){return function uc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(I){r[I]&&(i[I]=function(S){return new Promise(function(N,P){a.push([I,S,N,P])>1||h(I,S)})})}function h(I,S){try{!function p(I){I.value instanceof Yn?Promise.resolve(I.value.v).then(m,x):v(a[0][2],I)}(r[I](S))}catch(N){v(a[0][3],N)}}function m(I){h("next",I)}function x(I){h("throw",I)}function v(I,S){I(S),a.shift(),a.length&&h(a[0][0],a[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Yn(n.read());if(i)return yield Yn(void 0);yield yield Yn(r)}}finally{n.releaseLock()}})}function jr(e){return Ue(e?.getReader)}function Ut(e){if(e instanceof st)return e;if(null!=e){if(li(e))return function J(e){return new st(t=>{const n=e[U]();if(Ue(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(zo(e))return function Ri(e){return new st(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Vr(e))return function Da(e){return new st(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Pt)})}(e);if(po(e))return gc(e);if(Go(e))return function Xn(e){return new st(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(jr(e))return function Hd(e){return gc(Bn(e))}(e)}throw qn(e)}function gc(e){return new st(t=>{(function Wo(e,t){var n,r,i,a;return function ho(e,t,n,r){return new(n||(n=Promise))(function(a,u){function h(x){try{m(r.next(x))}catch(v){u(v)}}function p(x){try{m(r.throw(x))}catch(v){u(v)}}function m(x){x.done?a(x.value):function i(a){return a instanceof n?a:new n(function(u){u(a)})}(x.value).then(h,p)}m((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=X(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function fr(e,t,n,r=0,i=!1){const a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function Yt(e,t,n=1/0){return Ue(t)?Yt((r,i)=>We((a,u)=>t(r,a,i,u))(Ut(e(r,i))),n):("number"==typeof t&&(n=t),Mt((r,i)=>function zd(e,t,n,r,i,a,u,h){const p=[];let m=0,x=0,v=!1;const I=()=>{v&&!p.length&&!m&&t.complete()},S=P=>m<r?N(P):p.push(P),N=P=>{a&&t.next(P),m++;let V=!1;Ut(n(P,x++)).subscribe(Re(t,z=>{i?.(z),a?S(z):t.next(z)},()=>{V=!0},void 0,()=>{if(V)try{for(m--;p.length&&m<r;){const z=p.shift();u?fr(t,u,()=>N(z)):N(z)}I()}catch(z){t.error(z)}}))};return e.subscribe(Re(t,S,()=>{v=!0,I()})),()=>{h?.()}}(r,i,e,n)))}function Pi(e=1/0){return Yt(gt,e)}const hr=new st(e=>e.complete());function mo(e){return e[e.length-1]}function j(e){return Ue(mo(e))?e.pop():void 0}function yo(e){return function Hr(e){return e&&Ue(e.schedule)}(mo(e))?e.pop():void 0}function ui(e,t=0){return Mt((n,r)=>{n.subscribe(Re(r,i=>fr(r,e,()=>r.next(i),t),()=>fr(r,e,()=>r.complete(),t),i=>fr(r,e,()=>r.error(i),t)))})}function mc(e,t=0){return Mt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function $o(e,t){if(!e)throw new Error("Iterable cannot be null");return new st(n=>{fr(n,t,()=>{const r=e[Symbol.asyncIterator]();fr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mt(e,t){return t?function jt(e,t){if(null!=e){if(li(e))return function Ze(e,t){return Ut(e).pipe(mc(t),ui(t))}(e,t);if(zo(e))return function Le(e,t){return new st(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Vr(e))return function Ye(e,t){return Ut(e).pipe(mc(t),ui(t))}(e,t);if(po(e))return $o(e,t);if(Go(e))return function Aa(e,t){return new st(n=>{let r;return fr(n,t,()=>{r=e[Ur](),fr(n,t,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(u){return void n.error(u)}a?n.complete():n.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(e,t);if(jr(e))return function Ia(e,t){return $o(Bn(e),t)}(e,t)}throw qn(e)}(e,t):Ut(e)}class He extends pt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function me(...e){return mt(e,yo(e))}function yc(e={}){const{connector:t=(()=>new pt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return a=>{let u,h,p,m=0,x=!1,v=!1;const I=()=>{h?.unsubscribe(),h=void 0},S=()=>{I(),u=p=void 0,x=v=!1},N=()=>{const P=u;S(),P?.unsubscribe()};return Mt((P,V)=>{m++,!v&&!x&&I();const z=p=p??t();V.add(()=>{m--,0===m&&!v&&!x&&(h=di(N,i))}),z.subscribe(V),!u&&m>0&&(u=new Ir({next:k=>z.next(k),error:k=>{v=!0,I(),h=di(S,n,k),z.error(k)},complete:()=>{x=!0,I(),h=di(S,r),z.complete()}}),Ut(P).subscribe(u))})(a)}}function di(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Ir({next:()=>{r.unsubscribe(),e()}});return Ut(t(...n)).subscribe(r)}function Fe(e,t){return Mt((n,r)=>{let i=null,a=0,u=!1;const h=()=>u&&!i&&r.complete();n.subscribe(Re(r,p=>{i?.unsubscribe();let m=0;const x=a++;Ut(e(p,x)).subscribe(i=Re(r,v=>r.next(t?t(p,v,x,m++):v),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function R(e,t){return e===t}function _(e){for(let t in e)if(e[t]===_)return t;throw Error("Could not find renamed property on target object.")}function ae(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function fn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Wd=_({__forward_ref__:_});function tt(e){return e.__forward_ref__=tt,e.toString=function(){return ke(this())},e}function le(e){return ue(e)?e():e}function ue(e){return"function"==typeof e&&e.hasOwnProperty(Wd)&&e.__forward_ref__===tt}function Yo(e){return e&&!!e.\u0275providers}const Cc="https://g.co/ng/security#xss";class W extends Error{constructor(t,n){super(function fi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ye(e){return"string"==typeof e?e:null==e?"":String(e)}function he(e,t){throw new W(-201,!1)}function Vn(e,t){null==e&&function oe(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Zn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ke(e){return Co(e,F)||Co(e,Ht)}function Co(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ko(e){return e&&(e.hasOwnProperty(_e)||e.hasOwnProperty(_a))?e[_e]:null}const F=_({\u0275prov:_}),_e=_({\u0275inj:_}),Ht=_({ngInjectableDef:_}),_a=_({ngInjectorDef:_});var Ne=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ne||{});let ba;function hn(e){const t=ba;return ba=e,t}function Sa(e,t,n){const r=Ke(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ne.Optional?null:void 0!==t?t:void he(ke(e))}const nt=globalThis;class te{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fi={},es="__NG_DI_FLAG__",ts="ngTempTokenPath",Ta=/\n/gm,Bi="__source";let Vi;function Qn(e){const t=Vi;return Vi=e,t}function Un(e,t=Ne.Default){if(void 0===Vi)throw new W(-203,!1);return null===Vi?Sa(e,void 0,t):Vi.get(e,t&Ne.Optional?null:void 0,t)}function pe(e,t=Ne.Default){return(function vc(){return ba}()||Un)(le(e),t)}function ne(e,t=Ne.Default){return pe(e,Ui(t))}function Ui(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Na(e){const t=[];for(let n=0;n<e.length;n++){const r=le(e[n]);if(Array.isArray(r)){if(0===r.length)throw new W(900,!1);let i,a=Ne.Default;for(let u=0;u<r.length;u++){const h=r[u],p=gr(h);"number"==typeof p?-1===p?i=h.token:a|=p:i=h}t.push(pe(i,a))}else t.push(pe(r))}return t}function ji(e,t){return e[es]=t,e.prototype[es]=t,e}function gr(e){return e[es]}function _n(e){return{toString:e}.toString()}var Pe=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Pe||{}),gn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gn||{});const w={},o=[],s=_({\u0275cmp:_}),l=_({\u0275dir:_}),c=_({\u0275pipe:_}),d=_({\u0275mod:_}),f=_({\u0275fac:_}),g=_({__NG_ELEMENT_ID__:_}),y=_({__NG_ENV_ID__:_});function C(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}function E(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const a=n[r++],u=n[r++],h=n[r++];e.setAttribute(t,u,h,a)}else{const a=i,u=n[++r];A(a)?e.setProperty(t,a,u):e.setAttribute(t,a,u),r++}}return r}function D(e){return 3===e||4===e||6===e}function A(e){return 64===e.charCodeAt(0)}function b(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||M(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function M(e,t,n,r,i){let a=0,u=e.length;if(-1===t)u=-1;else for(;a<e.length;){const h=e[a++];if("number"==typeof h){if(h===t){u=-1;break}if(h>t){u=a-1;break}}}for(;a<e.length;){const h=e[a];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==u&&(e.splice(u,0,t),a=u+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}const T="ng-template";function O(e,t,n){let r=0,i=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&i){const u=e[r++];if(n&&"class"===a&&-1!==C(u.toLowerCase(),t,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(i=!1)}}return!1}function L(e){return 4===e.type&&e.value!==T}function $(e,t,n){return t===(4!==e.type||n?e.value:T)}function Q(e,t,n){let r=4;const i=e.attrs||[],a=function Jn(e){for(let t=0;t<e.length;t++)if(D(e[t]))return t;return e.length}(i);let u=!1;for(let h=0;h<t.length;h++){const p=t[h];if("number"!=typeof p){if(!u)if(4&r){if(r=2|1&r,""!==p&&!$(e,p,n)||""===p&&1===t.length){if(B(r))return!1;u=!0}}else{const m=8&r?p:t[++h];if(8&r&&null!==e.attrs){if(!O(e.attrs,m,n)){if(B(r))return!1;u=!0}continue}const v=Oe(8&r?"class":p,i,L(e),n);if(-1===v){if(B(r))return!1;u=!0;continue}if(""!==m){let I;I=v>a?"":i[v+1].toLowerCase();const S=8&r?I:null;if(S&&-1!==C(S,m,0)||2&r&&m!==I){if(B(r))return!1;u=!0}}}}else{if(!u&&!B(r)&&!B(p))return!1;if(u&&B(p))continue;u=!1,r=p|1&r}}return B(r)||u}function B(e){return 0==(1&e)}function Oe(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let a=!1;for(;i<t.length;){const u=t[i];if(u===e)return i;if(3===u||6===u)a=!0;else{if(1===u||2===u){let h=t[++i];for(;"string"==typeof h;)h=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=a?1:2}return-1}return function mn(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ve(e,t,n=!1){for(let r=0;r<t.length;r++)if(Q(e,t[r],n))return!0;return!1}function Gt(e,t){return e?":not("+t.trim()+")":t}function bn(e){let t=e[0],n=1,r=2,i="",a=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const h=e[++n];i+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!B(u)&&(t+=Gt(a,i),i=""),r=u,a=a||!B(r);n++}return""!==i&&(t+=Gt(a,i)),t}function Gi(e){return _n(()=>{const t=u0(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Pe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gn.Emulated,styles:e.styles||o,_:null,schemas:e.schemas||null,tView:null,id:""};d0(n);const r=e.dependencies;return n.directiveDefs=_c(r,!1),n.pipeDefs=_c(r,!0),n.id=function xD(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function mD(e){return ze(e)||an(e)}function yD(e){return null!==e}function $r(e){return _n(()=>({type:e.type,bootstrap:e.bootstrap||o,declarations:e.declarations||o,imports:e.imports||o,exports:e.exports||o,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function c0(e,t){if(null==e)return w;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}function Ee(e){return _n(()=>{const t=u0(e);return d0(t),t})}function ze(e){return e[s]||null}function an(e){return e[l]||null}function Sn(e){return e[c]||null}function er(e,t){const n=e[d]||null;if(!n&&!0===t)throw new Error(`Type ${ke(e)} does not have '\u0275mod' property.`);return n}function u0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||w,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||o,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:c0(e.inputs,t),outputs:c0(e.outputs)}}function d0(e){e.features?.forEach(t=>t(e))}function _c(e,t){if(!e)return null;const n=t?Sn:mD;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(yD)}const Nt=0,K=1,be=2,At=3,Mr=4,Ra=5,yn=6,rs=7,Lt=8,Wi=9,is=10,De=11,Pa=12,f0=13,os=14,Ft=15,La=16,ss=17,Yr=18,Fa=19,h0=20,$i=21,hi=22,ka=23,Ba=24,Be=25,nf=1,g0=2,qr=7,as=9,ln=11;function Hn(e){return Array.isArray(e)&&"object"==typeof e[nf]}function Mn(e){return Array.isArray(e)&&!0===e[nf]}function rf(e){return 0!=(4&e.flags)}function xo(e){return e.componentOffset>-1}function Sc(e){return 1==(1&e.flags)}function Tr(e){return!!e.template}function sf(e){return 0!=(512&e[be])}function Eo(e,t){return e.hasOwnProperty(f)?e[f]:null}let cn=null,Mc=!1;function pr(e){const t=cn;return cn=e,t}const y0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function w0(e){if(!Ua(e)||e.dirty){if(!e.producerMustRecompute(e)&&!v0(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function E0(e){e.dirty=!0,function x0(e){if(void 0===e.liveConsumerNode)return;const t=Mc;Mc=!0;try{for(const n of e.liveConsumerNode)n.dirty||E0(n)}finally{Mc=t}}(e),e.consumerMarkedDirty?.(e)}function lf(e){return e&&(e.nextProducerIndex=0),pr(e)}function cf(e,t){if(pr(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ua(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Tc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function v0(e){ls(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(w0(n),r!==n.version))return!0}return!1}function D0(e){if(ls(e),Ua(e))for(let t=0;t<e.producerNode.length;t++)Tc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Tc(e,t){if(function I0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ls(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Tc(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ls(i),i.producerIndexOfThis[r]=t}}function Ua(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ls(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let _0=null;const T0=()=>{},RD=(()=>({...y0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:T0}))();class PD{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function mr(){return N0}function N0(e){return e.type.prototype.ngOnChanges&&(e.setInput=FD),LD}function LD(){const e=R0(this),t=e?.current;if(t){const n=e.previous;if(n===w)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function FD(e,t,n,r){const i=this.declaredInputs[n],a=R0(e)||function kD(e,t){return e[O0]=t}(e,{previous:w,current:null}),u=a.current||(a.current={}),h=a.previous,p=h[i];u[i]=new PD(p&&p.currentValue,t,h===w),e[r]=t}mr.ngInherit=!0;const O0="__ngSimpleChanges__";function R0(e){return e[O0]||null}const Xr=function(e,t,n){};function Ct(e){for(;Array.isArray(e);)e=e[Nt];return e}function Nc(e,t){return Ct(t[e])}function zn(e,t){return Ct(t[e.index])}function F0(e,t){return e.data[t]}function tr(e,t){const n=t[e];return Hn(n)?n:n[Nt]}function qi(e,t){return null==t?null:e[t]}function k0(e){e[ss]=0}function zD(e){1024&e[be]||(e[be]|=1024,V0(e,1))}function B0(e){1024&e[be]&&(e[be]&=-1025,V0(e,-1))}function V0(e,t){let n=e[At];if(null===n)return;n[Ra]+=t;let r=n;for(n=n[At];null!==n&&(1===t&&1===r[Ra]||-1===t&&0===r[Ra]);)n[Ra]+=t,r=n,n=n[At]}const we={lFrame:K0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function H0(){return we.bindingsEnabled}function H(){return we.lFrame.lView}function Ge(){return we.lFrame.tView}function un(){let e=W0();for(;null!==e&&64===e.type;)e=e.parent;return e}function W0(){return we.lFrame.currentTNode}function Zr(e,t){const n=we.lFrame;n.currentTNode=e,n.isParent=t}function gf(){return we.lFrame.isParent}function ds(){return we.lFrame.bindingIndex++}function tA(e,t){const n=we.lFrame;n.bindingIndex=n.bindingRootIndex=e,mf(t)}function mf(e){we.lFrame.currentDirectiveIndex=e}function Cf(e){we.lFrame.currentQueryIndex=e}function rA(e){const t=e[K];return 2===t.type?t.declTNode:1===t.type?e[yn]:null}function Z0(e,t,n){if(n&Ne.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||n&Ne.Host||(i=rA(a),null===i||(a=a[os],10&i.type))););if(null===i)return!1;t=i,e=a}const r=we.lFrame=Q0();return r.currentTNode=t,r.lView=e,!0}function wf(e){const t=Q0(),n=e[K];we.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Q0(){const e=we.lFrame,t=null===e?null:e.child;return null===t?K0(e):t}function K0(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function J0(){const e=we.lFrame;return we.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const e1=J0;function xf(){const e=J0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Nn(){return we.lFrame.selectedIndex}function vo(e){we.lFrame.selectedIndex=e}function bt(){const e=we.lFrame;return F0(e.tView,e.selectedIndex)}let i1=!0;function Oc(){return i1}function Xi(e){i1=e}function Rc(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:p,ngAfterViewChecked:m,ngOnDestroy:x}=a;u&&(e.contentHooks??=[]).push(-n,u),h&&((e.contentHooks??=[]).push(n,h),(e.contentCheckHooks??=[]).push(n,h)),p&&(e.viewHooks??=[]).push(-n,p),m&&((e.viewHooks??=[]).push(n,m),(e.viewCheckHooks??=[]).push(n,m)),null!=x&&(e.destroyHooks??=[]).push(n,x)}}function Pc(e,t,n){o1(e,t,3,n)}function Lc(e,t,n,r){(3&e[be])===n&&o1(e,t,n,r)}function Ef(e,t){let n=e[be];(3&n)===t&&(n&=8191,n+=1,e[be]=n)}function o1(e,t,n,r){const a=r??-1,u=t.length-1;let h=0;for(let p=void 0!==r?65535&e[ss]:0;p<u;p++)if("number"==typeof t[p+1]){if(h=t[p],null!=r&&h>=r)break}else t[p]<0&&(e[ss]+=65536),(h<a||-1==a)&&(cA(e,n,t,p),e[ss]=(4294901760&e[ss])+p+2),p++}function s1(e,t){Xr(4,e,t);const n=pr(null);try{t.call(e)}finally{pr(n),Xr(5,e,t)}}function cA(e,t,n,r){const i=n[r]<0,a=n[r+1],h=e[i?-n[r]:n[r]];i?e[be]>>13<e[ss]>>16&&(3&e[be])===t&&(e[be]+=8192,s1(h,a)):s1(h,a)}const fs=-1;class Ha{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Df(e){return e!==fs}function za(e){return 32767&e}function Ga(e,t){let n=function hA(e){return e>>16}(e),r=t;for(;n>0;)r=r[os],n--;return r}let Af=!0;function Fc(e){const t=Af;return Af=e,t}const a1=255,l1=5;let gA=0;const Qr={};function kc(e,t){const n=c1(e,t);if(-1!==n)return n;const r=t[K];r.firstCreatePass&&(e.injectorIndex=t.length,If(r.data,e),If(t,null),If(r.blueprint,null));const i=Bc(e,t),a=e.injectorIndex;if(Df(i)){const u=za(i),h=Ga(i,t),p=h[K].data;for(let m=0;m<8;m++)t[a+m]=h[u+m]|p[u+m]}return t[a+8]=i,a}function If(e,t){e.push(0,0,0,0,0,0,0,0,t)}function c1(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=m1(i),null===r)return fs;if(n++,i=i[os],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return fs}function _f(e,t,n){!function pA(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(g)&&(r=n[g]),null==r&&(r=n[g]=gA++);const i=r&a1;t.data[e+(i>>l1)]|=1<<i}(e,t,n)}function u1(e,t,n){if(n&Ne.Optional||void 0!==e)return e;he()}function d1(e,t,n,r){if(n&Ne.Optional&&void 0===r&&(r=null),!(n&(Ne.Self|Ne.Host))){const i=e[Wi],a=hn(void 0);try{return i?i.get(t,r,n&Ne.Optional):Sa(t,r,n&Ne.Optional)}finally{hn(a)}}return u1(r,0,n)}function f1(e,t,n,r=Ne.Default,i){if(null!==e){if(2048&t[be]&&!(r&Ne.Self)){const u=function EA(e,t,n,r,i){let a=e,u=t;for(;null!==a&&null!==u&&2048&u[be]&&!(512&u[be]);){const h=h1(a,u,n,r|Ne.Self,Qr);if(h!==Qr)return h;let p=a.parent;if(!p){const m=u[h0];if(m){const x=m.get(n,Qr,r);if(x!==Qr)return x}p=m1(u),u=u[os]}a=p}return i}(e,t,n,r,Qr);if(u!==Qr)return u}const a=h1(e,t,n,r,Qr);if(a!==Qr)return a}return d1(t,n,r,i)}function h1(e,t,n,r,i){const a=function CA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(g)?e[g]:void 0;return"number"==typeof t?t>=0?t&a1:xA:t}(n);if("function"==typeof a){if(!Z0(t,e,r))return r&Ne.Host?u1(i,0,r):d1(t,n,r,i);try{let u;if(u=a(r),null!=u||r&Ne.Optional)return u;he()}finally{e1()}}else if("number"==typeof a){let u=null,h=c1(e,t),p=fs,m=r&Ne.Host?t[Ft][yn]:null;for((-1===h||r&Ne.SkipSelf)&&(p=-1===h?Bc(e,t):t[h+8],p!==fs&&p1(r,!1)?(u=t[K],h=za(p),t=Ga(p,t)):h=-1);-1!==h;){const x=t[K];if(g1(a,h,x.data)){const v=yA(h,t,n,u,r,m);if(v!==Qr)return v}p=t[h+8],p!==fs&&p1(r,t[K].data[h+8]===m)&&g1(a,h,t)?(u=x,h=za(p),t=Ga(p,t)):h=-1}}return i}function yA(e,t,n,r,i,a){const u=t[K],h=u.data[e+8],x=function Vc(e,t,n,r,i){const a=e.providerIndexes,u=t.data,h=1048575&a,p=e.directiveStart,x=a>>20,I=i?h+x:e.directiveEnd;for(let S=r?h:h+x;S<I;S++){const N=u[S];if(S<p&&n===N||S>=p&&N.type===n)return S}if(i){const S=u[p];if(S&&Tr(S)&&S.type===n)return p}return null}(h,u,n,null==r?xo(h)&&Af:r!=u&&0!=(3&h.type),i&Ne.Host&&a===h);return null!==x?Do(t,u,x,h):Qr}function Do(e,t,n,r){let i=e[n];const a=t.data;if(function uA(e){return e instanceof Ha}(i)){const u=i;u.resolving&&function Yd(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new W(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ye(e)}(a[n]));const h=Fc(u.canSeeViewProviders);u.resolving=!0;const m=u.injectImpl?hn(u.injectImpl):null;Z0(e,r,Ne.Default);try{i=e[n]=u.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function lA(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const u=N0(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}i&&(n.preOrderHooks??=[]).push(0-e,i),a&&((n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a))}(n,a[n],t)}finally{null!==m&&hn(m),Fc(h),u.resolving=!1,e1()}}return i}function g1(e,t,n){return!!(n[t+(e>>l1)]&1<<e)}function p1(e,t){return!(e&Ne.Self||e&Ne.Host&&t)}class On{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return f1(this._tNode,this._lView,t,Ui(r),n)}}function xA(){return new On(un(),H())}function dn(e){return _n(()=>{const t=e.prototype.constructor,n=t[f]||bf(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[f]||bf(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function bf(e){return ue(e)?()=>{const t=bf(le(e));return t&&t()}:Eo(e)}function m1(e){const t=e[K],n=t.type;return 2===n?t.declTNode:1===n?e[yn]:null}const gs="__parameters__";function ms(e,t,n){return _n(()=>{const r=function Sf(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const u=new i(...a);return h.annotation=u,h;function h(p,m,x){const v=p.hasOwnProperty(gs)?p[gs]:Object.defineProperty(p,gs,{value:[]})[gs];for(;v.length<=x;)v.push(null);return(v[x]=v[x]||[]).push(u),p}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Cs(e,t){e.forEach(n=>Array.isArray(n)?Cs(n,t):t(n))}function C1(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function jc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function nr(e,t,n){let r=ws(e,t);return r>=0?e[1|r]=n:(r=~r,function SA(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Mf(e,t){const n=ws(e,t);if(n>=0)return e[1|n]}function ws(e,t){return function w1(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const a=r+(i-r>>1),u=e[a<<n];if(t===u)return a<<n;u>t?i=a:r=a+1}return~(i<<n)}(e,t,1)}const zc=ji(ms("Optional"),8),Gc=ji(ms("SkipSelf"),4);function Xc(e){return 128==(128&e.flags)}var Zi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zi||{});const Pf=new Map;let KA=0;const Ff="__ngContext__";function Cn(e,t){Hn(t)?(e[Ff]=t[Fa],function eI(e){Pf.set(e[Fa],e)}(t)):e[Ff]=t}let kf;function Bf(e,t){return kf(e,t)}function Za(e){const t=e[At];return Mn(t)?t[At]:t}function V1(e){return j1(e[Pa])}function U1(e){return j1(e[Mr])}function j1(e){for(;null!==e&&!Mn(e);)e=e[Mr];return e}function vs(e,t,n,r,i){if(null!=r){let a,u=!1;Mn(r)?a=r:Hn(r)&&(u=!0,r=r[Nt]);const h=Ct(r);0===e&&null!==n?null==i?W1(t,n,h):Ao(t,n,h,i||null,!0):1===e&&null!==n?Ao(t,n,h,i||null,!0):2===e?function nu(e,t,n){const r=eu(e,t);r&&function wI(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,h,u):3===e&&t.destroyNode(h),null!=a&&function vI(e,t,n,r,i){const a=n[qr];a!==Ct(n)&&vs(t,e,r,a,i);for(let h=ln;h<n.length;h++){const p=n[h];Ka(p[K],p,e,t,r,a)}}(t,e,a,n,i)}}function Kc(e,t,n){return e.createElement(t,n)}function z1(e,t){const n=e[as],r=n.indexOf(t);B0(t),n.splice(r,1)}function Jc(e,t){if(e.length<=ln)return;const n=ln+t,r=e[n];if(r){const i=r[La];null!==i&&i!==e&&z1(i,r),t>0&&(e[n-1][Mr]=r[Mr]);const a=jc(e,ln+t);!function dI(e,t){Ka(e,t,t[De],2,null,null),t[Nt]=null,t[yn]=null}(r[K],r);const u=a[Yr];null!==u&&u.detachView(a[K]),r[At]=null,r[Mr]=null,r[be]&=-129}return r}function Uf(e,t){if(!(256&t[be])){const n=t[De];t[ka]&&D0(t[ka]),t[Ba]&&D0(t[Ba]),n.destroyNode&&Ka(e,t,n,3,null,null),function gI(e){let t=e[Pa];if(!t)return jf(e[K],e);for(;t;){let n=null;if(Hn(t))n=t[Pa];else{const r=t[ln];r&&(n=r)}if(!n){for(;t&&!t[Mr]&&t!==e;)Hn(t)&&jf(t[K],t),t=t[At];null===t&&(t=e),Hn(t)&&jf(t[K],t),n=t&&t[Mr]}t=n}}(t)}}function jf(e,t){if(!(256&t[be])){t[be]&=-129,t[be]|=256,function CI(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Ha)){const a=n[r+1];if(Array.isArray(a))for(let u=0;u<a.length;u+=2){const h=i[a[u]],p=a[u+1];Xr(4,h,p);try{p.call(h)}finally{Xr(5,h,p)}}else{Xr(4,i,a);try{a.call(i)}finally{Xr(5,i,a)}}}}}(e,t),function yI(e,t){const n=e.cleanup,r=t[rs];if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const u=n[a+3];u>=0?r[u]():r[-u].unsubscribe(),a+=2}else n[a].call(r[n[a+1]]);null!==r&&(t[rs]=null);const i=t[$i];if(null!==i){t[$i]=null;for(let a=0;a<i.length;a++)(0,i[a])()}}(e,t),1===t[K].type&&t[De].destroy();const n=t[La];if(null!==n&&Mn(t[At])){n!==t[At]&&z1(n,t);const r=t[Yr];null!==r&&r.detachView(e)}!function tI(e){Pf.delete(e[Fa])}(t)}}function Hf(e,t,n){return function G1(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Nt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=e.data[r.directiveStart+i];if(a===gn.None||a===gn.Emulated)return null}return zn(r,n)}}(e,t.parent,n)}function Ao(e,t,n,r,i){e.insertBefore(t,n,r,i)}function W1(e,t,n){e.appendChild(t,n)}function $1(e,t,n,r,i){null!==r?Ao(e,t,n,r,i):W1(e,t,n)}function eu(e,t){return e.parentNode(t)}let zf,Yf,iu,X1=function q1(e,t,n){return 40&e.type?zn(e,n):null};function tu(e,t,n,r){const i=Hf(e,r,t),a=t[De],h=function Y1(e,t,n){return X1(e,t,n)}(r.parent||t[yn],r,t);if(null!=i)if(Array.isArray(n))for(let p=0;p<n.length;p++)$1(a,i,n[p],h,!1);else $1(a,i,n,h,!1);void 0!==zf&&zf(a,r,t,n,i)}function Qa(e,t){if(null!==t){const n=t.type;if(3&n)return zn(t,e);if(4&n)return Gf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Qa(e,r);{const i=e[t.index];return Mn(i)?Gf(-1,i):Ct(i)}}if(32&n)return Bf(t,e)()||Ct(e[t.index]);{const r=Q1(e,t);return null!==r?Array.isArray(r)?r[0]:Qa(Za(e[Ft]),r):Qa(e,t.next)}}return null}function Q1(e,t){return null!==t?e[Ft][yn].projection[t.projection]:null}function Gf(e,t){const n=ln+e+1;if(n<t.length){const r=t[n],i=r[K].firstChild;if(null!==i)return Qa(r,i)}return t[qr]}function Wf(e,t,n,r,i,a,u){for(;null!=n;){const h=r[n.index],p=n.type;if(u&&0===t&&(h&&Cn(Ct(h),r),n.flags|=2),32!=(32&n.flags))if(8&p)Wf(e,t,n.child,r,i,a,!1),vs(t,e,i,h,a);else if(32&p){const m=Bf(n,r);let x;for(;x=m();)vs(t,e,i,x,a);vs(t,e,i,h,a)}else 16&p?J1(e,t,r,n,i,a):vs(t,e,i,h,a);n=u?n.projectionNext:n.next}}function Ka(e,t,n,r,i,a){Wf(n,r,e.firstChild,t,i,a,!1)}function J1(e,t,n,r,i,a){const u=n[Ft],p=u[yn].projection[r.projection];if(Array.isArray(p))for(let m=0;m<p.length;m++)vs(t,e,i,p[m],a);else{let m=p;const x=u[At];Xc(r)&&(m.flags|=128),Wf(e,t,m,x,i,a,!0)}}function em(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function tm(e,t,n){const{mergedAttrs:r,classes:i,styles:a}=n;null!==r&&E(e,t,r),null!==i&&em(e,t,i),null!==a&&function AI(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}function im(e){return function qf(){if(void 0===iu&&(iu=null,nt.trustedTypes))try{iu=nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return iu}()?.createScriptURL(e)||e}class om{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cc})`}}function Qi(e){return e instanceof om?e.changingThisBreaksApplicationSecurity:e}function Ja(e,t){const n=function PI(e){return e instanceof om&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Cc})`)}return n===t}const BI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Is=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Is||{});function fm(e){const t=tl();return t?t.sanitize(Is.URL,e)||"":Ja(e,"URL")?Qi(e):function Xf(e){return(e=String(e)).match(BI)?e:"unsafe:"+e}(ye(e))}function hm(e){const t=tl();if(t)return im(t.sanitize(Is.RESOURCE_URL,e)||"");if(Ja(e,"ResourceURL"))return im(Qi(e));throw new W(904,!1)}function tl(){const e=H();return e&&e[is].sanitizer}const nl=new te("ENVIRONMENT_INITIALIZER"),pm=new te("INJECTOR",-1),mm=new te("INJECTOR_DEF_TYPES");class Jf{get(t,n=Fi){if(n===Fi){const r=new Error(`NullInjectorError: No provider for ${ke(t)}!`);throw r.name="NullInjectorError",r}return n}}function QI(...e){return{\u0275providers:Cm(0,e),\u0275fromNgModule:!0}}function Cm(e,...t){const n=[],r=new Set;let i;const a=u=>{n.push(u)};return Cs(t,u=>{const h=u;su(h,a,[],r)&&(i||=[],i.push(h))}),void 0!==i&&wm(i,a),n}function wm(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];eh(i,a=>{t(a,r)})}}function su(e,t,n,r){if(!(e=le(e)))return!1;let i=null,a=Ko(e);const u=!a&&ze(e);if(a||u){if(u&&!u.standalone)return!1;i=e}else{const p=e.ngModule;if(a=Ko(p),!a)return!1;i=p}const h=r.has(i);if(u){if(h)return!1;if(r.add(i),u.dependencies){const p="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const m of p)su(m,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!h){let m;r.add(i);try{Cs(a.imports,x=>{su(x,t,n,r)&&(m||=[],m.push(x))})}finally{}void 0!==m&&wm(m,t)}if(!h){const m=Eo(i)||(()=>new i);t({provide:i,useFactory:m,deps:o},i),t({provide:mm,useValue:i,multi:!0},i),t({provide:nl,useValue:()=>pe(i),multi:!0},i)}const p=a.providers;if(null!=p&&!h){const m=e;eh(p,x=>{t(x,m)})}}}return i!==e&&void 0!==e.providers}function eh(e,t){for(let n of e)Yo(n)&&(n=n.\u0275providers),Array.isArray(n)?eh(n,t):t(n)}const KI=_({provide:String,useValue:_});function th(e){return null!==e&&"object"==typeof e&&KI in e}function Io(e){return"function"==typeof e}const nh=new te("Set Injector scope."),au={},e_={};let rh;function lu(){return void 0===rh&&(rh=new Jf),rh}class Cr{}class _s extends Cr{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oh(t,u=>this.processProvider(u)),this.records.set(pm,bs(void 0,this)),i.has("environment")&&this.records.set(Cr,bs(void 0,this));const a=this.records.get(nh);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(mm.multi,o,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Qn(this),r=hn(void 0);try{return t()}finally{Qn(n),hn(r)}}get(t,n=Fi,r=Ne.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(y))return t[y](this);r=Ui(r);const a=Qn(this),u=hn(void 0);try{if(!(r&Ne.SkipSelf)){let p=this.records.get(t);if(void 0===p){const m=function o_(e){return"function"==typeof e||"object"==typeof e&&e instanceof te}(t)&&Ke(t);p=m&&this.injectableDefInScope(m)?bs(ih(t),au):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&Ne.Self?lu():this.parent).get(t,n=r&Ne.Optional&&n===Fi?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[ts]=h[ts]||[]).unshift(ke(t)),a)throw h;return function ef(e,t,n,r){const i=e[ts];throw t[Bi]&&i.unshift(t[Bi]),e.message=function Oa(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ke(t);if(Array.isArray(t))i=t.map(ke).join(" -> ");else if("object"==typeof t){let a=[];for(let u in t)if(t.hasOwnProperty(u)){let h=t[u];a.push(u+":"+("string"==typeof h?JSON.stringify(h):ke(h)))}i=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Ta,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ts]=null,e}(h,t,"R3InjectorError",this.source)}throw h}finally{hn(u),Qn(a)}}resolveInjectorInitializers(){const t=Qn(this),n=hn(void 0);try{const i=this.get(nl.multi,o,Ne.Self);for(const a of i)a()}finally{Qn(t),hn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ke(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(t){let n=Io(t=le(t))?t:le(t&&t.provide);const r=function n_(e){return th(e)?bs(void 0,e.useValue):bs(vm(e),au)}(t);if(Io(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=bs(void 0,au,!0),i.factory=()=>Na(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===au&&(n.value=e_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function i_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=le(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ih(e){const t=Ke(e),n=null!==t?t.factory:Eo(e);if(null!==n)return n;if(e instanceof te)throw new W(204,!1);if(e instanceof Function)return function t_(e){const t=e.length;if(t>0)throw function Ya(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new W(204,!1);const n=function Gr(e){return e&&(e[F]||e[Ht])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new W(204,!1)}function vm(e,t,n){let r;if(Io(e)){const i=le(e);return Eo(i)||ih(i)}if(th(e))r=()=>le(e.useValue);else if(function Em(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Na(e.deps||[]));else if(function xm(e){return!(!e||!e.useExisting)}(e))r=()=>pe(le(e.useExisting));else{const i=le(e&&(e.useClass||e.provide));if(!function r_(e){return!!e.deps}(e))return Eo(i)||ih(i);r=()=>new i(...Na(e.deps))}return r}function bs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function oh(e,t){for(const n of e)Array.isArray(n)?oh(n,t):n&&Yo(n)?oh(n.\u0275providers,t):t(n)}const cu=new te("AppId",{providedIn:"root",factory:()=>s_}),s_="ng",Dm=new te("Platform Initializer"),Ss=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Am=new te("CSP nonce",{providedIn:"root",factory:()=>function As(){if(void 0!==Yf)return Yf;if(typeof document<"u")return document;throw new W(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Im=(e,t,n)=>null;function hh(e,t,n=!1){return Im(e,t,n)}class m_{}class Sm{}class C_{resolveComponentFactory(t){throw function y_(e){const t=Error(`No component factory found for ${ke(e)}.`);return t.ngComponent=e,t}(t)}}let pu=(()=>{class e{static#e=this.NULL=new C_}return e})();function w_(){return Ns(un(),H())}function Ns(e,t){return new rr(zn(e,t))}let rr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=w_}return e})();class Tm{}let yi=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function E_(){const e=H(),n=tr(un().index,e);return(Hn(n)?n:e)[De]}()}return e})(),v_=(()=>{class e{static#e=this.\u0275prov=ge({token:e,providedIn:"root",factory:()=>null})}return e})();class ol{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const D_=new ol("16.2.12"),mh={};function Pm(e,t=null,n=null,r){const i=Lm(e,t,n,r);return i.resolveInjectorInitializers(),i}function Lm(e,t=null,n=null,r,i=new Set){const a=[n||o,QI(e)];return r=r||("object"==typeof e?void 0:ke(e)),new _s(a,t||lu(),r||null,i)}let ir=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Fi;static#t=this.NULL=new Jf;static create(n,r){if(Array.isArray(n))return Pm({name:""},r,n,"");{const i=n.name??"";return Pm({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=ge({token:e,providedIn:"any",factory:()=>pe(pm)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Ch(e){return e.ngOriginalError}class Ci{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ch(t);for(;n&&Ch(n);)n=Ch(n);return n||null}}function xh(e){return t=>{setTimeout(e,void 0,t)}}const Ot=class T_ extends pt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,a=n||(()=>null),u=r;if(t&&"object"==typeof t){const p=t;i=p.next?.bind(p),a=p.error?.bind(p),u=p.complete?.bind(p)}this.__isAsync&&(a=xh(a),i&&(i=xh(i)),u&&(u=xh(u)));const h=super.subscribe({next:i,error:a,complete:u});return t instanceof vn&&t.add(h),h}};function km(...e){}class wt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ot(!1),this.onMicrotaskEmpty=new Ot(!1),this.onStable=new Ot(!1),this.onError=new Ot(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function N_(){const e="function"==typeof nt.requestAnimationFrame;let t=nt[e?"requestAnimationFrame":"setTimeout"],n=nt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function P_(e){const t=()=>{!function R_(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(nt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,vh(e),e.isCheckStableRunning=!0,Eh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),vh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,a,u,h)=>{if(function F_(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(h))return n.invokeTask(i,a,u,h);try{return Bm(e),n.invokeTask(i,a,u,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Vm(e)}},onInvoke:(n,r,i,a,u,h,p)=>{try{return Bm(e),n.invoke(i,a,u,h,p)}finally{e.shouldCoalesceRunChangeDetection&&t(),Vm(e)}},onHasTask:(n,r,i,a)=>{n.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,vh(e),Eh(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,i,a)=>(n.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wt.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(wt.isInAngularZone())throw new W(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const a=this._inner,u=a.scheduleEventTask("NgZoneEvent: "+i,t,O_,km,km);try{return a.runTask(u,n,r)}finally{a.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const O_={};function Eh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Bm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vm(e){e._nesting--,Eh(e)}class L_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ot,this.onMicrotaskEmpty=new Ot,this.onStable=new Ot,this.onError=new Ot}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const Um=new te("",{providedIn:"root",factory:jm});function jm(){const e=ne(wt);let t=!0;return function Gd(...e){const t=yo(e),n=function Dt(e,t){return"number"==typeof mo(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Ut(r[0]):Pi(n)(mt(r,t)):hr}(new st(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new st(i=>{let a;e.runOutsideAngular(()=>{a=e.onStable.subscribe(()=>{wt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const u=e.onUnstable.subscribe(()=>{wt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{a.unsubscribe(),u.unsubscribe()}}).pipe(yc()))}function wi(e){return e instanceof Function?e():e}let Dh=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ge({token:e,providedIn:"root",factory:()=>new e})}return e})();function sl(e){for(;e;){e[be]|=64;const t=Za(e);if(sf(e)&&!t)return e;e=t}return null}const $m=new te("",{providedIn:"root",factory:()=>!1});let yu=null;function Zm(e,t){return e[t]??Jm()}function Qm(e,t){const n=Jm();n.producerNode?.length&&(e[t]=yu,n.lView=e,yu=Km())}const $_={...y0,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{sl(e.lView)},lView:null};function Km(){return Object.create($_)}function Jm(){return yu??=Km(),yu}const Ie={};function _o(e){ey(Ge(),H(),Nn()+e,!1)}function ey(e,t,n,r){if(!r)if(3==(3&t[be])){const a=e.preOrderCheckHooks;null!==a&&Pc(t,a,n)}else{const a=e.preOrderHooks;null!==a&&Lc(t,a,0,n)}vo(n)}function Y(e,t=Ne.Default){const n=H();return null===n?pe(e,t):f1(un(),n,le(e),t)}function Cu(e,t,n,r,i,a,u,h,p,m,x){const v=t.blueprint.slice();return v[Nt]=i,v[be]=140|r,(null!==m||e&&2048&e[be])&&(v[be]|=2048),k0(v),v[At]=v[os]=e,v[Lt]=n,v[is]=u||e&&e[is],v[De]=h||e&&e[De],v[Wi]=p||e&&e[Wi]||null,v[yn]=a,v[Fa]=function JA(){return KA++}(),v[hi]=x,v[h0]=m,v[Ft]=2==t.type?e[Ft]:v,v}function Ps(e,t,n,r,i){let a=e.data[t];if(null===a)a=function Ah(e,t,n,r,i){const a=W0(),u=gf(),p=e.data[t]=function eb(e,t,n,r,i,a){let u=t?t.injectorIndex:-1,h=0;return function us(){return null!==we.skipHydrationRootTNode}()&&(h|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=p),null!==a&&(u?null==a.child&&null!==p.parent&&(a.child=p):null===a.next&&(a.next=p,p.prev=a)),p}(e,t,n,r,i),function eA(){return we.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;const u=function ja(){const e=we.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===u?-1:u.injectorIndex}return Zr(a,!0),a}function al(e,t,n,r){if(0===n)return-1;const i=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ny(e,t,n,r,i){const a=Zm(t,ka),u=Nn(),h=2&r;try{vo(-1),h&&t.length>Be&&ey(e,t,Be,!1),Xr(h?2:0,i);const m=h?a:null,x=lf(m);try{null!==m&&(m.dirty=!1),n(r,i)}finally{cf(m,x)}}finally{h&&null===t[ka]&&Qm(t,ka),vo(u),Xr(h?3:1,i)}}function Ih(e,t,n){if(rf(t)){const r=pr(null);try{const a=t.directiveEnd;for(let u=t.directiveStart;u<a;u++){const h=e.data[u];h.contentQueries&&h.contentQueries(1,n[u],u)}}finally{pr(r)}}}function _h(e,t,n){H0()&&(function ab(e,t,n,r){const i=n.directiveStart,a=n.directiveEnd;xo(n)&&function gb(e,t,n){const r=zn(t,e),i=ry(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const h=wu(e,Cu(e,i,null,u,r,t,null,e[is].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=h}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||kc(n,t),Cn(r,t);const u=n.initialInputs;for(let h=i;h<a;h++){const p=e.data[h],m=Do(t,e,h,n);Cn(m,t),null!==u&&pb(0,h-i,m,p,0,u),Tr(p)&&(tr(n.index,t)[Lt]=Do(t,e,h,n))}}(e,t,n,zn(n,t)),64==(64&n.flags)&&ly(e,t,n))}function bh(e,t,n=zn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const u=r[a+1],h=-1===u?n(t,e):e[u];e[i++]=h}}}function ry(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Sh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Sh(e,t,n,r,i,a,u,h,p,m,x){const v=Be+r,I=v+i,S=function q_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ie);return n}(v,I),N="function"==typeof m?m():m;return S[K]={type:e,blueprint:S,template:n,queries:null,viewQuery:h,declTNode:t,data:S.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:p,consts:N,incompleteFirstPass:!1,ssrId:x}}let iy=e=>null;function oy(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const a=e[i];null===r?sy(n,t,i,a):r.hasOwnProperty(i)&&sy(n,t,r[i],a)}return n}function sy(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Mh(e,t,n,r){if(H0()){const i=null===r?null:{"":-1},a=function cb(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let a=0;a<n.length;a++){const u=n[a];if(ve(t,u.selectors,!1))if(r||(r=[]),Tr(u))if(null!==u.findHostDirectiveDefs){const h=[];i=i||new Map,u.findHostDirectiveDefs(u,h,i),r.unshift(...h,u),Th(e,t,h.length)}else r.unshift(u),Th(e,t,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(e,n);let u,h;null===a?u=h=null:[u,h]=a,null!==u&&ay(e,t,n,u,i,h),i&&function ub(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=n[t[i+1]];if(null==a)throw new W(-301,!1);r.push(t[i],a)}}}(n,r,i)}n.mergedAttrs=b(n.mergedAttrs,n.attrs)}function ay(e,t,n,r,i,a){for(let m=0;m<r.length;m++)_f(kc(n,t),e,r[m].type);!function fb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let m=0;m<r.length;m++){const x=r[m];x.providersResolver&&x.providersResolver(x)}let u=!1,h=!1,p=al(e,t,r.length,null);for(let m=0;m<r.length;m++){const x=r[m];n.mergedAttrs=b(n.mergedAttrs,x.hostAttrs),hb(e,n,t,p,x),db(p,x,i),null!==x.contentQueries&&(n.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(n.flags|=64);const v=x.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!h&&(v.ngOnChanges||v.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}!function tb(e,t,n){const i=t.directiveEnd,a=e.data,u=t.attrs,h=[];let p=null,m=null;for(let x=t.directiveStart;x<i;x++){const v=a[x],I=n?n.get(v):null,N=I?I.outputs:null;p=oy(v.inputs,x,p,I?I.inputs:null),m=oy(v.outputs,x,m,N);const P=null===p||null===u||L(t)?null:mb(p,x,u);h.push(P)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=8),p.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=p,t.outputs=m}(e,n,a)}function ly(e,t,n){const r=n.directiveStart,i=n.directiveEnd,a=n.index,u=function nA(){return we.lFrame.currentDirectiveIndex}();try{vo(a);for(let h=r;h<i;h++){const p=e.data[h],m=t[h];mf(h),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&lb(p,m)}}finally{vo(-1),mf(u)}}function lb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Th(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function db(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Tr(t)&&(n[""]=e)}}function hb(e,t,n,r,i){e.data[r]=i;const a=i.factory||(i.factory=Eo(i.type)),u=new Ha(a,Tr(i),Y);e.blueprint[r]=u,n[r]=u,function ob(e,t,n,r,i){const a=i.hostBindings;if(a){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const h=~t.index;(function sb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=h&&u.push(h),u.push(n,r,a)}}(e,t,r,al(e,n,i.hostVars,Ie),i)}function Kr(e,t,n,r,i,a){const u=zn(e,t);!function Nh(e,t,n,r,i,a,u){if(null==a)e.removeAttribute(t,i,n);else{const h=null==u?ye(a):u(a,r||"",i);e.setAttribute(t,i,h,n)}}(t[De],u,a,e.value,n,r,i)}function pb(e,t,n,r,i,a){const u=a[t];if(null!==u)for(let h=0;h<u.length;)cy(r,n,u[h++],u[h++],u[h++])}function cy(e,t,n,r,i){const a=pr(null);try{const u=e.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(i=u[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{pr(a)}}function mb(e,t,n){let r=null,i=0;for(;i<n.length;){const a=n[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const u=e[a];for(let h=0;h<u.length;h+=2)if(u[h]===t){r.push(a,u[h+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function uy(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function dy(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const u=e.data[a];Cf(n[r]),u.contentQueries(2,t[a],a)}}}function wu(e,t){return e[Pa]?e[f0][Mr]=t:e[Pa]=t,e[f0]=t,t}function Oh(e,t,n){Cf(0);const r=pr(null);try{t(e,n)}finally{pr(r)}}function py(e,t){const n=e[Wi],r=n?n.get(Ci,null):null;r&&r.handleError(t)}function Rh(e,t,n,r,i){for(let a=0;a<n.length;){const u=n[a++],h=n[a++];cy(e.data[u],t[u],r,h,i)}}function yb(e,t){const n=tr(t,e),r=n[K];!function Cb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Nt];null!==i&&null===n[hi]&&(n[hi]=hh(i,n[Wi])),Ph(r,n,n[Lt])}function Ph(e,t,n){wf(t);try{const r=e.viewQuery;null!==r&&Oh(1,r,n);const i=e.template;null!==i&&ny(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&dy(e,t),e.staticViewQueries&&Oh(2,e.viewQuery,n);const a=e.components;null!==a&&function wb(e,t){for(let n=0;n<t.length;n++)yb(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[be]&=-5,xf()}}let my=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const a=typeof Zone>"u"?null:Zone.current,u=function OD(e,t,n){const r=Object.create(RD);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=u=>{r.cleanupFn=u};return r.ref={notify:()=>E0(r),run:()=>{if(r.dirty=!1,r.hasRun&&!v0(r))return;r.hasRun=!0;const u=lf(r);try{r.cleanupFn(),r.cleanupFn=T0,r.fn(i)}finally{cf(r,u)}},cleanup:()=>r.cleanupFn()},r.ref}(n,m=>{this.all.has(m)&&this.queue.set(m,a)},i);let h;this.all.add(u),u.notify();const p=()=>{u.cleanup(),h?.(),this.all.delete(u),this.queue.delete(u)};return h=r?.onDestroy(p),{destroy:p}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ge({token:e,providedIn:"root",factory:()=>new e})}return e})();function xu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?a=h:1==a?i=fn(i,h):2==a&&(r=fn(r,h+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function ll(e,t,n,r,i=!1){for(;null!==n;){const a=t[n.index];null!==a&&r.push(Ct(a)),Mn(a)&&yy(a,r);const u=n.type;if(8&u)ll(e,t,n.child,r);else if(32&u){const h=Bf(n,t);let p;for(;p=h();)r.push(p)}else if(16&u){const h=Q1(t,n);if(Array.isArray(h))r.push(...h);else{const p=Za(t[Ft]);ll(p[K],p,h,r,!0)}}n=i?n.projectionNext:n.next}return r}function yy(e,t){for(let n=ln;n<e.length;n++){const r=e[n],i=r[K].firstChild;null!==i&&ll(r[K],r,i,t)}e[qr]!==e[Nt]&&t.push(e[qr])}function Eu(e,t,n,r=!0){const i=t[is],a=i.rendererFactory,u=i.afterRenderEventManager;a.begin?.(),u?.begin();try{Cy(e,t,e.template,n)}catch(p){throw r&&py(t,p),p}finally{a.end?.(),i.effectManager?.flush(),u?.end()}}function Cy(e,t,n,r){const i=t[be];if(256!=(256&i)){t[is].effectManager?.flush(),wf(t);try{k0(t),function Y0(e){return we.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ny(e,t,n,2,r);const u=3==(3&i);if(u){const m=e.preOrderCheckHooks;null!==m&&Pc(t,m,null)}else{const m=e.preOrderHooks;null!==m&&Lc(t,m,0,null),Ef(t,0)}if(function vb(e){for(let t=V1(e);null!==t;t=U1(t)){if(!t[g0])continue;const n=t[as];for(let r=0;r<n.length;r++){zD(n[r])}}}(t),wy(t,2),null!==e.contentQueries&&dy(e,t),u){const m=e.contentCheckHooks;null!==m&&Pc(t,m)}else{const m=e.contentHooks;null!==m&&Lc(t,m,1),Ef(t,1)}!function Y_(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Zm(t,Ba);try{for(let i=0;i<n.length;i++){const a=n[i];if(a<0)vo(~a);else{const u=a,h=n[++i],p=n[++i];tA(h,u),r.dirty=!1;const m=lf(r);try{p(2,t[u])}finally{cf(r,m)}}}}finally{null===t[Ba]&&Qm(t,Ba),vo(-1)}}(e,t);const h=e.components;null!==h&&Ey(t,h,0);const p=e.viewQuery;if(null!==p&&Oh(2,p,r),u){const m=e.viewCheckHooks;null!==m&&Pc(t,m)}else{const m=e.viewHooks;null!==m&&Lc(t,m,2),Ef(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[be]&=-73,B0(t)}finally{xf()}}}function wy(e,t){for(let n=V1(e);null!==n;n=U1(n))for(let r=ln;r<n.length;r++)xy(n[r],t)}function Db(e,t,n){xy(tr(t,e),n)}function xy(e,t){if(!function jD(e){return 128==(128&e[be])}(e))return;const n=e[K],r=e[be];if(80&r&&0===t||1024&r||2===t)Cy(n,e,n.template,e[Lt]);else if(e[Ra]>0){wy(e,1);const i=n.components;null!==i&&Ey(e,i,1)}}function Ey(e,t,n){for(let r=0;r<t.length;r++)Db(e,t[r],n)}class cl{get rootNodes(){const t=this._lView,n=t[K];return ll(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lt]}set context(t){this._lView[Lt]=t}get destroyed(){return 256==(256&this._lView[be])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[At];if(Mn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Jc(t,r),jc(n,r))}this._attachedToViewContainer=!1}Uf(this._lView[K],this._lView)}onDestroy(t){!function U0(e,t){if(256==(256&e[be]))throw new W(911,!1);null===e[$i]&&(e[$i]=[]),e[$i].push(t)}(this._lView,t)}markForCheck(){sl(this._cdRefInjectingView||this._lView)}detach(){this._lView[be]&=-129}reattach(){this._lView[be]|=128}detectChanges(){Eu(this._lView[K],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hI(e,t){Ka(e,t,t[De],2,null,null)}(this._lView[K],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=t}}class Ab extends cl{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Eu(t[K],t,t[Lt],!1)}checkNoChanges(){}get context(){return null}}class vy extends pu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ze(t);return new ul(n,this.ngModule)}}function Dy(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class _b{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ui(r);const i=this.injector.get(t,mh,r);return i!==mh||n===mh?i:this.parentInjector.get(t,n,r)}}class ul extends Sm{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Dy(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Dy(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Hi(e){return e.map(bn).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let a=(i=i||this.ngModule)instanceof Cr?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const u=a?new _b(t,a):t,h=u.get(Tm,null);if(null===h)throw new W(407,!1);const v={rendererFactory:h,sanitizer:u.get(v_,null),effectManager:u.get(my,null),afterRenderEventManager:u.get(Dh,null)},I=h.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=r?function X_(e,t,n,r){const a=r.get($m,!1)||n===gn.ShadowDom,u=e.selectRootElement(t,a);return function Z_(e){iy(e)}(u),u}(I,r,this.componentDef.encapsulation,u):Kc(I,S,function Ib(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(S)),z=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let k=null;null!==N&&(k=hh(N,u,!0));const se=Sh(0,null,null,1,0,null,null,null,null,null,null),ce=Cu(null,se,null,z,null,null,v,I,u,null,k);let Ae,nn;wf(ce);try{const Ti=this.componentDef;let da,t0=null;Ti.findHostDirectiveDefs?(da=[],t0=new Map,Ti.findHostDirectiveDefs(Ti,da,t0),da.push(Ti)):da=[Ti];const ML=function Sb(e,t){const n=e[K],r=Be;return e[r]=t,Ps(n,r,2,"#host",null)}(ce,N),TL=function Mb(e,t,n,r,i,a,u){const h=i[K];!function Tb(e,t,n,r){for(const i of e)t.mergedAttrs=b(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(xu(t,t.mergedAttrs,!0),null!==n&&tm(r,n,t))}(r,e,t,u);let p=null;null!==t&&(p=hh(t,i[Wi]));const m=a.rendererFactory.createRenderer(t,n);let x=16;n.signals?x=4096:n.onPush&&(x=64);const v=Cu(i,ry(n),null,x,i[e.index],e,a,m,null,null,p);return h.firstCreatePass&&Th(h,e,r.length-1),wu(i,v),i[e.index]=v}(ML,N,Ti,da,ce,v,I);nn=F0(se,Be),N&&function Ob(e,t,n,r){if(r)E(e,n,["ng-version",D_.full]);else{const{attrs:i,classes:a}=function zi(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!B(i))break;i=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&E(e,n,i),a&&a.length>0&&em(e,n,a.join(" "))}}(I,Ti,N,r),void 0!==n&&function Rb(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const a=n[i];r.push(null!=a?Array.from(a):null)}}(nn,this.ngContentSelectors,n),Ae=function Nb(e,t,n,r,i,a){const u=un(),h=i[K],p=zn(u,i);ay(h,i,u,n,null,r);for(let x=0;x<n.length;x++)Cn(Do(i,h,u.directiveStart+x,u),i);ly(h,i,u),p&&Cn(p,i);const m=Do(i,h,u.directiveStart+u.componentOffset,u);if(e[Lt]=i[Lt]=m,null!==a)for(const x of a)x(m,t);return Ih(h,u,e),m}(TL,Ti,da,t0,ce,[Pb]),Ph(se,ce,null)}finally{xf()}return new bb(this.componentType,Ae,Ns(nn,ce),ce,nn)}}class bb extends m_{constructor(t,n,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ab(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const a=this._rootLView;Rh(a[K],a,i,t,n),this.previousInputValues.set(t,n),sl(tr(this._tNode.index,a))}}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Pb(){const e=un();Rc(H()[K],e)}function ut(e){let t=function Ay(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Tr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new W(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const u=e;u.inputs=vu(e.inputs),u.inputTransforms=vu(e.inputTransforms),u.declaredInputs=vu(e.declaredInputs),u.outputs=vu(e.outputs);const h=i.hostBindings;h&&Bb(e,h);const p=i.viewQuery,m=i.contentQueries;if(p&&Fb(e,p),m&&kb(e,m),ae(e.inputs,i.inputs),ae(e.declaredInputs,i.declaredInputs),ae(e.outputs,i.outputs),null!==i.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),ae(u.inputTransforms,i.inputTransforms)),Tr(i)&&i.data.animation){const x=e.data;x.animation=(x.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let u=0;u<a.length;u++){const h=a[u];h&&h.ngInherit&&h(e),h===ut&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Lb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=b(i.hostAttrs,n=b(n,i.hostAttrs))}}(r)}function vu(e){return e===w?{}:e===o?[]:e}function Fb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function kb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,a)=>{t(r,i,a),n(r,i,a)}:t}function Bb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function Sy(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function wn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ei(e,t,n,r){const i=H();return wn(i,ds(),t)&&(Ge(),Kr(bt(),i,e,t,n,r)),ei}function jh(e,t,n,r,i,a,u,h){const p=H(),m=Ge(),x=e+Be,v=m.firstCreatePass?function cS(e,t,n,r,i,a,u,h,p){const m=t.consts,x=Ps(t,e,4,u||null,qi(m,h));Mh(t,n,x,qi(m,p)),Rc(t,x);const v=x.tView=Sh(2,x,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m,null);return null!==t.queries&&(t.queries.template(t,x),v.queries=t.queries.embeddedTView(x)),x}(x,m,p,t,n,r,i,a,u):m.data[x];Zr(v,!1);const I=jy(m,p,v,e);Oc()&&tu(m,p,I,v),Cn(I,p),wu(p,p[x]=uy(I,p,I,v)),Sc(v)&&_h(m,p,v),null!=u&&bh(p,v,h)}let jy=function Hy(e,t,n,r){return Xi(!0),t[De].createComment("")};function So(e,t,n){const r=H();return wn(r,ds(),t)&&function or(e,t,n,r,i,a,u,h){const p=zn(t,n);let x,m=t.inputs;!h&&null!=m&&(x=m[r])?(Rh(e,n,x,r,i),xo(t)&&function rb(e,t){const n=tr(t,e);16&n[be]||(n[be]|=64)}(n,t.index)):3&t.type&&(r=function nb(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=u?u(i,t.value||"",r):i,a.setProperty(p,r,i))}(Ge(),bt(),r,e,t,r[De],n,!1),So}function Hh(e,t,n,r,i){const u=i?"class":"style";Rh(e,n,t.inputs[u],u,r)}function Zt(e,t,n,r){const i=H(),a=Ge(),u=Be+e,h=i[De],p=a.firstCreatePass?function gS(e,t,n,r,i,a){const u=t.consts,p=Ps(t,e,2,r,qi(u,i));return Mh(t,n,p,qi(u,a)),null!==p.attrs&&xu(p,p.attrs,!1),null!==p.mergedAttrs&&xu(p,p.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,p),p}(u,a,i,t,n,r):a.data[u],m=zy(a,i,p,h,t,e);i[u]=m;const x=Sc(p);return Zr(p,!0),tm(h,m,p),32!=(32&p.flags)&&Oc()&&tu(a,i,m,p),0===function WD(){return we.lFrame.elementDepthCount}()&&Cn(m,i),function $D(){we.lFrame.elementDepthCount++}(),x&&(_h(a,i,p),Ih(a,p,i)),null!==r&&bh(i,p),Zt}function tn(){let e=un();gf()?function pf(){we.lFrame.isParent=!1}():(e=e.parent,Zr(e,!1));const t=e;(function qD(e){return we.skipHydrationRootTNode===e})(t)&&function KD(){we.skipHydrationRootTNode=null}(),function YD(){we.lFrame.elementDepthCount--}();const n=Ge();return n.firstCreatePass&&(Rc(n,e),rf(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function dA(e){return 0!=(8&e.flags)}(t)&&Hh(n,t,H(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function fA(e){return 0!=(16&e.flags)}(t)&&Hh(n,t,H(),t.stylesWithoutHost,!1),tn}function Ei(e,t,n,r){return Zt(e,t,n,r),tn(),Ei}let zy=(e,t,n,r,i,a)=>(Xi(!0),Kc(r,i,function r1(){return we.lFrame.currentNamespace}()));function pl(e){return!!e&&"function"==typeof e.then}function Yy(e){return!!e&&"function"==typeof e.subscribe}function Rn(e,t,n,r){const i=H(),a=Ge(),u=un();return function Xy(e,t,n,r,i,a,u){const h=Sc(r),m=e.firstCreatePass&&function hy(e){return e.cleanup||(e.cleanup=[])}(e),x=t[Lt],v=function fy(e){return e[rs]||(e[rs]=[])}(t);let I=!0;if(3&r.type||u){const P=zn(r,t),V=u?u(P):P,z=v.length,k=u?ce=>u(Ct(ce[r.index])):r.index;let se=null;if(!u&&h&&(se=function xS(e,t,n,r){const i=e.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const u=i[a];if(u===n&&i[a+1]===r){const h=t[rs],p=i[a+2];return h.length>p?h[p]:null}"string"==typeof u&&(a+=2)}return null}(e,t,i,r.index)),null!==se)(se.__ngLastListenerFn__||se).__ngNextListenerFn__=a,se.__ngLastListenerFn__=a,I=!1;else{a=Qy(r,t,x,a,!1);const ce=n.listen(V,i,a);v.push(a,ce),m&&m.push(i,k,z,z+1)}}else a=Qy(r,t,x,a,!1);const S=r.outputs;let N;if(I&&null!==S&&(N=S[i])){const P=N.length;if(P)for(let V=0;V<P;V+=2){const Ae=t[N[V]][N[V+1]].subscribe(a),nn=v.length;v.push(a,Ae),m&&m.push(i,r.index,nn,-(nn+1))}}}(a,i,i[De],u,e,t,r),Rn}function Zy(e,t,n,r){try{return Xr(6,t,n),!1!==n(r)}catch(i){return py(e,i),!1}finally{Xr(7,t,n)}}function Qy(e,t,n,r,i){return function a(u){if(u===Function)return r;sl(e.componentOffset>-1?tr(e.index,t):t);let p=Zy(t,n,r,u),m=a.__ngNextListenerFn__;for(;m;)p=Zy(t,n,m,u)&&p,m=m.__ngNextListenerFn__;return i&&!1===p&&u.preventDefault(),p}}function Su(e=1){return function iA(e){return(we.lFrame.contextLView=function oA(e,t){for(;e>0;)t=t[os],e--;return t}(e,we.lFrame.contextLView))[Lt]}(e)}function Mu(e,t){return e<<17|t<<2}function Ki(e){return e>>17&32767}function $h(e){return 2|e}function Mo(e){return(131068&e)>>2}function Yh(e,t){return-131069&e|t<<2}function qh(e){return 1|e}function aC(e,t,n,r,i){const a=e[n+1],u=null===t;let h=r?Ki(a):Mo(a),p=!1;for(;0!==h&&(!1===p||u);){const x=e[h+1];MS(e[h],t)&&(p=!0,e[h+1]=r?qh(x):$h(x)),h=r?Ki(x):Mo(x)}p&&(e[n+1]=r?$h(a):qh(a))}function MS(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ws(e,t)>=0}function Tu(e,t){return function Nr(e,t,n,r){const i=H(),a=Ge(),u=function pi(e){const t=we.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);a.firstUpdatePass&&function mC(e,t,n,r){const i=e.data;if(null===i[n+1]){const a=i[Nn()],u=function pC(e,t){return t>=e.expandoStartIndex}(e,n);(function xC(e,t){return 0!=(e.flags&(t?8:16))})(a,r)&&null===t&&!u&&(t=!1),t=function BS(e,t,n,r){const i=function yf(e){const t=we.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ml(n=Xh(null,e,t,n,r),t.attrs,r),a=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==i)if(n=Xh(i,e,t,n,r),null===a){let p=function VS(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Mo(r))return e[Ki(r)]}(e,t,r);void 0!==p&&Array.isArray(p)&&(p=Xh(null,e,t,p[1],r),p=ml(p,t.attrs,r),function US(e,t,n,r){e[Ki(n?t.classBindings:t.styleBindings)]=r}(e,t,r,p))}else a=function jS(e,t,n){let r;const i=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<i;a++)r=ml(r,e[a].hostAttrs,n);return ml(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function bS(e,t,n,r,i,a){let u=a?t.classBindings:t.styleBindings,h=Ki(u),p=Mo(u);e[r]=n;let x,m=!1;if(Array.isArray(n)?(x=n[1],(null===x||ws(n,x)>0)&&(m=!0)):x=n,i)if(0!==p){const I=Ki(e[h+1]);e[r+1]=Mu(I,h),0!==I&&(e[I+1]=Yh(e[I+1],r)),e[h+1]=function IS(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=Mu(h,0),0!==h&&(e[h+1]=Yh(e[h+1],r)),h=r;else e[r+1]=Mu(p,0),0===h?h=r:e[p+1]=Yh(e[p+1],r),p=r;m&&(e[r+1]=$h(e[r+1])),aC(e,x,r,!0),aC(e,x,r,!1),function SS(e,t,n,r,i){const a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&ws(a,t)>=0&&(n[r+1]=qh(n[r+1]))}(t,x,e,r,a),u=Mu(h,p),a?t.classBindings=u:t.styleBindings=u}(i,a,t,n,u,r)}}(a,e,u,r),t!==Ie&&wn(i,u,t)&&function CC(e,t,n,r,i,a,u,h){if(!(3&t.type))return;const p=e.data,m=p[h+1],x=function _S(e){return 1==(1&e)}(m)?wC(p,t,n,i,Mo(m),u):void 0;Nu(x)||(Nu(a)||function AS(e){return 2==(2&e)}(m)&&(a=wC(p,null,n,i,h,u)),function DI(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:Zi.DashCase;null==i?e.removeStyle(n,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=Zi.Important),e.setStyle(n,r,i,a))}}(r,u,Nc(Nn(),n),i,a))}(a,a.data[Nn()],i,i[De],e,i[u+1]=function WS(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ke(Qi(e)))),e}(t,n),r,u)}(e,t,null,!0),Tu}function Xh(e,t,n,r,i){let a=null;const u=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<u&&(a=t[h],r=ml(r,a.hostAttrs,i),a!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function ml(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let a=0;a<t.length;a++){const u=t[a];"number"==typeof u?i=u:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),nr(e,u,!!n||t[++a]))}return void 0===e?null:e}function wC(e,t,n,r,i,a){const u=null===t;let h;for(;i>0;){const p=e[i],m=Array.isArray(p),x=m?p[1]:p,v=null===x;let I=n[i+1];I===Ie&&(I=v?o:void 0);let S=v?Mf(I,r):x===r?I:void 0;if(m&&!Nu(S)&&(S=Mf(p,r)),Nu(S)&&(h=S,u))return h;const N=e[i+1];i=u?Ki(N):Mo(N)}if(null!==t){let p=a?t.residualClasses:t.residualStyles;null!=p&&(h=Mf(p,r))}return h}function Nu(e){return void 0!==e}function sr(e,t=""){const n=H(),r=Ge(),i=e+Be,a=r.firstCreatePass?Ps(r,i,1,t,null):r.data[i],u=EC(r,n,a,t,e);n[i]=u,Oc()&&tu(r,n,u,a),Zr(a,!1)}let EC=(e,t,n,r,i)=>(Xi(!0),function Qc(e,t){return e.createText(t)}(t[De],r));function Ou(e,t,n){const r=H(),i=function Fs(e,t,n,r){return wn(e,ds(),n)?t+ye(n)+r:Ie}(r,e,t,n);return i!==Ie&&function xi(e,t,n){const r=Nc(t,e);!function H1(e,t,n){e.setValue(t,n)}(e[De],r,n)}(r,Nn(),i),Ou}const $s="en-US";let GC=$s;function Kh(e,t,n,r,i){if(e=le(e),Array.isArray(e))for(let a=0;a<e.length;a++)Kh(e[a],t,n,r,i);else{const a=Ge(),u=H(),h=un();let p=Io(e)?e:le(e.provide);const m=vm(e),x=1048575&h.providerIndexes,v=h.directiveStart,I=h.providerIndexes>>20;if(Io(e)||!e.multi){const S=new Ha(m,i,Y),N=eg(p,t,i?x:x+I,v);-1===N?(_f(kc(h,u),a,p),Jh(a,e,t.length),t.push(p),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),n.push(S),u.push(S)):(n[N]=S,u[N]=S)}else{const S=eg(p,t,x+I,v),N=eg(p,t,x,x+I),V=N>=0&&n[N];if(i&&!V||!i&&!(S>=0&&n[S])){_f(kc(h,u),a,p);const z=function fT(e,t,n,r,i){const a=new Ha(e,n,Y);return a.multi=[],a.index=t,a.componentProviders=0,pw(a,i,r&&!n),a}(i?dT:uT,n.length,i,r,m);!i&&V&&(n[N].providerFactory=z),Jh(a,e,t.length,0),t.push(p),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),n.push(z),u.push(z)}else Jh(a,e,S>-1?S:N,pw(n[i?N:S],m,!i&&r));!i&&r&&V&&n[N].componentProviders++}}}function Jh(e,t,n,r){const i=Io(t),a=function JI(e){return!!e.useClass}(t);if(i||a){const p=(a?le(t.useClass):t).prototype.ngOnDestroy;if(p){const m=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const x=m.indexOf(n);-1===x?m.push(n,[r,p]):m[x+1].push(r,p)}else m.push(n,p)}}}function pw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eg(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function uT(e,t,n,r){return tg(this.multi,[])}function dT(e,t,n,r){const i=this.multi;let a;if(this.providerFactory){const u=this.providerFactory.componentProviders,h=Do(n,n[K],this.providerFactory.index,r);a=h.slice(0,u),tg(i,a);for(let p=u;p<h.length;p++)a.push(h[p])}else a=[],tg(i,a);return a}function tg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function It(e,t=[]){return n=>{n.providersResolver=(r,i)=>function cT(e,t,n){const r=Ge();if(r.firstCreatePass){const i=Tr(e);Kh(n,r.data,r.blueprint,i,!0),Kh(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class No{}class mw{}class ng extends No{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vy(this);const i=er(t);this._bootstrapComponents=wi(i.bootstrap),this._r3Injector=Lm(t,n,[{provide:No,useValue:this},{provide:pu,useValue:this.componentFactoryResolver},...r],ke(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class rg extends mw{constructor(t){super(),this.moduleType=t}create(t){return new ng(this.moduleType,t,[])}}class yw extends No{constructor(t){super(),this.componentFactoryResolver=new vy(this),this.instance=null;const n=new _s([...t.providers,{provide:No,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],t.parent||lu(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ig(e,t,n=null){return new yw({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let pT=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Cm(0,n.type),i=r.length>0?ig([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ge({token:e,providedIn:"environment",factory:()=>new e(pe(Cr))})}return e})();function Cw(e){e.getStandaloneInjector=t=>t.get(pT).getOrCreateStandaloneInjector(e)}function zT(e,t,n,r=!0){const i=t[K];if(function pI(e,t,n,r){const i=ln+r,a=n.length;r>0&&(n[i-1][Mr]=t),r<a-ln?(t[Mr]=n[i],C1(n,ln+r,t)):(n.push(t),t[Mr]=null),t[At]=n;const u=t[La];null!==u&&n!==u&&function mI(e,t){const n=e[as];t[Ft]!==t[At][At][Ft]&&(e[g0]=!0),null===n?e[as]=[t]:n.push(t)}(u,t);const h=t[Yr];null!==h&&h.insertView(e),t[be]|=128}(i,t,e,n),r){const a=Gf(n,e),u=t[De],h=eu(u,e[qr]);null!==h&&function fI(e,t,n,r,i,a){r[Nt]=i,r[yn]=t,Ka(e,r,n,1,i,a)}(i,e[yn],u,t,h,a)}}Symbol;let vi=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=$T}return e})();const GT=vi,WT=class extends GT{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function HT(e,t,n,r){const i=t.tView,h=Cu(e,i,n,4096&e[be]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);h[La]=e[t.index];const m=e[Yr];return null!==m&&(h[Yr]=m.createEmbeddedView(i)),Ph(i,h,n),h}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new cl(i)}};function $T(){return function ku(e,t){return 4&e.type?new WT(t,e,Ns(e,t)):null}(un(),H())}let Rr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=KT}return e})();function KT(){return function Fw(e,t){let n;const r=t[e.index];return Mn(r)?n=r:(n=uy(r,t,null,e),t[e.index]=n,wu(t,n)),kw(n,t,e,r),new Pw(n,e,t)}(un(),H())}const JT=Rr,Pw=class extends JT{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ns(this._hostTNode,this._hostLView)}get injector(){return new On(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bc(this._hostTNode,this._hostLView);if(Df(t)){const n=Ga(t,this._hostLView),r=za(t);return new On(n[K].data[r+8],n)}return new On(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Lw(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(t,n,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const h=t.createEmbeddedViewImpl(n||{},a,null);return this.insertImpl(h,i,false),h}createComponent(t,n,r,i,a){const u=t&&!function $a(e){return"function"==typeof e}(t);let h;if(u)h=n;else{const P=n||{};h=P.index,r=P.injector,i=P.projectableNodes,a=P.environmentInjector||P.ngModuleRef}const p=u?t:new ul(ze(t)),m=r||this.parentInjector;if(!a&&null==p.ngModule){const V=(u?m:this.parentInjector).get(Cr,null);V&&(a=V)}ze(p.componentType??{});const S=p.create(m,i,null,a);return this.insertImpl(S.hostView,h,false),S}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function HD(e){return Mn(e[At])}(i)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const m=i[At],x=new Pw(m,m[yn],m[At]);x.detach(x.indexOf(t))}}const u=this._adjustIndex(n),h=this._lContainer;return zT(h,i,u,!r),t.attachToViewContainerRef(),C1(ag(h),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Lw(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Jc(this._lContainer,n);r&&(jc(ag(this._lContainer),n),Uf(r[K],r))}detach(t){const n=this._adjustIndex(t,-1),r=Jc(this._lContainer,n);return r&&null!=jc(ag(this._lContainer),n)?new cl(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Lw(e){return e[8]}function ag(e){return e[8]||(e[8]=[])}let kw=function Bw(e,t,n,r){if(e[qr])return;let i;i=8&n.type?Ct(r):function eN(e,t){const n=e[De],r=n.createComment(""),i=zn(t,e);return Ao(n,eu(n,i),r,function xI(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[qr]=i};const Cg=new te("Application Initializer");let wg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ne(Cg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const a=i();if(pl(a))n.push(a);else if(Yy(a)){const u=new Promise((h,p)=>{a.subscribe({complete:h,error:p})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cx=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Di=new te("LocaleId",{providedIn:"root",factory:()=>ne(Di,Ne.Optional|Ne.SkipSelf)||function NN(){return typeof $localize<"u"&&$localize.locale||$s}()});let ux=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new He(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class PN{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let dx=(()=>{class e{compileModuleSync(n){return new rg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=wi(er(n).declarations).reduce((u,h)=>{const p=ze(h);return p&&u.push(new ul(p)),u},[]);return new PN(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const px=new te(""),ju=new te("");let Ag,vg=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ag||(function n3(e){Ag=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(pe(wt),pe(Dg),pe(ju))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})(),Dg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ag?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ji=null;const mx=new te("AllowMultipleToken"),Ig=new te("PlatformDestroyListeners"),_g=new te("appBootstrapListener");class Cx{constructor(t,n){this.name=t,this.token=n}}function xx(e,t,n=[]){const r=`Platform: ${t}`,i=new te(r);return(a=[])=>{let u=bg();if(!u||u.injector.get(mx,!1)){const h=[...n,...a,{provide:i,useValue:!0}];e?e(h):function o3(e){if(Ji&&!Ji.get(mx,!1))throw new W(400,!1);(function yx(){!function bD(e){_0=e}(()=>{throw new W(600,!1)})})(),Ji=e;const t=e.get(vx);(function wx(e){e.get(Dm,null)?.forEach(n=>n())})(e)}(function Ex(e=[],t){return ir.create({name:t,providers:[{provide:nh,useValue:"platform"},{provide:Ig,useValue:new Set([()=>Ji=null])},...e]})}(h,r))}return function a3(e){const t=bg();if(!t)throw new W(401,!1);return t}()}}function bg(){return Ji?.get(vx)??null}let vx=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function l3(e="zone.js",t){return"noop"===e?new L_:"zone.js"===e?new wt(t):e}(r?.ngZone,function Dx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const a=function gT(e,t,n){return new ng(e,t,n)}(n.moduleType,this.injector,function Sx(e){return[{provide:wt,useFactory:e},{provide:nl,multi:!0,useFactory:()=>{const t=ne(u3,{optional:!0});return()=>t.initialize()}},{provide:bx,useFactory:c3},{provide:Um,useFactory:jm}]}(()=>i)),u=a.injector.get(Ci,null);return i.runOutsideAngular(()=>{const h=i.onError.subscribe({next:p=>{u.handleError(p)}});a.onDestroy(()=>{Hu(this._modules,a),h.unsubscribe()})}),function Ax(e,t,n){try{const r=n();return pl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,i,()=>{const h=a.injector.get(wg);return h.runInitializers(),h.donePromise.then(()=>(function WC(e){Vn(e,"Expected localeId to be defined"),"string"==typeof e&&(GC=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Di,$s)||$s),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=Ix({},r);return function r3(e,t,n){const r=new rg(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(n){const r=n.injector.get(Xs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new W(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ig,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(pe(ir))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Ix(e,t){return Array.isArray(t)?t.reduce(Ix,e):{...e,...t}}let Xs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ne(bx),this.zoneIsStable=ne(Um),this.componentTypes=[],this.components=[],this.isStable=ne(ux).hasPendingTasks.pipe(Fe(n=>n?me(!1):this.zoneIsStable),function en(e,t=gt){return e=e??R,Mt((n,r)=>{let i,a=!0;n.subscribe(Re(r,u=>{const h=t(u);(a||!e(i,h))&&(a=!1,i=h,r.next(u))}))})}(),yc()),this._injector=ne(Cr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Sm;if(!this._injector.get(wg).done)throw!i&&function ns(e){const t=ze(e)||an(e)||Sn(e);return null!==t&&t.standalone}(n),new W(405,!1);let u;u=i?n:this._injector.get(pu).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const h=function i3(e){return e.isBoundToModule}(u)?void 0:this._injector.get(No),m=u.create(ir.NULL,[],r||u.selector,h),x=m.location.nativeElement,v=m.injector.get(px,null);return v?.registerApplication(x),m.onDestroy(()=>{this.detachView(m.hostView),Hu(this.components,m),v?.unregisterApplication(x)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Hu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(_g,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bx=new te("",{providedIn:"root",factory:()=>ne(Ci).handleError.bind(void 0)});function c3(){const e=ne(wt),t=ne(Ci);return n=>e.runOutsideAngular(()=>t.handleError(n))}let u3=(()=>{class e{constructor(){this.zone=ne(wt),this.applicationRef=ne(Xs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let zu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=f3}return e})();function f3(e){return function h3(e,t,n){if(xo(e)&&!n){const r=tr(e.index,t);return new cl(r,r)}return 47&e.type?new cl(t[Ft],t):null}(un(),H(),16==(16&e))}const _3=xx(null,"core",[]);let b3=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(pe(Xs))};static#t=this.\u0275mod=$r({type:e});static#n=this.\u0275inj=Zn({})}return e})();function Zs(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Rg=null;function eo(){return Rg}class j3{}const xr=new te("DocumentToken");let Pg=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:function(){return ne(z3)},providedIn:"platform"})}return e})();const H3=new te("Location Initialized");let z3=(()=>{class e extends Pg{constructor(){super(),this._doc=ne(xr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eo().getBaseHref(this._doc)}onPopState(n){const r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Lg(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function $x(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ai(e){return e&&"?"!==e[0]?"?"+e:e}let Ro=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:function(){return ne(qx)},providedIn:"root"})}return e})();const Yx=new te("appBaseHref");let qx=(()=>{class e extends Ro{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ne(xr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,a){const u=this.prepareExternalUrl(i+Ai(a));this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,a){const u=this.prepareExternalUrl(i+Ai(a));this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(pe(Pg),pe(Yx,8))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),G3=(()=>{class e extends Ro{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Lg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,a){let u=this.prepareExternalUrl(i+Ai(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,a){let u=this.prepareExternalUrl(i+Ai(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(pe(Pg),pe(Yx,8))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})(),Fg=(()=>{class e{constructor(n){this._subject=new Ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Y3(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}($x(Xx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ai(r))}normalize(n){return e.stripTrailingSlash(function $3(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Xx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ai(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ai;static#t=this.joinWithSlash=Lg;static#n=this.stripTrailingSlash=$x;static#r=this.\u0275fac=function(r){return new(r||e)(pe(Ro))};static#i=this.\u0275prov=ge({token:e,factory:function(){return function W3(){return new Fg(pe(Ro))}()},providedIn:"root"})}return e})();function Xx(e){return e.replace(/\/index.html$/,"")}let aE=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new FO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){lE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){lE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Y(Rr),Y(vi))};static#t=this.\u0275dir=Ee({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class FO{constructor(){this.$implicit=null,this.ngIf=null}}function lE(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ke(t)}'.`)}let aR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=$r({type:e});static#n=this.\u0275inj=Zn({})}return e})();function fE(e){return"server"===e}let dR=(()=>{class e{static#e=this.\u0275prov=ge({token:e,providedIn:"root",factory:()=>new fR(pe(xr),window)})}return e})();class fR{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function hR(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class kR extends j3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jg extends kR{static makeCurrent(){!function U3(e){Rg||(Rg=e)}(new Jg)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function BR(){return Tl=Tl||document.querySelector("base"),Tl?Tl.getAttribute("href"):null}();return null==n?null:function VR(e){sd=sd||document.createElement("a"),sd.setAttribute("href",e);const t=sd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Tl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function NO(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let sd,Tl=null,jR=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();const ep=new te("EventManagerPlugins");let yE=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(a=>a.supports(n)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(pe(ep),pe(wt))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();class CE{constructor(t){this._doc=t}}const tp="ng-app-id";let wE=(()=>{class e{constructor(n,r,i,a={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fE(a),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${tp}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const a=i.get(n);return a.usage+=r,a.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,a=i?.get(r);if(a?.parentNode===n)return i.delete(r),a.removeAttribute(tp),a;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(tp,this.appId),u}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const a=this.styleRef,u=a.get(r)?.elements;u?u.push(i):a.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(pe(xr),pe(cu),pe(Am,8),pe(Ss))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();const np={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rp=/%COMP%/g,WR=new te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function EE(e,t){return t.map(n=>n.replace(rp,e))}let vE=(()=>{class e{constructor(n,r,i,a,u,h,p,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=a,this.doc=u,this.platformId=h,this.ngZone=p,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=fE(h),this.defaultRenderer=new ip(n,u,p,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gn.ShadowDom&&(r={...r,encapsulation:gn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof AE?i.applyToHost(n):i instanceof op&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const u=this.doc,h=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(r.encapsulation){case gn.Emulated:a=new AE(p,m,r,this.appId,x,u,h,v);break;case gn.ShadowDom:return new XR(p,m,n,r,u,h,this.nonce,v);default:a=new op(p,m,r,x,u,h,v)}i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(pe(yE),pe(wE),pe(cu),pe(WR),pe(xr),pe(Ss),pe(wt),pe(Am))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();class ip{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(np[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(DE(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(DE(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const a=np[i];a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=np[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Zi.DashCase|Zi.Important)?t.style.setProperty(n,r,i&Zi.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Zi.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=eo().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function DE(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class XR extends ip{constructor(t,n,r,i,a,u,h,p){super(t,a,u,p),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=EE(i.id,i.styles);for(const x of m){const v=document.createElement("style");h&&v.setAttribute("nonce",h),v.textContent=x,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class op extends ip{constructor(t,n,r,i,a,u,h,p){super(t,a,u,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=p?EE(p,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class AE extends op{constructor(t,n,r,i,a,u,h,p){const m=i+"-"+r.id;super(t,n,r,a,u,h,p,m),this.contentAttr=function $R(e){return"_ngcontent-%COMP%".replace(rp,e)}(m),this.hostAttr=function YR(e){return"_nghost-%COMP%".replace(rp,e)}(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let ZR=(()=>{class e extends CE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(pe(xr))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();const IE=["alt","control","meta","shift"],QR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let JR=(()=>{class e extends CE{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const a=e.parseEventName(r),u=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eo().onAndCancel(n,a.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),IE.forEach(m=>{const x=r.indexOf(m);x>-1&&(r.splice(x,1),u+=m+".")}),u+=a,0!=r.length||0===a.length)return null;const p={};return p.domEventName=i,p.fullKey=u,p}static matchEventFullKeyCode(n,r){let i=QR[n.key]||n.key,a="";return r.indexOf("code.")>-1&&(i=n.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),IE.forEach(u=>{u!==i&&(0,KR[u])(n)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(n,r,i){return a=>{e.matchEventFullKeyCode(a,n)&&i.runGuarded(()=>r(a))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(pe(xr))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();const bE=[{provide:Ss,useValue:"browser"},{provide:Dm,useValue:function e8(){Jg.makeCurrent()},multi:!0},{provide:xr,useFactory:function n8(){return function SI(e){Yf=e}(document),document},deps:[]}],r8=xx(_3,"browser",bE),i8=new te(""),SE=[{provide:ju,useClass:class UR{addToWindow(t){nt.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new W(5103,!1);return a},nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),nt.getAllAngularRootElements=()=>t.getAllRootElements(),nt.frameworkStabilizers||(nt.frameworkStabilizers=[]),nt.frameworkStabilizers.push(r=>{const i=nt.getAllAngularTestabilities();let a=i.length,u=!1;const h=function(p){u=u||p,a--,0==a&&r(u)};i.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?eo().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:px,useClass:vg,deps:[wt,Dg,ju]},{provide:vg,useClass:vg,deps:[wt,Dg,ju]}],ME=[{provide:nh,useValue:"root"},{provide:Ci,useFactory:function t8(){return new Ci},deps:[]},{provide:ep,useClass:ZR,multi:!0,deps:[xr,wt,Ss]},{provide:ep,useClass:JR,multi:!0,deps:[xr]},vE,wE,yE,{provide:Tm,useExisting:vE},{provide:class gR{},useClass:jR,deps:[]},[]];let o8=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:cu,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(pe(i8,12))};static#t=this.\u0275mod=$r({type:e});static#n=this.\u0275inj=Zn({providers:[...ME,...SE],imports:[aR,b3]})}return e})(),TE=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(pe(xr))};static#t=this.\u0275prov=ge({token:e,factory:function(r){let i=null;return i=r?new r:function a8(){return new TE(pe(xr))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:h8}=Array,{getPrototypeOf:g8,prototype:p8,keys:m8}=Object;function PE(e){if(1===e.length){const t=e[0];if(h8(t))return{args:t,keys:null};if(function y8(e){return e&&"object"==typeof e&&g8(e)===p8}(t)){const n=m8(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:C8}=Array;function LE(e){return We(t=>function w8(e,t){return C8(t)?e(...t):e(t)}(e,t))}function FE(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function ap(...e){const t=yo(e),n=j(e),{args:r,keys:i}=PE(e);if(0===r.length)return mt([],t);const a=new st(function x8(e,t,n=gt){return r=>{kE(t,()=>{const{length:i}=e,a=new Array(i);let u=i,h=i;for(let p=0;p<i;p++)kE(t,()=>{const m=mt(e[p],t);let x=!1;m.subscribe(Re(r,v=>{a[p]=v,x||(x=!0,h--),h||r.next(n(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>FE(i,u):gt));return n?a.pipe(LE(n)):a}function kE(e,t,n){e?fr(n,e,t):t()}const ad=fa(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function lp(...e){return function E8(){return Pi(1)}()(mt(e,yo(e)))}function BE(e){return new st(t=>{Ut(e()).subscribe(t)})}function Nl(e,t){const n=Ue(e)?e:()=>e,r=i=>i.error(n());return new st(t?i=>t.schedule(r,0,i):r)}function cp(){return Mt((e,t)=>{let n=null;e._refCount++;const r=Re(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class VE extends st{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vn;const n=this.getSubject();t.add(this.source.subscribe(Re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vn.EMPTY)}return t}refCount(){return cp()(this)}}function Ks(e){return e<=0?()=>hr:Mt((t,n)=>{let r=0;t.subscribe(Re(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function no(e,t){return Mt((n,r)=>{let i=0;n.subscribe(Re(r,a=>e.call(t,a,i++)&&r.next(a)))})}function ld(e){return Mt((t,n)=>{let r=!1;t.subscribe(Re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function UE(e=D8){return Mt((t,n)=>{let r=!1;t.subscribe(Re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function D8(){return new ad}function Po(e,t){const n=arguments.length>=2;return r=>r.pipe(e?no((i,a)=>e(i,a,r)):gt,Ks(1),n?ld(t):UE(()=>new ad))}function Ol(e,t){return Ue(t)?Yt(e,t,1):Yt(e,1)}function xn(e,t,n){const r=Ue(e)||t||n?{next:e,error:t,complete:n}:e;return r?Mt((i,a)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let h=!0;i.subscribe(Re(a,p=>{var m;null===(m=r.next)||void 0===m||m.call(r,p),a.next(p)},()=>{var p;h=!1,null===(p=r.complete)||void 0===p||p.call(r),a.complete()},p=>{var m;h=!1,null===(m=r.error)||void 0===m||m.call(r,p),a.error(p)},()=>{var p,m;h&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):gt}function Lo(e){return Mt((t,n)=>{let a,r=null,i=!1;r=t.subscribe(Re(n,void 0,void 0,u=>{a=Ut(e(u,Lo(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function up(e){return e<=0?()=>hr:Mt((t,n)=>{let r=[];t.subscribe(Re(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function dp(e){return Mt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Me="primary",Rl=Symbol("RouteTitle");class M8{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Js(e){return new M8(e)}function T8(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],h=e[a];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ri(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(i=n[a],!jE(e[i],t[i]))return!1;return!0}function jE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,a)=>r[a]===i)}return e===t}function HE(e){return e.length>0?e[e.length-1]:null}function ro(e){return function f8(e){return!!e&&(e instanceof st||Ue(e.lift)&&Ue(e.subscribe))}(e)?e:pl(e)?mt(Promise.resolve(e)):me(e)}const O8={exact:function WE(e,t,n){if(!Fo(e.segments,t.segments)||!cd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!WE(e.children[r],t.children[r],n))return!1;return!0},subset:$E},zE={exact:function R8(e,t){return ri(e,t)},subset:function P8(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>jE(e[n],t[n]))},ignored:()=>!0};function GE(e,t,n){return O8[n.paths](e.root,t.root,n.matrixParams)&&zE[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function $E(e,t,n){return YE(e,t,t.segments,n)}function YE(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Fo(i,n)||t.hasChildren()||!cd(i,n,r))}if(e.segments.length===n.length){if(!Fo(e.segments,n)||!cd(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!$E(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(Fo(e.segments,i)&&cd(e.segments,i,r)&&e.children[Me])&&YE(e.children[Me],t,a,r)}}function cd(e,t,n){return t.every((r,i)=>zE[n](e[i].parameters,r.parameters))}class ea{constructor(t=new dt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return k8.serialize(this)}}class dt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ud(this)}}class Pl{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Js(this.parameters)),this._parameterMap}toString(){return ZE(this)}}function Fo(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Ll=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:function(){return new fp},providedIn:"root"})}return e})();class fp{parse(t){const n=new q8(t);return new ea(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Fl(t.root,!0)}`,r=function U8(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${dd(n)}=${dd(i)}`).join("&"):`${dd(n)}=${dd(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function B8(e){return encodeURI(e)}(t.fragment)}`:""}`}}const k8=new fp;function ud(e){return e.segments.map(t=>ZE(t)).join("/")}function Fl(e,t){if(!e.hasChildren())return ud(e);if(t){const n=e.children[Me]?Fl(e.children[Me],!1):"",r=[];return Object.entries(e.children).forEach(([i,a])=>{i!==Me&&r.push(`${i}:${Fl(a,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function F8(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Me&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Me&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Me?[Fl(e.children[Me],!1)]:[`${i}:${Fl(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Me]?`${ud(e)}/${n[0]}`:`${ud(e)}/(${n.join("//")})`}}function qE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dd(e){return qE(e).replace(/%3B/gi,";")}function hp(e){return qE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fd(e){return decodeURIComponent(e)}function XE(e){return fd(e.replace(/\+/g,"%20"))}function ZE(e){return`${hp(e.path)}${function V8(e){return Object.keys(e).map(t=>`;${hp(t)}=${hp(e[t])}`).join("")}(e.parameters)}`}const j8=/^[^\/()?;#]+/;function gp(e){const t=e.match(j8);return t?t[0]:""}const H8=/^[^\/()?;=#]+/,G8=/^[^=?&#]+/,$8=/^[^&#]+/;class q8{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Me]=new dt(t,n)),r}parseSegment(){const t=gp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(t),new Pl(fd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function z8(e){const t=e.match(H8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gp(this.remaining);i&&(r=i,this.capture(r))}t[fd(n)]=fd(r)}parseQueryParam(t){const n=function W8(e){const t=e.match(G8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function Y8(e){const t=e.match($8);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=XE(n),a=XE(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(a)}else t[i]=a}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new W(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Me);const u=this.parseChildren();n[a]=1===Object.keys(u).length?u[Me]:new dt([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new W(4011,!1)}}function QE(e){return e.segments.length>0?new dt([],{[Me]:e}):e}function KE(e){const t={};for(const r of Object.keys(e.children)){const a=KE(e.children[r]);if(r===Me&&0===a.segments.length&&a.hasChildren())for(const[u,h]of Object.entries(a.children))t[u]=h;else(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function X8(e){if(1===e.numberOfChildren&&e.children[Me]){const t=e.children[Me];return new dt(e.segments.concat(t.segments),t.children)}return e}(new dt(e.segments,t))}function ko(e){return e instanceof ea}function JE(e){let t;const i=QE(function n(a){const u={};for(const p of a.children){const m=n(p);u[p.outlet]=m}const h=new dt(a.url,u);return a===e&&(t=h),h}(e.root));return t??i}function e2(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return pp(i,i,i,n,r);const a=function Q8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new n2(!0,0,e);let t=0,n=!1;const r=e.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Object.entries(a.outlets).forEach(([p,m])=>{h[p]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?n=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new n2(n,t,r)}(t);if(a.toRoot())return pp(i,i,new dt([],{}),n,r);const u=function K8(e,t,n){if(e.isAbsolute)return new gd(t,!0,0);if(!n)return new gd(t,!1,NaN);if(null===n.parent)return new gd(n,!0,0);const r=hd(e.commands[0])?0:1;return function J8(e,t,n){let r=e,i=t,a=n;for(;a>i;){if(a-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new gd(r,!1,i-a)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(a,i,e),h=u.processChildren?Bl(u.segmentGroup,u.index,a.commands):r2(u.segmentGroup,u.index,a.commands);return pp(i,u.segmentGroup,h,n,r)}function hd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function kl(e){return"object"==typeof e&&null!=e&&e.outlets}function pp(e,t,n,r,i){let u,a={};r&&Object.entries(r).forEach(([p,m])=>{a[p]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),u=e===t?n:t2(e,t,n);const h=QE(KE(u));return new ea(h,a,i)}function t2(e,t,n){const r={};return Object.entries(e.children).forEach(([i,a])=>{r[i]=a===t?n:t2(a,t,n)}),new dt(e.segments,r)}class n2{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&hd(r[0]))throw new W(4003,!1);const i=r.find(kl);if(i&&i!==HE(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gd{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function r2(e,t,n){if(e||(e=new dt([],{})),0===e.segments.length&&e.hasChildren())return Bl(e,t,n);const r=function t4(e,t,n){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return a;const u=e.segments[i],h=n[r];if(kl(h))break;const p=`${h}`,m=r<n.length-1?n[r+1]:null;if(i>0&&void 0===p)break;if(p&&m&&"object"==typeof m&&void 0===m.outlets){if(!o2(p,m,u))return a;r+=2}else{if(!o2(p,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new dt(e.segments.slice(0,r.pathIndex),{});return a.children[Me]=new dt(e.segments.slice(r.pathIndex),e.children),Bl(a,0,i)}return r.match&&0===i.length?new dt(e.segments,{}):r.match&&!e.hasChildren()?mp(e,t,n):r.match?Bl(e,0,i):mp(e,t,n)}function Bl(e,t,n){if(0===n.length)return new dt(e.segments,{});{const r=function e4(e){return kl(e[0])?e[0].outlets:{[Me]:e}}(n),i={};if(Object.keys(r).some(a=>a!==Me)&&e.children[Me]&&1===e.numberOfChildren&&0===e.children[Me].segments.length){const a=Bl(e.children[Me],t,n);return new dt(e.segments,a.children)}return Object.entries(r).forEach(([a,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[a]=r2(e.children[a],t,u))}),Object.entries(e.children).forEach(([a,u])=>{void 0===r[a]&&(i[a]=u)}),new dt(e.segments,i)}}function mp(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const a=n[i];if(kl(a)){const p=n4(a.outlets);return new dt(r,p)}if(0===i&&hd(n[0])){r.push(new Pl(e.segments[t].path,i2(n[0]))),i++;continue}const u=kl(a)?a.outlets[Me]:`${a}`,h=i<n.length-1?n[i+1]:null;u&&h&&hd(h)?(r.push(new Pl(u,i2(h))),i+=2):(r.push(new Pl(u,{})),i++)}return new dt(r,{})}function n4(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=mp(new dt([],{}),0,r))}),t}function i2(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function o2(e,t,n){return e==n.path&&ri(t,n.parameters)}const Vl="imperative";class ii{constructor(t,n){this.id=t,this.url=n}}class pd extends ii{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class io extends ii{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ul extends ii{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ta extends ii{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class md extends ii{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class s2 extends ii{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4 extends ii{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i4 extends ii{constructor(t,n,r,i,a){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class o4 extends ii{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s4 extends ii{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a4{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l4{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c4{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d4{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f4{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a2{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yp{}class Cp{constructor(t){this.url=t}}class h4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jl,this.attachRef=null}}let jl=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new h4,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class l2{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=wp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=wp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=xp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return xp(t,this._root).map(n=>n.value)}}function wp(e,t){if(e===t.value)return t;for(const n of t.children){const r=wp(e,n);if(r)return r}return null}function xp(e,t){if(e===t.value)return[t];for(const n of t.children){const r=xp(e,n);if(r.length)return r.unshift(t),r}return[]}class bi{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function na(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class c2 extends l2{constructor(t,n){super(t),this.snapshot=n,Ep(this,t)}toString(){return this.snapshot.toString()}}function u2(e,t){const n=function g4(e,t){const u=new yd([],{},{},"",{},Me,t,null,{});return new f2("",new bi(u,[]))}(0,t),r=new He([new Pl("",{})]),i=new He({}),a=new He({}),u=new He({}),h=new He(""),p=new ra(r,i,u,h,a,Me,t,n.root);return p.snapshot=n.root,new c2(new bi(p,[]),n)}class ra{constructor(t,n,r,i,a,u,h,p){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=u,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(We(m=>m[Rl]))??me(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(We(t=>Js(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(We(t=>Js(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function d2(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function p4(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class yd{get title(){return this.data?.[Rl]}constructor(t,n,r,i,a,u,h,p,m){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.routeConfig=p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Js(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class f2 extends l2{constructor(t,n){super(n),this.url=t,Ep(this,n)}toString(){return h2(this._root)}}function Ep(e,t){t.value._routerState=e,t.children.forEach(n=>Ep(e,n))}function h2(e){const t=e.children.length>0?` { ${e.children.map(h2).join(", ")} } `:"";return`${e.value}${t}`}function vp(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ri(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ri(t.params,n.params)||e.paramsSubject.next(n.params),function N8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ri(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),ri(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Dp(e,t){const n=ri(e.params,t.params)&&function L8(e,t){return Fo(e,t)&&e.every((n,r)=>ri(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Dp(e.parent,t.parent))}let Ap=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Me,this.activateEvents=new Ot,this.deactivateEvents=new Ot,this.attachEvents=new Ot,this.detachEvents=new Ot,this.parentContexts=ne(jl),this.location=ne(Rr),this.changeDetector=ne(zu),this.environmentInjector=ne(Cr),this.inputBinder=ne(Cd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=n;const i=this.location,u=n.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new m4(n,h,i.injector);this.activated=i.createComponent(u,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ee({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mr]})}return e})();class m4{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ra?this.route:t===jl?this.childContexts:this.parent.get(t,n)}}const Cd=new te("");let g2=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=ap([r.queryParams,r.params,r.data]).pipe(Fe(([a,u,h],p)=>(h={...a,...u,...h},0===p?me(h):Promise.resolve(h)))).subscribe(a=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const u=function V3(e){const t=ze(e);if(!t)return null;const n=new ul(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(u)for(const{templateName:h}of u.inputs)n.activatedComponentRef.setInput(h,a[h]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();function Hl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function C4(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Hl(e,r,i);return Hl(e,r)})}(e,t,n);return new bi(r,i)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Hl(e,h)),u}}const r=function w4(e){return new ra(new He(e.url),new He(e.params),new He(e.queryParams),new He(e.fragment),new He(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(a=>Hl(e,a));return new bi(r,i)}}const Ip="ngNavigationCancelingError";function p2(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ko(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=m2(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function m2(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Ip]=!0,r.cancellationCode=t,n&&(r.url=n),r}function y2(e){return e&&e[Ip]}let C2=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Gi({type:e,selectors:[["ng-component"]],standalone:!0,features:[Cw],decls:1,vars:0,template:function(r,i){1&r&&Ei(0,"router-outlet")},dependencies:[Ap],encapsulation:2})}return e})();function _p(e){const t=e.children&&e.children.map(_p),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Me&&(n.component=C2),n}function Fr(e){return e.outlet||Me}function zl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class b4{constructor(t,n,r,i,a){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),vp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=na(n);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=na(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=na(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=na(n);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new f4(a.value.snapshot))}),t.children.length&&this.forwardEvent(new u4(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(vp(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),vp(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=zl(i.snapshot);u.attachRef=null,u.route=i,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class w2{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wd{constructor(t,n){this.component=t,this.route=n}}function S4(e,t,n){const r=e._root;return Gl(r,t?t._root:null,n,[r.value])}function ia(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function Ec(e){return null!==Ke(e)}(e)?t.get(e):e:r}function Gl(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=na(t);return e.children.forEach(u=>{(function T4(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,u=t?t.value:null,h=n?n.getContext(e.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const p=function N4(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Fo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fo(e.url,t.url)||!ri(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dp(e,t)||!ri(e.queryParams,t.queryParams);default:return!Dp(e,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new w2(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Gl(e,t,a.component?h?h.children:null:n,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new wd(h.outlet.component,u))}else u&&Wl(t,h,i),i.canActivateChecks.push(new w2(r)),Gl(e,null,a.component?h?h.children:null:n,r,i)})(u,a[u.value.outlet],n,r.concat([u.value]),i),delete a[u.value.outlet]}),Object.entries(a).forEach(([u,h])=>Wl(h,n.getContext(u),i)),i}function Wl(e,t,n){const r=na(e),i=e.value;Object.entries(r).forEach(([a,u])=>{Wl(u,i.component?t?t.children.getContext(a):null:t,n)}),n.canDeactivateChecks.push(new wd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function $l(e){return"function"==typeof e}function x2(e){return e instanceof ad||"EmptyError"===e?.name}const xd=Symbol("INITIAL_VALUE");function oa(){return Fe(e=>ap(e.map(t=>t.pipe(Ks(1),function v8(...e){const t=yo(e);return Mt((n,r)=>{(t?lp(e,n,t):lp(e,n)).subscribe(r)})}(xd)))).pipe(We(t=>{for(const n of t)if(!0!==n){if(n===xd)return xd;if(!1===n||n instanceof ea)return n}return!0}),no(t=>t!==xd),Ks(1)))}function E2(e){return function Se(...e){return Ni(e)}(xn(t=>{if(ko(t))throw p2(0,t)}),We(t=>!0===t))}class Ed{constructor(t){this.segmentGroup=t||null}}class v2{constructor(t){this.urlTree=t}}function sa(e){return Nl(new Ed(e))}function D2(e){return Nl(new v2(e))}class Q4{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new W(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return me(r);if(i.numberOfChildren>1||!i.children[Me])return Nl(new W(4e3,!1));i=i.children[Me]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const a=this.createSegmentGroup(t,n.root,r,i);return new ea(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const h=a.substring(1);r[i]=n[h]}else r[i]=a}),r}createSegmentGroup(t,n,r,i){const a=this.createSegments(t,n.segments,r,i);let u={};return Object.entries(n.children).forEach(([h,p])=>{u[h]=this.createSegmentGroup(t,p,r,i)}),new dt(a,u)}createSegments(t,n,r,i){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const bp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K4(e,t,n,r,i){const a=Sp(e,t,n);return a.matched?(r=function E4(e,t){return e.providers&&!e._injector&&(e._injector=ig(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function q4(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?me(i.map(u=>{const h=ia(u,e);return ro(function k4(e){return e&&$l(e.canMatch)}(h)?h.canMatch(t,n):e.runInContext(()=>h(t,n)))})).pipe(oa(),E2()):me(!0)}(r,t,n).pipe(We(u=>!0===u?a:{...bp}))):me(a)}function Sp(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...bp}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||T8)(n,e,t);if(!i)return{...bp};const a={};Object.entries(i.posParams??{}).forEach(([h,p])=>{a[h]=p.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function A2(e,t,n,r){return n.length>0&&function t6(e,t,n){return n.some(r=>vd(e,t,r)&&Fr(r)!==Me)}(e,n,r)?{segmentGroup:new dt(t,e6(r,new dt(n,e.children))),slicedSegments:[]}:0===n.length&&function n6(e,t,n){return n.some(r=>vd(e,t,r))}(e,n,r)?{segmentGroup:new dt(e.segments,J4(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new dt(e.segments,e.children),slicedSegments:n}}function J4(e,t,n,r,i){const a={};for(const u of r)if(vd(e,n,u)&&!i[Fr(u)]){const h=new dt([],{});a[Fr(u)]=h}return{...i,...a}}function e6(e,t){const n={};n[Me]=t;for(const r of e)if(""===r.path&&Fr(r)!==Me){const i=new dt([],{});n[Fr(r)]=i}return n}function vd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class s6{constructor(t,n,r,i,a,u,h){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new Q4(this.urlSerializer,this.urlTree)}noMatchError(t){return new W(4002,!1)}recognize(){const t=A2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Me).pipe(Lo(n=>{if(n instanceof v2)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Ed?this.noMatchError(n):n}),We(n=>{const r=new yd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Me,this.rootComponentType,null,{}),i=new bi(r,n),a=new f2("",i),u=function Z8(e,t,n=null,r=null){return e2(JE(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(a._root),{state:a,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Me).pipe(Lo(r=>{throw r instanceof Ed?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=d2(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return mt(i).pipe(Ol(a=>{const u=r.children[a],h=function I4(e,t){const n=e.filter(r=>Fr(r)===t);return n.push(...e.filter(r=>Fr(r)!==t)),n}(n,a);return this.processSegmentGroup(t,h,u,a)}),function I8(e,t){return Mt(function A8(e,t,n,r,i){return(a,u)=>{let h=n,p=t,m=0;a.subscribe(Re(u,x=>{const v=m++;p=h?e(p,x,v):(h=!0,x),r&&u.next(p)},i&&(()=>{h&&u.next(p),u.complete()})))}}(e,t,arguments.length>=2,!0))}((a,u)=>(a.push(...u),a)),ld(null),function _8(e,t){const n=arguments.length>=2;return r=>r.pipe(e?no((i,a)=>e(i,a,r)):gt,up(1),n?ld(t):UE(()=>new ad))}(),Yt(a=>{if(null===a)return sa(r);const u=I2(a);return function a6(e){e.sort((t,n)=>t.value.outlet===Me?-1:n.value.outlet===Me?1:t.value.outlet.localeCompare(n.value.outlet))}(u),me(u)}))}processSegment(t,n,r,i,a,u){return mt(n).pipe(Ol(h=>this.processSegmentAgainstRoute(h._injector??t,n,h,r,i,a,u).pipe(Lo(p=>{if(p instanceof Ed)return me(null);throw p}))),Po(h=>!!h),Lo(h=>{if(x2(h))return function i6(e,t,n){return 0===t.length&&!e.children[n]}(r,i,a)?me([]):sa(r);throw h}))}processSegmentAgainstRoute(t,n,r,i,a,u,h){return function r6(e,t,n,r){return!!(Fr(e)===r||r!==Me&&vd(t,n,e))&&("**"===e.path||Sp(t,e,n).matched)}(r,i,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,a,u,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,a,u):sa(i):sa(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?D2(a):this.applyRedirects.lineralizeSegments(r,a).pipe(Yt(u=>{const h=new dt(u,{});return this.processSegment(t,n,h,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,u){const{matched:h,consumedSegments:p,remainingSegments:m,positionalParamSegments:x}=Sp(n,i,a);if(!h)return sa(n);const v=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,x);return i.redirectTo.startsWith("/")?D2(v):this.applyRedirects.lineralizeSegments(i,v).pipe(Yt(I=>this.processSegment(t,r,n,I.concat(m),u,!1)))}matchSegmentAgainstRoute(t,n,r,i,a,u){let h;if("**"===r.path){const p=i.length>0?HE(i).parameters:{};h=me({snapshot:new yd(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_2(r),Fr(r),r.component??r._loadedComponent??null,r,b2(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else h=K4(n,r,i,t).pipe(We(({matched:p,consumedSegments:m,remainingSegments:x,parameters:v})=>p?{snapshot:new yd(m,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_2(r),Fr(r),r.component??r._loadedComponent??null,r,b2(r)),consumedSegments:m,remainingSegments:x}:null));return h.pipe(Fe(p=>null===p?sa(n):this.getChildConfig(t=r._injector??t,r,i).pipe(Fe(({routes:m})=>{const x=r._loadedInjector??t,{snapshot:v,consumedSegments:I,remainingSegments:S}=p,{segmentGroup:N,slicedSegments:P}=A2(n,I,S,m);if(0===P.length&&N.hasChildren())return this.processChildren(x,m,N).pipe(We(z=>null===z?null:[new bi(v,z)]));if(0===m.length&&0===P.length)return me([new bi(v,[])]);const V=Fr(r)===a;return this.processSegment(x,m,N,P,V?Me:a,!0).pipe(We(z=>[new bi(v,z)]))}))))}getChildConfig(t,n,r){return n.children?me({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?me({routes:n._loadedRoutes,injector:n._loadedInjector}):function Y4(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?me(!0):me(i.map(u=>{const h=ia(u,e);return ro(function R4(e){return e&&$l(e.canLoad)}(h)?h.canLoad(t,n):e.runInContext(()=>h(t,n)))})).pipe(oa(),E2())}(t,n,r).pipe(Yt(i=>i?this.configLoader.loadChildren(t,n).pipe(xn(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function Z4(e){return Nl(m2(!1,3))}())):me({routes:[],injector:t})}}function l6(e){const t=e.value.routeConfig;return t&&""===t.path}function I2(e){const t=[],n=new Set;for(const r of e){if(!l6(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=I2(r.children);t.push(new bi(r.value,i))}return t.filter(r=>!n.has(r))}function _2(e){return e.data||{}}function b2(e){return e.resolve||{}}function S2(e){return"string"==typeof e.title||null===e.title}function Mp(e){return Fe(t=>{const n=e(t);return n?mt(n).pipe(We(()=>t)):me(t)})}const aa=new te("ROUTES");let Tp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ne(dx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return me(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ro(n.loadComponent()).pipe(We(M2),xn(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),dp(()=>{this.componentLoaders.delete(n)})),i=new VE(r,()=>new pt).pipe(cp());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return me({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=function p6(e,t,n,r){return ro(e.loadChildren()).pipe(We(M2),Yt(i=>i instanceof mw||Array.isArray(i)?me(i):mt(t.compileModuleAsync(i))),We(i=>{r&&r(e);let a,u,h=!1;return Array.isArray(i)?(u=i,!0):(a=i.create(n).injector,u=a.get(aa,[],{optional:!0,self:!0}).flat()),{routes:u.map(_p),injector:a}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(dp(()=>{this.childrenLoaders.delete(r)})),u=new VE(a,()=>new pt).pipe(cp());return this.childrenLoaders.set(r,u),u}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M2(e){return function m6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Dd=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pt,this.transitionAbortSubject=new pt,this.configLoader=ne(Tp),this.environmentInjector=ne(Cr),this.urlSerializer=ne(Ll),this.rootContexts=ne(jl),this.inputBindingEnabled=null!==ne(Cd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>me(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new l4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new a4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new He({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(no(a=>0!==a.id),We(a=>({...a,extractedUrl:n.urlHandlingStrategy.extract(a.rawUrl)})),Fe(a=>{this.currentTransition=a;let u=!1,h=!1;return me(a).pipe(xn(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fe(p=>{const m=p.currentBrowserUrl.toString(),x=!n.navigated||p.extractedUrl.toString()!==m||m!==p.currentUrlTree.toString();if(!x&&"reload"!==(p.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const I="";return this.events.next(new ta(p.id,this.urlSerializer.serialize(p.rawUrl),I,0)),p.resolve(null),hr}if(n.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return me(p).pipe(Fe(I=>{const S=this.transitions?.getValue();return this.events.next(new pd(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),S!==this.transitions?.getValue()?hr:Promise.resolve(I)}),function c6(e,t,n,r,i,a){return Yt(u=>function o6(e,t,n,r,i,a,u="emptyOnly"){return new s6(e,t,n,r,i,u,a).recognize()}(e,t,n,r,u.extractedUrl,i,a).pipe(We(({state:h,tree:p})=>({...u,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),xn(I=>{a.targetSnapshot=I.targetSnapshot,a.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects};const S=new s2(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(S)}));if(x&&n.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:I,extractedUrl:S,source:N,restoredState:P,extras:V}=p,z=new pd(I,this.urlSerializer.serialize(S),N,P);this.events.next(z);const k=u2(0,this.rootComponentType).snapshot;return this.currentTransition=a={...p,targetSnapshot:k,urlAfterRedirects:S,extras:{...V,skipLocationChange:!1,replaceUrl:!1}},me(a)}{const I="";return this.events.next(new ta(p.id,this.urlSerializer.serialize(p.extractedUrl),I,1)),p.resolve(null),hr}}),xn(p=>{const m=new r4(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),We(p=>(this.currentTransition=a={...p,guards:S4(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},a)),function V4(e,t){return Yt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?me({...n,guardsResult:!0}):function U4(e,t,n,r){return mt(e).pipe(Yt(i=>function $4(e,t,n,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?me(a.map(h=>{const p=zl(t)??i,m=ia(h,p);return ro(function F4(e){return e&&$l(e.canDeactivate)}(m)?m.canDeactivate(e,t,n,r):p.runInContext(()=>m(e,t,n,r))).pipe(Po())})).pipe(oa()):me(!0)}(i.component,i.route,n,t,r)),Po(i=>!0!==i,!0))}(u,r,i,e).pipe(Yt(h=>h&&function O4(e){return"boolean"==typeof e}(h)?function j4(e,t,n,r){return mt(t).pipe(Ol(i=>lp(function z4(e,t){return null!==e&&t&&t(new c4(e)),me(!0)}(i.route.parent,r),function H4(e,t){return null!==e&&t&&t(new d4(e)),me(!0)}(i.route,r),function W4(e,t,n){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function M4(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(u)).filter(u=>null!==u).map(u=>BE(()=>me(u.guards.map(p=>{const m=zl(u.node)??n,x=ia(p,m);return ro(function L4(e){return e&&$l(e.canActivateChild)}(x)?x.canActivateChild(r,e):m.runInContext(()=>x(r,e))).pipe(Po())})).pipe(oa())));return me(a).pipe(oa())}(e,i.path,n),function G4(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return me(!0);const i=r.map(a=>BE(()=>{const u=zl(t)??n,h=ia(a,u);return ro(function P4(e){return e&&$l(e.canActivate)}(h)?h.canActivate(t,e):u.runInContext(()=>h(t,e))).pipe(Po())}));return me(i).pipe(oa())}(e,i.route,n))),Po(i=>!0!==i,!0))}(r,a,e,t):me(h)),We(h=>({...n,guardsResult:h})))})}(this.environmentInjector,p=>this.events.next(p)),xn(p=>{if(a.guardsResult=p.guardsResult,ko(p.guardsResult))throw p2(0,p.guardsResult);const m=new i4(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(m)}),no(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",3),!1)),Mp(p=>{if(p.guards.canActivateChecks.length)return me(p).pipe(xn(m=>{const x=new o4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(x)}),Fe(m=>{let x=!1;return me(m).pipe(function u6(e,t){return Yt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return me(n);let a=0;return mt(i).pipe(Ol(u=>function d6(e,t,n,r){const i=e.routeConfig,a=e._resolve;return void 0!==i?.title&&!S2(i)&&(a[Rl]=i.title),function f6(e,t,n,r){const i=function h6(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return me({});const a={};return mt(i).pipe(Yt(u=>function g6(e,t,n,r){const i=zl(t)??r,a=ia(e,i);return ro(a.resolve?a.resolve(t,n):i.runInContext(()=>a(t,n)))}(e[u],t,n,r).pipe(Po(),xn(h=>{a[u]=h}))),up(1),function b8(e){return We(()=>e)}(a),Lo(u=>x2(u)?hr:Nl(u)))}(a,e,t,r).pipe(We(u=>(e._resolvedData=u,e.data=d2(e,n).resolve,i&&S2(i)&&(e.data[Rl]=i.title),null)))}(u.route,r,e,t)),xn(()=>a++),up(1),Yt(u=>a===i.length?me(n):hr))})}(n.paramsInheritanceStrategy,this.environmentInjector),xn({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(m,"",2)}}))}),xn(m=>{const x=new s4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(x)}))}),Mp(p=>{const m=x=>{const v=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(x.routeConfig).pipe(xn(I=>{x.component=I}),We(()=>{})));for(const I of x.children)v.push(...m(I));return v};return ap(m(p.targetSnapshot.root)).pipe(ld(),Ks(1))}),Mp(()=>this.afterPreactivation()),We(p=>{const m=function y4(e,t,n){const r=Hl(e,t._root,n?n._root:void 0);return new c2(r,t)}(n.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=a={...p,targetRouterState:m},a}),xn(()=>{this.events.next(new yp)}),((e,t,n,r)=>We(i=>(new b4(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Ks(1),xn({next:p=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new io(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),n.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{u=!0}}),function S8(e){return Mt((t,n)=>{Ut(e).subscribe(Re(n,()=>n.complete(),jo)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(xn(p=>{throw p}))),dp(()=>{u||h||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Lo(p=>{if(h=!0,y2(p))this.events.next(new Ul(a.id,this.urlSerializer.serialize(a.extractedUrl),p.message,p.cancellationCode)),function x4(e){return y2(e)&&ko(e.url)}(p)?this.events.next(new Cp(p.url)):a.resolve(!1);else{this.events.next(new md(a.id,this.urlSerializer.serialize(a.extractedUrl),p,a.targetSnapshot??void 0));try{a.resolve(n.errorHandler(p))}catch(m){a.reject(m)}}return hr}))}))}cancelNavigationTransition(n,r,i){const a=new Ul(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(a),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function T2(e){return e!==Vl}let N2=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Me);return r}getResolvedTitleForRoute(n){return n.data[Rl]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:function(){return ne(y6)},providedIn:"root"})}return e})(),y6=(()=>{class e extends N2{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(pe(TE))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),C6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:function(){return ne(x6)},providedIn:"root"})}return e})();class w6{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let x6=(()=>{class e extends w6{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=dn(e)))(i||e)}}();static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ad=new te("",{providedIn:"root",factory:()=>({})});let E6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:function(){return ne(v6)},providedIn:"root"})}return e})(),v6=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Yl=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Yl||{});function O2(e,t){e.events.pipe(no(n=>n instanceof io||n instanceof Ul||n instanceof md||n instanceof ta),We(n=>n instanceof io||n instanceof ta?Yl.COMPLETE:n instanceof Ul&&(0===n.code||1===n.code)?Yl.REDIRECTING:Yl.FAILED),no(n=>n!==Yl.REDIRECTING),Ks(1)).subscribe(()=>{t()})}function D6(e){throw e}function A6(e,t,n){return t.parse("/")}const I6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lr=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ne(cx),this.isNgZoneEnabled=!1,this._events=new pt,this.options=ne(Ad,{optional:!0})||{},this.pendingTasks=ne(ux),this.errorHandler=this.options.errorHandler||D6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||A6,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ne(E6),this.routeReuseStrategy=ne(C6),this.titleStrategy=ne(N2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ne(aa,{optional:!0})?.flat()??[],this.navigationTransitions=ne(Dd),this.urlSerializer=ne(Ll),this.location=ne(Fg),this.componentInputBindingEnabled=!!ne(Cd,{optional:!0}),this.eventsSubscription=new vn,this.isNgZoneEnabled=ne(wt)instanceof wt&&wt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ea,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=u2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(R2(r)&&this._events.next(r));if(r instanceof pd)T2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof ta)this.rawUrlTree=i.rawUrl;else if(r instanceof s2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const a=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(a,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof yp)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ul)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Cp){const a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||T2(i.source)};this.scheduleNavigation(a,Vl,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof md&&this.restoreHistory(i,!0),r instanceof io&&(this.navigated=!0),R2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const a={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(a.state=p)}const h=this.parseUrl(n);this.scheduleNavigation(h,r,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(_p),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:p}=r,m=p?this.currentUrlTree.fragment:u;let v,x=null;switch(h){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}null!==x&&(x=this.removeEmptyProps(x));try{v=JE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),v=this.currentUrlTree.root}return e2(v,n,x,m??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ko(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Vl,null,r)}navigate(n,r={skipLocationChange:!1}){return function b6(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new W(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...I6}:!1===r?{..._6}:r,ko(n))return GE(this.currentUrlTree,n,i);const a=this.parseUrl(n);return GE(this.currentUrlTree,a,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const a=n[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(n,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let h,p,m;u?(h=u.resolve,p=u.reject,m=u.promise):m=new Promise((v,I)=>{h=v,p=I});const x=this.pendingTasks.add();return O2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:a,resolve:h,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(v=>Promise.reject(v))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-this.browserPageId;0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function R2(e){return!(e instanceof yp||e instanceof Cp)}let Id=(()=>{class e{constructor(n,r,i,a,u,h){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=u,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new pt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=n.events.subscribe(m=>{m instanceof io&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,a,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function gm(e,t,n){return function ZI(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?hm:fm}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,n,r):i.removeAttribute(a,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||e)(Y(lr),Y(ra),function Uc(e){return function mA(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const a=n[i];if(D(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}}return null}(un(),e)}("tabindex"),Y(yi),Y(rr),Y(Ro))};static#t=this.\u0275dir=Ee({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Rn("click",function(u){return i.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&r&&ei("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Zs],skipLocationChange:["skipLocationChange","skipLocationChange",Zs],replaceUrl:["replaceUrl","replaceUrl",Zs],routerLink:"routerLink"},standalone:!0,features:[Sy,mr]})}return e})();class P2{}let T6=(()=>{class e{constructor(n,r,i,a,u){this.router=n,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(no(n=>n instanceof io),Ol(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=ig(a.providers,n,`Route: ${a.path}`));const u=a._injector??n,h=a._loadedInjector??u;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(u,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return mt(i).pipe(Pi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):me(null);const a=i.pipe(Yt(u=>null===u?me(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));return r.loadComponent&&!r._loadedComponent?mt([a,this.loader.loadComponent(r)]).pipe(Pi()):a})}static#e=this.\u0275fac=function(r){return new(r||e)(pe(lr),pe(dx),pe(Cr),pe(P2),pe(Tp))};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Np=new te("");let L2=(()=>{class e{constructor(n,r,i,a,u={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof io?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ta&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof a2&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new a2(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function ty(){throw new Error("invalid")}()};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();function Si(e,t){return{\u0275kind:e,\u0275providers:t}}function k2(){const e=ne(ir);return t=>{const n=e.get(Xs);if(t!==n.components[0])return;const r=e.get(lr),i=e.get(B2);1===e.get(Op)&&r.initialNavigation(),e.get(V2,null,Ne.Optional)?.setUpPreloading(),e.get(Np,null,Ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const B2=new te("",{factory:()=>new pt}),Op=new te("",{providedIn:"root",factory:()=>1}),V2=new te("");function P6(e){return Si(0,[{provide:V2,useExisting:T6},{provide:P2,useExisting:e}])}const U2=new te("ROUTER_FORROOT_GUARD"),F6=[Fg,{provide:Ll,useClass:fp},lr,jl,{provide:ra,useFactory:function F2(e){return e.routerState.root},deps:[lr]},Tp,[]];function k6(){return new Cx("Router",lr)}let j2=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[F6,[],{provide:aa,multi:!0,useValue:n},{provide:U2,useFactory:j6,deps:[[lr,new zc,new Gc]]},{provide:Ad,useValue:r||{}},r?.useHash?{provide:Ro,useClass:G3}:{provide:Ro,useClass:qx},{provide:Np,useFactory:()=>{const e=ne(dR),t=ne(wt),n=ne(Ad),r=ne(Dd),i=ne(Ll);return n.scrollOffset&&e.setOffset(n.scrollOffset),new L2(i,r,e,t,n)}},r?.preloadingStrategy?P6(r.preloadingStrategy).\u0275providers:[],{provide:Cx,multi:!0,useFactory:k6},r?.initialNavigation?H6(r):[],r?.bindToComponentInputs?Si(8,[g2,{provide:Cd,useExisting:g2}]).\u0275providers:[],[{provide:H2,useFactory:k2},{provide:_g,multi:!0,useExisting:H2}]]}}static forChild(n){return{ngModule:e,providers:[{provide:aa,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(pe(U2,8))};static#t=this.\u0275mod=$r({type:e});static#n=this.\u0275inj=Zn({})}return e})();function j6(e){return"guarded"}function H6(e){return["disabled"===e.initialNavigation?Si(3,[{provide:Cg,multi:!0,useFactory:()=>{const t=ne(lr);return()=>{t.setUpLocationChangeListener()}}},{provide:Op,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Si(2,[{provide:Op,useValue:0},{provide:Cg,multi:!0,deps:[ir],useFactory:t=>{const n=t.get(H3,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(lr),a=t.get(B2);O2(i,()=>{r(!0)}),t.get(Dd).afterPreactivation=()=>(r(!0),a.closed?me(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const H2=new te("");let z2=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(Y(yi),Y(rr))};static#t=this.\u0275dir=Ee({type:e})}return e})(),Bo=(()=>{class e extends z2{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=dn(e)))(i||e)}}();static#t=this.\u0275dir=Ee({type:e,features:[ut]})}return e})();const oi=new te("NgValueAccessor"),$6={provide:oi,useExisting:tt(()=>_d),multi:!0},q6=new te("CompositionEventMode");let _d=(()=>{class e extends z2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Y6(){const e=eo()?eo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Y(yi),Y(rr),Y(q6,8))};static#t=this.\u0275dir=Ee({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Rn("input",function(u){return i._handleInput(u.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(u){return i._compositionEnd(u.target.value)})},features:[It([$6]),ut]})}return e})();function oo(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function W2(e){return null!=e&&"number"==typeof e.length}const En=new te("NgValidators"),so=new te("NgAsyncValidators"),X6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ql{static min(t){return function $2(e){return t=>{if(oo(t.value)||oo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function Y2(e){return t=>{if(oo(t.value)||oo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function q2(e){return oo(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function X2(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function Z2(e){return oo(e.value)||X6.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function Q2(e){return t=>oo(t.value)||!W2(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function K2(e){return t=>W2(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function J2(e){if(!e)return bd;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(oo(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return ov(t)}static composeAsync(t){return sv(t)}}function bd(e){return null}function ev(e){return null!=e}function tv(e){return pl(e)?mt(e):e}function nv(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function rv(e,t){return t.map(n=>n(e))}function iv(e){return e.map(t=>function Z6(e){return!e.validate}(t)?t:n=>t.validate(n))}function ov(e){if(!e)return null;const t=e.filter(ev);return 0==t.length?null:function(n){return nv(rv(n,t))}}function Rp(e){return null!=e?ov(iv(e)):null}function sv(e){if(!e)return null;const t=e.filter(ev);return 0==t.length?null:function(n){return function G6(...e){const t=j(e),{args:n,keys:r}=PE(e),i=new st(a=>{const{length:u}=n;if(!u)return void a.complete();const h=new Array(u);let p=u,m=u;for(let x=0;x<u;x++){let v=!1;Ut(n[x]).subscribe(Re(a,I=>{v||(v=!0,m--),h[x]=I},()=>p--,void 0,()=>{(!p||!v)&&(m||a.next(r?FE(r,h):h),a.complete())}))}});return t?i.pipe(LE(t)):i}(rv(n,t).map(tv)).pipe(We(nv))}}function Pp(e){return null!=e?sv(iv(e)):null}function av(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function lv(e){return e._rawValidators}function cv(e){return e._rawAsyncValidators}function Lp(e){return e?Array.isArray(e)?e:[e]:[]}function Sd(e,t){return Array.isArray(e)?e.includes(t):e===t}function uv(e,t){const n=Lp(t);return Lp(e).forEach(i=>{Sd(n,i)||n.push(i)}),n}function dv(e,t){return Lp(t).filter(n=>!Sd(e,n))}class fv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class kn extends fv{get formDirective(){return null}get path(){return null}}class ao extends fv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hv{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gv=(()=>{class e extends hv{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Y(ao,2))};static#t=this.\u0275dir=Ee({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Tu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ut]})}return e})(),pv=(()=>{class e extends hv{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Y(kn,10))};static#t=this.\u0275dir=Ee({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Tu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ut]})}return e})();const Xl="VALID",Td="INVALID",la="PENDING",Zl="DISABLED";function Bp(e){return(Nd(e)?e.validators:e)||null}function Vp(e,t){return(Nd(t)?t.asyncValidators:e)||null}function Nd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function yv(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new W(1e3,"");if(!r[n])throw new W(1001,"")}function Cv(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new W(1002,"")})}class Od{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Xl}get invalid(){return this.status===Td}get pending(){return this.status==la}get disabled(){return this.status===Zl}get enabled(){return this.status!==Zl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(uv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(dv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(dv(t,this._rawAsyncValidators))}hasValidator(t){return Sd(this._rawValidators,t)}hasAsyncValidator(t){return Sd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=la,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Zl,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Xl,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xl||this.status===la)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zl:Xl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=la,this._hasOwnPendingAsyncValidator=!0;const n=tv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ot,this.statusChanges=new Ot}_calculateStatus(){return this._allControlsDisabled()?Zl:this.errors?Td:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(la)?la:this._anyControlsHaveStatus(Td)?Td:Xl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function eP(e){return Array.isArray(e)?Rp(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function tP(e){return Array.isArray(e)?Pp(e):e||null}(this._rawAsyncValidators)}}class Ql extends Od{constructor(t,n,r){super(Bp(n),Vp(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Cv(this,0,t),Object.keys(t).forEach(r=>{yv(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,a)=>{r=n(r,i,a)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class wv extends Ql{}const ca=new te("CallSetDisabledState",{providedIn:"root",factory:()=>Rd}),Rd="always";function Kl(e,t,n=Rd){Up(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function rP(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&xv(e,t)})}(e,t),function oP(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function iP(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&xv(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function nP(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Ld(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),kd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Fd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Up(e,t){const n=lv(e);null!==t.validator?e.setValidators(av(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=cv(e);null!==t.asyncValidator?e.setAsyncValidators(av(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Fd(t._rawValidators,i),Fd(t._rawAsyncValidators,i)}function kd(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=lv(e);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==t.validator);a.length!==i.length&&(n=!0,e.setValidators(a))}}if(null!==t.asyncValidator){const i=cv(e);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==t.asyncValidator);a.length!==i.length&&(n=!0,e.setAsyncValidators(a))}}}const r=()=>{};return Fd(t._rawValidators,r),Fd(t._rawAsyncValidators,r),n}function xv(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Dv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Av(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ec=class extends Od{constructor(t=null,n,r){super(Bp(n),Vp(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Av(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Dv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Dv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Av(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Mv=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ee({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const gP={provide:oi,useExisting:tt(()=>Wp),multi:!0};let Wp=(()=>{class e extends Bo{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=dn(e)))(i||e)}}();static#t=this.\u0275dir=Ee({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Rn("input",function(u){return i.onChange(u.target.value)})("blur",function(){return i.onTouched()})},features:[It([gP]),ut]})}return e})(),Tv=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=$r({type:e});static#n=this.\u0275inj=Zn({})}return e})();const $p=new te("NgModelWithFormControlWarning"),wP={provide:kn,useExisting:tt(()=>Bd)};let Bd=(()=>{class e extends kn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ot,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Kl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Ld(n.control||null,n,!1),function cP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function vv(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Ld(r||null,n),(e=>e instanceof ec)(i)&&(Kl(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function Ev(e,t){Up(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function sP(e,t){return kd(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Up(this.form,this),this._oldForm&&kd(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||e)(Y(En,10),Y(so,10),Y(ca,8))};static#t=this.\u0275dir=Ee({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Rn("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[It([wP]),ut,mr]})}return e})();const vP={provide:ao,useExisting:tt(()=>Xp)};let Xp=(()=>{class e extends ao{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new Ot,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function zp(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(a=>{a.constructor===_d?n=a:function lP(e){return Object.getPrototypeOf(e.constructor)===Bo}(a)?r=a:i=a}),i||r||n||null}(0,a)}ngOnChanges(n){this._added||this._setUpControl(),function Hp(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Pd(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||e)(Y(kn,13),Y(En,10),Y(so,10),Y(oi,10),Y($p,8))};static#n=this.\u0275dir=Ee({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[It([vP]),ut,mr]})}return e})(),kP=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=$r({type:e});static#n=this.\u0275inj=Zn({imports:[Tv]})}return e})();class $v extends Od{constructor(t,n,r){super(Bp(n),Vp(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){Cv(this,0,t),t.forEach((r,i)=>{yv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Yv(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let BP=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let a={};return Yv(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Ql(i,a)}record(n,r=null){const i=this._reduceControls(n);return new wv(i,r)}control(n,r,i){let a={};return this.useNonNullable?(Yv(r)?a=r:(a.validators=r,a.asyncValidators=i),new ec(n,{...a,nonNullable:!0})):new ec(n,r,i)}array(n,r,i){const a=n.map(u=>this._createControl(u));return new $v(a,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof ec||n instanceof Od?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),VP=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:$p,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ca,useValue:n.callSetDisabledState??Rd}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=$r({type:e});static#n=this.\u0275inj=Zn({imports:[kP]})}return e})();var re=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}(re||{}),qv=new Map([[re.QR_CODE,"QR_CODE"],[re.AZTEC,"AZTEC"],[re.CODABAR,"CODABAR"],[re.CODE_39,"CODE_39"],[re.CODE_93,"CODE_93"],[re.CODE_128,"CODE_128"],[re.DATA_MATRIX,"DATA_MATRIX"],[re.MAXICODE,"MAXICODE"],[re.ITF,"ITF"],[re.EAN_13,"EAN_13"],[re.EAN_8,"EAN_8"],[re.PDF_417,"PDF_417"],[re.RSS_14,"RSS_14"],[re.RSS_EXPANDED,"RSS_EXPANDED"],[re.UPC_A,"UPC_A"],[re.UPC_E,"UPC_E"],[re.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function jP(e){return Object.values(re).includes(e)}var Uo=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(Uo||{}),kr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Uo.SCAN_TYPE_CAMERA,Uo.SCAN_TYPE_FILE],e}(),Xv=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!qv.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,qv.get(t))},e}(),Zv=function(){function e(){}return e.createFromText=function(t){return{decodedText:t,result:{text:t}}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Qv=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(Qv||{}),Kv=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Qv.UNKWOWN_ERROR}},e}(),Jv=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||!0===n)&&console.error(t)},e.prototype.logErrors=function(t){if(0===t.length)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function si(e){return typeof e>"u"||null===e}var e,ua=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),ft=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),eD=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),tD=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if("object"!=typeof t)return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(typeof t,"."),!0),!1;for(var a=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),h=0,p=Object.keys(t);h<p.length;h++){var m=p[h];if(a.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),_t=G(834),nD=function(){function e(t,n,r){if(this.formatMap=new Map([[re.QR_CODE,_t.BarcodeFormat.QR_CODE],[re.AZTEC,_t.BarcodeFormat.AZTEC],[re.CODABAR,_t.BarcodeFormat.CODABAR],[re.CODE_39,_t.BarcodeFormat.CODE_39],[re.CODE_93,_t.BarcodeFormat.CODE_93],[re.CODE_128,_t.BarcodeFormat.CODE_128],[re.DATA_MATRIX,_t.BarcodeFormat.DATA_MATRIX],[re.MAXICODE,_t.BarcodeFormat.MAXICODE],[re.ITF,_t.BarcodeFormat.ITF],[re.EAN_13,_t.BarcodeFormat.EAN_13],[re.EAN_8,_t.BarcodeFormat.EAN_8],[re.PDF_417,_t.BarcodeFormat.PDF_417],[re.RSS_14,_t.BarcodeFormat.RSS_14],[re.RSS_EXPANDED,_t.BarcodeFormat.RSS_EXPANDED],[re.UPC_A,_t.BarcodeFormat.UPC_A],[re.UPC_E,_t.BarcodeFormat.UPC_E],[re.UPC_EAN_EXTENSION,_t.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!_t)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(_t.DecodeHintType.POSSIBLE_FORMATS,i),a.set(_t.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new _t.MultiFormatReader(this.verbose,this.hints),r=new _t.HTMLCanvasElementLuminanceSource(t),i=new _t.BinaryBitmap(new _t.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:Xv.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),rD=function(){function e(t,n,r){if(this.formatMap=new Map([[re.QR_CODE,"qr_code"],[re.AZTEC,"aztec"],[re.CODABAR,"codabar"],[re.CODE_39,"code_39"],[re.CODE_93,"code_93"],[re.CODE_128,"code_128"],[re.DATA_MATRIX,"data_matrix"],[re.ITF,"itf"],[re.EAN_13,"ean_13"],[re.EAN_8,"ean_8"],[re.PDF_417,"pdf417"],[re.UPC_A,"upc_a"],[re.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},e.prototype.decodeAsync=function(t){return function(e,t,n,r){return new(n||(n=Promise))(function(a,u){function h(x){try{m(r.next(x))}catch(v){u(v)}}function p(x){try{m(r.throw(x))}catch(v){u(v)}}function m(x){x.done?a(x.value):function i(a){return a instanceof n?a:new n(function(u){u(a)})}(x.value).then(h,p)}m((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var n,r;return function(e,t){var r,i,a,u,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(x){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){n=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(6===m[0]&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(x){m=[6,x],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,x])}}}(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(!(n=i.sent())||0===n.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(n)).rawValue,format:Xv.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var u=a[i],h=u.boundingBox.width*u.boundingBox.height;h>r&&(r=h,n=u)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),iD=function(e,t,n,r){return new(n||(n=Promise))(function(a,u){function h(x){try{m(r.next(x))}catch(v){u(v)}}function p(x){try{m(r.throw(x))}catch(v){u(v)}}function m(x){x.done?a(x.value):function i(a){return a instanceof n?a:new n(function(u){u(a)})}(x.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},oD=function(e,t){var r,i,a,u,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(x){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){n=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(6===m[0]&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(x){m=[6,x],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,x])}}},WP=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&rD.isSupported()?(this.primaryDecoder=new rD(t,r,i),this.secondaryDecoder=new nD(t,r,i)):this.primaryDecoder=new nD(t,r,i)}return e.prototype.decodeAsync=function(t){return iD(this,void 0,void 0,function(){var n;return oD(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return iD(this,void 0,void 0,function(){var n,r;return oD(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++)t+=r[n];console.log("".concat(t/this.executionResults.length," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Jp=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),Vd=function(e,t,n,r){return new(n||(n=Promise))(function(a,u){function h(x){try{m(r.next(x))}catch(v){u(v)}}function p(x){try{m(r.throw(x))}catch(v){u(v)}}function m(x){x.done?a(x.value):function i(a){return a instanceof n?a:new n(function(u){u(a)})}(x.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},Ud=function(e,t){var r,i,a,u,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(x){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){n=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(6===m[0]&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(x){m=[6,x],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,x])}}},sD=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(t){var n={};return n[this.name]=t,this.track.applyConstraints({advanced:[n]})},e.prototype.value=function(){var t=this.track.getSettings();return this.name in t?t[this.name]:null},e}(),$P=function(e){function t(n,r){return e.call(this,n,r)||this}return Jp(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};return r[this.name]=n,this.track.applyConstraints({advanced:[r]})},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities()[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(sD),YP=function(e){function t(n){return e.call(this,"zoom",n)||this}return Jp(t,e),t}($P),qP=function(e){function t(n){return e.call(this,"torch",n)||this}return Jp(t,e),t}(sD),XP=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new YP(this.track)},e.prototype.torchFeature=function(){return new qP(this.track)},e}(),ZP=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){t.callbacks.onRenderSurfaceReady(t.surface.clientWidth,t.surface.clientHeight),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Vd(this,void 0,void 0,function(){var a,u;return Ud(this,function(h){switch(h.label){case 0:return a=new e(t,n,i),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Vd(this,void 0,void 0,function(){return Ud(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var a=t.mediaStream.getVideoTracks().length,u=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new XP(this.getFirstTrackOrFail())},e}(),QP=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Vd(this,void 0,void 0,function(){return Ud(this,function(i){return[2,ZP.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Vd(this,void 0,void 0,function(){return Ud(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:t})];case 1:return[2,new e(i.sent())]}})})},e}(),aD=function(e,t,n,r){return new(n||(n=Promise))(function(a,u){function h(x){try{m(r.next(x))}catch(v){u(v)}}function p(x){try{m(r.throw(x))}catch(v){u(v)}}function m(x){x.done?a(x.value):function i(a){return a instanceof n?a:new n(function(u){u(a)})}(x.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},lD=function(e,t){var r,i,a,u,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(x){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){n=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(6===m[0]&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(x){m=[6,x],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,x])}}},KP=function(){function e(){}return e.failIfNotSupported=function(){return aD(this,void 0,void 0,function(){return lD(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return aD(this,void 0,void 0,function(){return lD(this,function(n){return[2,QP.create(t)]})})},e}(),tL=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ua.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ua.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var t=location.host.split(":")[0];return"127.0.0.1"===t||"localhost"===t},e.getCamerasFromMediaDevices=function(){return function(e,t,n,r){return new(n||(n=Promise))(function(a,u){function h(x){try{m(r.next(x))}catch(v){u(v)}}function p(x){try{m(r.throw(x))}catch(v){u(v)}}function m(x){x.done?a(x.value):function i(a){return a instanceof n?a:new n(function(u){u(a)})}(x.value).then(h,p)}m((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,n,r,i,a,u,h;return function(e,t){var r,i,a,u,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(x){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){n=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(6===m[0]&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(x){m=[6,x],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,x])}}}(this,function(p){switch(p.label){case 0:return t=function(m){for(var v=0,I=m.getVideoTracks();v<I.length;v++){var S=I[v];S.enabled=!1,S.stop(),m.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),i=[],a=0,u=r;a<u.length;a++)"videoinput"===(h=u[a]).kind&&i.push({id:h.deviceId,label:h.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){MediaStreamTrack.getSources(function(a){for(var u=[],h=0,p=a;h<p.length;h++){var m=p[h];"video"===m.kind&&u.push({id:m.id,label:m.label})}t(u)})})},e}(),Bt=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(Bt||{}),nL=function(){function e(){this.state=Bt.NOT_STARTED,this.onGoingTransactionNewState=Bt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Bt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Bt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Bt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Bt.UNKNOWN:throw"Transition from unknown is not allowed";case Bt.NOT_STARTED:this.failIfNewStateIs(t,[Bt.PAUSED])}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++)if(t===i[r])throw"Cannot transition from ".concat(this.state," to ").concat(t)},e}(),rL=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Bt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Bt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Bt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Bt.PAUSED},e}(),iL=function(){function e(){}return e.create=function(){return new rL(new nL)},e}(),oL=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oL(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(kr),sL=function(){function e(t,n){this.logger=n,this.fps=cr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=!0===t.disableFlip,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=cr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?tD.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!si(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),cD=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");var i;this.elementId=t,this.verbose=!1,"boolean"==typeof n?this.verbose=!0===n:n&&(this.verbose=!0===(i=n).verbose),this.logger=new Jv(this.verbose),this.qrcode=new WP(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=iL.create()}return e.prototype.start=function(t,n,r,i){var u,a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";u=i||(this.verbose?this.logger.log:function(){});var h=sL.create(n,this.logger);this.clearElement();var p=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,x=document.getElementById(this.elementId);x.style.position="relative",this.shouldScan=!0,this.element=x;var I=this,S=this.stateManagerProxy.startTransition(Bt.SCANNING);return new Promise(function(N,P){var V=m?h.videoConstraints:I.createVideoConstraints(t);if(!V)return S.cancel(),void P("videoConstraints should be defined");var z={};(!m||h.aspectRatio)&&(z.aspectRatio=h.aspectRatio);var k={onRenderSurfaceReady:function(se,ce){I.setupUi(se,ce,h),I.isScanning=!0,I.foreverScan(h,r,u)}};KP.failIfNotSupported().then(function(se){se.create(V).then(function(ce){return ce.render(a.element,z,k).then(function(Ae){I.renderedCamera=Ae,S.execute(),N(null)}).catch(function(Ae){S.cancel(),P(Ae)})}).catch(function(ce){S.cancel(),P(ua.errorGettingUserMedia(ce))})}).catch(function(se){S.cancel(),P(ua.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Bt.PAUSED),this.showPausedState(),(si(t)||!0!==t)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Bt.SCANNING),t.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){n()}):n()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Bt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),function(){if(t.element){var a=document.getElementById(cr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}}(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!(t&&t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(si(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var h=u.width,p=u.height,m=document.getElementById(r.elementId),x=m.clientWidth?m.clientWidth:cr.DEFAULT_WIDTH,v=Math.max(m.clientHeight?m.clientHeight:p,cr.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(h,p,x,v);if(n){var S=r.createCanvasElement(x,v,"qr-canvas-visible");S.style.display="inline-block",m.appendChild(S);var N=S.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=x,N.canvas.height=v,N.drawImage(u,0,0,h,p,I.x,I.y,I.width,I.height)}var P=cr.FILE_SCAN_HIDDEN_CANVAS_PADDING,V=Math.max(u.width,I.width),z=Math.max(u.height,I.height),k=V+2*P,se=z+2*P,ce=r.createCanvasElement(k,se);m.appendChild(ce);var Ae=ce.getContext("2d");if(!Ae)throw"Unable to get 2d context from canvas";Ae.canvas.width=k,Ae.canvas.height=se,Ae.drawImage(u,0,0,h,p,P,P,V,z);try{r.qrcode.decodeRobustlyAsync(ce).then(function(nn){i(Zv.createFromQrcodeResult(nn))}).catch(a)}catch(nn){a("QR code parse error, error = ".concat(nn))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return tL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(!t)throw"videoConstaints is required argument.";if(!tD.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){if(!t||"boolean"==typeof t||!t.formatsToSupport)return[re.QR_CODE,re.AZTEC,re.CODABAR,re.CODE_39,re.CODE_93,re.CODE_128,re.DATA_MATRIX,re.MAXICODE,re.ITF,re.EAN_13,re.EAN_8,re.PDF_417,re.RSS_14,re.RSS_EXPANDED,re.UPC_A,re.UPC_E,re.UPC_EAN_EXTENSION];if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===t.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var u=a[i];jP(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(si(t))return!0;if(!si(t.useBarCodeDetectorIfSupported))return!1!==t.useBarCodeDetectorIfSupported;if(si(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return!!si(n.useBarCodeDetectorIfSupported)||!1!==n.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(t,n,r){var a=r.qrbox;this.validateQrboxConfig(a);var m,u=this.toQrdimensions(t,n,a),h=function(m){if(m<cr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(cr.MIN_QR_BOX_SIZE,"px.")};h(u.width),h(u.height),u.width=((m=u.width)>t&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m)},e.prototype.validateQrboxConfig=function(t){if("number"!=typeof t&&"function"!=typeof t&&(void 0===t.width||void 0===t.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=si(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},p=u?this.getShadedRegionBounds(t,n,a):h,m=this.createCanvasElement(p.width,p.height),v=m.getContext("2d",{willReadFrequently:!0});v.canvas.width=p.width,v.canvas.height=p.height,this.element.append(m),u&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=v,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=ua.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Zv.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=ua.codeParseError(i);return n(a,Kv.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(a,this.qrRegion.x*u,this.qrRegion.y*h,this.qrRegion.width*u,this.qrRegion.height*h,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(S){S||!0===t.disableFlip?I():(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){I()}))}).catch(function(S){i.logger.logError("Error happend while scanning context",S),I()})}},e.prototype.createVideoConstraints=function(t){if("string"==typeof t)return{deviceId:{exact:t}};if("object"==typeof t){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",u=function(N){if(N in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},h=Object.keys(t);if(1!==h.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p!==n){var v=t.deviceId;if("string"==typeof v)return{deviceId:v};if("object"==typeof v){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof v)}var m=t.facingMode;if("string"==typeof m){if(u(m))return{facingMode:m}}else{if("object"!=typeof m)throw"Invalid type of 'facingMode' = ".concat(typeof m);if(!(a in m))throw"'facingMode' should be string or object with"+" ".concat(a," as key.");if(u(m["".concat(a)]))return{facingMode:{exact:m["".concat(a)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof t)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i)return{x:(r-t)/2,y:(i-n)/2,width:t,height:n};var h=t,p=n;return t>r&&(n*=r/t,t=r),n>i&&(t*=i/n,n=i),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?cr.BORDER_SHADER_MATCH_COLOR:cr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=si(r)?"qr-canvas":r,u},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(n-i.width)/2,h=(r-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(cr.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(a,40,5,-5,null,0,!0),this.insertShaderBorders(a,40,5,-5,null,0,!1),this.insertShaderBorders(a,40,5,null,-5,0,!0),this.insertShaderBorders(a,40,5,null,-5,0,!1),this.insertShaderBorders(a,5,45,-5,null,-5,!0),this.insertShaderBorders(a,5,45,null,-5,-5,!0),this.insertShaderBorders(a,5,45,-5,null,-5,!1),this.insertShaderBorders(a,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,u,h){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=cr.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),null!==i&&(p.style.top="".concat(i,"px")),null!==a&&(p.style.bottom="".concat(a,"px")),h?p.style.left="".concat(u,"px"):p.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),e0="data:image/svg+xml;base64,",aL=e0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",lL=e0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",uD=e0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",dD=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),uL=function(){function e(){this.data=dD.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=dD.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),dL=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=eD.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=eD.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),fL=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=uD,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=uD,this.infoIcon.style.opacity="0.6")},e}(),hL=function(){function e(){var t=this;this.infoDiv=new dL,this.infoIcon=new fL(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),fD=function(){function e(){}return e.hasPermissions=function(){return function(e,t,n,r){return new(n||(n=Promise))(function(a,u){function h(x){try{m(r.next(x))}catch(v){u(v)}}function p(x){try{m(r.throw(x))}catch(v){u(v)}}function m(x){x.done?a(x.value):function i(a){return a instanceof n?a:new n(function(u){u(a)})}(x.value).then(h,p)}m((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,n,r,i;return function(e,t){var r,i,a,u,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(x){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){n=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(6===m[0]&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(x){m=[6,x],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,x])}}}(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if("videoinput"===(i=r[n]).kind&&i.label)return[2,!0];return[2,!1]}})})},e}(),lo=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++)if(e.isCameraScanType(n[t]))return!0;return!1},e.isCameraScanType=function(t){return t===Uo.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Uo.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||0===t.length)return kr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=kr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var a=i[r];if(!kr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),ur=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Mi=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(ur.ALL_ELEMENT_CLASS),"button"===t&&r.setAttribute("type","button"),r},e}(),hD=function(e,t,n,r){return new(n||(n=Promise))(function(a,u){function h(x){try{m(r.next(x))}catch(v){u(v)}}function p(x){try{m(r.throw(x))}catch(v){u(v)}}function m(x){x.done?a(x.value):function i(a){return a instanceof n?a:new n(function(u){u(a)})}(x.value).then(h,p)}m((r=r.apply(e,t||[])).next())})},gD=function(e,t){var r,i,a,u,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(x){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){n=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(6===m[0]&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(x){m=[6,x],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,x])}}},pD=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return hD(this,void 0,void 0,function(){var t,n;return gD(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?ft.torchOffButton():ft.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?ft.torchOnFailedMessage():ft.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),mL=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Mi.createElement("button",ur.TORCH_BUTTON_ID),this.torchController=new pD(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=ft.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return hD(r,void 0,void 0,function(){return gD(this,function(u){switch(u.label){case 0:return[4,i.torchController.flipState()];case 1:return u.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(ur.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(ur.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(ur.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(ur.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new pD(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=ft.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var a=new e(n,i);return a.render(t,r),a},e}(),yL=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Mi.createElement("button",ur.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(h){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Mi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(h){if(null!=h&&null!=h.target){var p=h.target;if(!p.files||0!==p.files.length){var x=p.files[0];a.setImageNameToButton(x.name),r(x)}}});var u=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(u),this.fileBasedScanRegion.addEventListener("dragenter",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(h){h.stopPropagation(),h.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var p=h.dataTransfer;if(p){var m=p.files;if(!m||0===m.length)return;for(var x=!1,v=0;v<m.length;++v){var I=m.item(v);if(I&&I.type.match(/image.*/)){x=!0,a.setImageNameToButton(I.name),r(I),u.innerText=ft.dragAndDropMessage();break}}x||(u.innerText=ft.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=ft.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){if(t.length>20){var r=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(r,"....").concat(a)}var u=ft.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=u},e.prototype.setInitialValueToButton=function(){var t=ft.fileSelectionChooseImage()+" - "+ft.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){return new e(t,n,r)},e}(),CL=function(){function e(t){this.selectElement=Mi.createElement("select",ur.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)n.style.display="none";else{var i=ft.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,u=0,h=this.cameras;u<h.length;u++){var p=h[u],m=p.id,x=null==p.label?m:p.label;(!x||""===x)&&(x=[ft.anonymousCameraPrefix(),a++].join(" "));var v=document.createElement("option");v.value=m,v.innerText=x,this.options.push(v),this.selectElement.appendChild(v)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++)if(r[n].value===t)return!0;return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),wL=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Mi.createElement("input",ur.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=ft.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=ft.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),Dr=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(Dr||{}),vL=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=!0===r,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new lo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Jv(this.verbose),this.persistedDataManager=new uL,!0!==n.rememberLastUsedCamera&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,u){if(t)t(a,u);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(ft.lastMatch(a),Dr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,u){n&&n(a,u)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new cD(this.getScanRegionId(),function EL(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}(this.config,this.verbose))},e.prototype.pause=function(t){(si(t)||!0!==t)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){t.html5Qrcode?t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){t.html5Qrcode?(t.html5Qrcode.clear(),n(),r()):r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),n(),r()):r()}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=kr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!kr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=kr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=kr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:kr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:kr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:kr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),lo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n),(new hL).renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(ft.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(t,n)};cD.getCameras().then(function(u){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),u&&u.length>0?(t.removeChild(n),i.renderCameraSelection(u)):(i.setHeaderMessage(ft.noCameraFound(),Dr.STATUS_WARNING),a())}).catch(function(u){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(u,Dr.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=Mi.createElement("button",this.getCameraPermissionButtonId());i.innerText=ft.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;lo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?fD.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)}):this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=lo.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=lo.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=yL.create(t,n,function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";lo.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(ft.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(u){r.resetHeaderMessage(),r.qrCodeSuccessCallback(u.decodedText,u)}).catch(function(u){r.setHeaderMessage(u,Dr.STATUS_WARNING),r.qrCodeErrorCallback(u,Kv.createFrom(u))}))})},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=wL.create(i,!1),h=CL.create(i,t),p=document.createElement("span"),m=Mi.createElement("button",ur.CAMERA_START_BUTTON_ID);m.innerText=ft.scanButtonStartScanningText(),p.appendChild(m);var v,x=Mi.createElement("button",ur.CAMERA_STOP_BUTTON_ID);x.innerText=ft.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,p.appendChild(x),i.appendChild(p);var S=function(P){P||(m.style.display="none"),m.innerText=ft.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,P&&(m.style.display="inline-block")};if(m.addEventListener("click",function(P){m.innerText=ft.scanButtonScanningStarting(),h.disable(),m.disabled=!0,m.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var V=h.getValue();r.persistedDataManager.setLastUsedCameraId(V),r.html5Qrcode.start(V,function xL(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(z){x.disabled=!1,x.style.display="inline-block",S(!1);var k=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===n.config.showTorchButtonIfSupported&&function(P){P.torchFeature().isSupported()?(v?v.updateTorchCapability(P.torchFeature()):v=mL.create(p,P.torchFeature(),{display:"none",marginLeft:"5px"},function(V){r.setHeaderMessage(V,Dr.STATUS_WARNING)}),v.show()):v&&v.hide()}(k),!0===n.config.showZoomSliderIfSupported&&function(P){var V=P.zoomFeature();if(V.isSupported()){a.setOnCameraZoomValueChangeCallback(function(k){V.apply(k)});var z=1;n.config.defaultZoomValueIfSupported&&(z=n.config.defaultZoomValueIfSupported),z=function HP(e,t,n){return e>n?n:e<t?t:e}(z,V.min(),V.max()),a.setValues(V.min(),V.max(),z,V.step()),a.show()}}(k)}).catch(function(z){r.showHideScanTypeSwapLink(!0),h.enable(),S(!0),r.setHeaderMessage(z,Dr.STATUS_WARNING)})}),h.hasSingleItem()&&m.click(),x.addEventListener("click",function(P){if(!r.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,r.html5Qrcode.stop().then(function(V){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),h.enable(),m.disabled=!1,x.style.display="none",m.style.display="inline-block",v&&(v.reset(),v.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(V){x.disabled=!1,r.setHeaderMessage(V,Dr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var N=r.persistedDataManager.getLastUsedCameraId();h.hasValue(N)?(h.setValue(N),m.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=ft.textIfCameraScanSelected(),r=ft.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var u=Mi.createElement("span",this.getDashboardSectionSwapLinkId());u.style.textDecoration="underline",u.style.cursor="pointer",u.innerText=lo.isCameraScanType(this.currentScanType)?n:r,u.addEventListener("click",function(){t.sectionSwapAllowed?(t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,lo.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),u.innerText=r,t.currentScanType=Uo.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),u.innerText=n,t.currentScanType=Uo.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0):t.verbose&&t.logger.logError("Section swap called when not allowed")}),a.appendChild(u),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;this.persistedDataManager.hasCameraPermissions()&&fD.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)})},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Dr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Dr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Dr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==t&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return n.innerHTML="<br>",void n.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=aL,this.cameraScanImage.alt=ft.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return n.innerHTML="<br>",void n.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=lL,this.fileScanImage.alt=ft.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ur.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ur.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function DL(e,t){if(1&e&&(Zt(0,"div",21)(1,"label",22),sr(2,"Correo"),tn(),Ei(3,"input",23),Zt(4,"small",24),sr(5,"No compartiremos tu informacion"),tn(),Zt(6,"div",25),sr(7," El correo es obligatorio "),tn()()),2&e){const n=Su();let r;_o(6),So("hidden",(null==(r=n.myForm.get("email"))?null:r.valid)||(null==(r=n.myForm.get("email"))?null:r.pristine)||!(null!=(r=n.myForm.get("email"))&&r.hasError("pattern")))}}function AL(e,t){if(1&e){const n=function $y(){return H()}();Zt(0,"div",26)(1,"label",22),sr(2,"Telefono"),tn(),Zt(3,"input",27),Rn("keyup",function(i){return function z0(e){return we.lFrame.contextLView=e,e[Lt]}(n),function G0(e){return we.lFrame.contextLView=null,e}(Su().input_telefono(i))}),tn(),Zt(4,"small",24),sr(5,"No compartiremos tu informacion"),tn(),Zt(6,"div",25),sr(7," Escriba un telefono de 10 digitos "),tn()()}if(2&e){const n=Su();let r;_o(6),So("hidden",(null==(r=n.myForm.get("telefono"))?null:r.valid)||(null==(r=n.myForm.get("telefono"))?null:r.pristine)||!(null!=(r=n.myForm.get("telefono"))&&r.hasError("pattern")))}}const IL=[{path:"",component:(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Gi({type:e,selectors:[["app-home"]],decls:4,vars:0,consts:[["routerLink","/login",1,"btn-btn-success"]],template:function(r,i){1&r&&(Zt(0,"div")(1,"div")(2,"button",0),sr(3,"login"),tn()()())},dependencies:[Id]})}return e})()},{path:"login",component:(()=>{class e{constructor(n,r){this.fb=n,this.router=r,this.tipo_sesion="email",this.label_tipo_sesion="Iniciar sesion con numero de telefono",this.emailPattern=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,this.telefonoPattern=/^((\\+91-?)|0)?[0-9]{10}$/,this.myForm=this.fb.group({telefono:["",[ql.required,ql.pattern(this.telefonoPattern),ql.minLength(10)]],email:["",[ql.required,ql.pattern(this.emailPattern)]]})}ngOnInit(){new vL("reader",{fps:1,qrbox:250},!0).render((a,u)=>{console.log(`Scan result: ${a}`,u),alert(u),alert(a),window.location.href=a},a=>{console.warn(`Code scan error = ${a}`)})}input_telefono(n){console.log("telefno",n.target.value.length)}tiposesion(){this.myForm.reset(),"email"==this.tipo_sesion?(this.tipo_sesion="telefono",this.label_tipo_sesion="Iniciar sesion con email"):(this.tipo_sesion="email",this.label_tipo_sesion="Iniciar sesion con numero de telefono"),console.log(this.tipo_sesion)}iniciar(){console.log(this.myForm.value,"val form"),this.router.navigate(["/cita"])}static#e=this.\u0275fac=function(r){return new(r||e)(Y(BP),Y(lr))};static#t=this.\u0275cmp=Gi({type:e,selectors:[["app-login"]],decls:29,vars:4,consts:[[1,"container","d-flex","justify-content-center","align-items-center",2,"height","100dvh"],[1,"row","d-flex","justify-content-center","align-items-center",2,"border","3px rgb(15, 116, 155) solid","width","80%","height","80%"],[1,"col-md-6","d-flex","justify-content-center","align-items-center","p-5",2,"height","70%","background-color","rgb(36, 130, 174)","border-right","5px gray solid"],[3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-success",3,"click"],["class","form-group tipo-email",4,"ngIf"],["class","form-group tipo-telefono",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],["type","submit",1,"btn","btn-primary"],[1,"col-md-6","d-flex","align-items-center","justify-content-center","p-5",2,"height","70%","background-color","rgb(36, 130, 174)","color","antiquewhite"],[1,"row"],[1,"col-md-12","d-flex","justify-content-center","align-items-center"],[1,"col-md-12","d-flex","justify-content-center","align-items-center",2,"padding-bottom","25px"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-qr-code-scan"],["d","M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5M.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5M4 4h1v1H4z"],["d","M7 2H2v5h5zM3 3h3v3H3zm2 8H4v1h1z"],["d","M7 9H2v5h5zm-4 1h3v3H3zm8-6h1v1h-1z"],["d","M9 2h5v5H9zm1 1v3h3V3zM8 8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8zm2 2H9V9h1zm4 2h-1v1h-2v1h3zm-4 2v-1H8v1z"],["d","M12 9h2V8h-2z"],["id","reader",1,"col-md-12"],[1,"form-group","tipo-email"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","formControlName","email","aria-describedby","emailHelp","placeholder","Escriba un correo",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],[1,"alert","alert-danger","mt-2",3,"hidden"],[1,"form-group","tipo-telefono"],["type","number","formControlName","telefono","aria-describedby","emailHelp","placeholder","Escriba su numero de telefono",1,"form-control",3,"keyup"]],template:function(r,i){1&r&&(Zt(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),Rn("ngSubmit",function(){return i.iniciar()}),Zt(4,"div",4)(5,"button",5),Rn("click",function(){return i.tiposesion()}),sr(6),tn()(),Ei(7,"br")(8,"br"),jh(9,DL,8,1,"div",6),jh(10,AL,8,1,"div",7),Ei(11,"br")(12,"br"),Zt(13,"div",8)(14,"button",9),sr(15,"Iniciar"),tn()()()(),Zt(16,"div",10)(17,"div",11)(18,"div",12)(19,"h6"),sr(20,"Escanee el codigo QR de su cita"),tn()(),Zt(21,"div",13),function t1(){we.lFrame.currentNamespace="svg"}(),Zt(22,"svg",14),Ei(23,"path",15)(24,"path",16)(25,"path",17)(26,"path",18)(27,"path",19),tn()(),function n1(){!function aA(){we.lFrame.currentNamespace=null}()}(),Ei(28,"div",20),tn()()()()),2&r&&(_o(3),So("formGroup",i.myForm),_o(3),Ou(" ",i.label_tipo_sesion," "),_o(3),So("ngIf","email"==i.tipo_sesion),_o(1),So("ngIf","telefono"==i.tipo_sesion))},dependencies:[aE,Mv,_d,Wp,gv,pv,Bd,Xp]})}return e})()},{path:"cita",component:(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Gi({type:e,selectors:[["app-cita"]],decls:11,vars:0,consts:[[1,"container",2,"height","100dvh"],[1,"row",2,"padding","10px","height","15%"],[1,"col-md-12"],[1,"bg-light",2,"height","100%"],[1,"row",2,"height","100%"],[1,"col-md-10","d-flex","align-items-center"],[1,"col-md-2","d-flex","justify-content-center","align-items-center"],[1,"btn","btn-success"]],template:function(r,i){1&r&&(Zt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p"),sr(7,"Cita william smith "),tn()(),Zt(8,"div",6)(9,"button",7),sr(10,"Check in"),tn()()()()()()())}})}return e})()}];let _L=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=$r({type:e});static#n=this.\u0275inj=Zn({imports:[j2.forRoot(IL),j2]})}return e})(),bL=(()=>{class e{constructor(){this.title="kiosko_greeter_v2"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Gi({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Ei(0,"router-outlet")},dependencies:[Ap]})}return e})(),SL=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=$r({type:e,bootstrap:[bL]});static#n=this.\u0275inj=Zn({imports:[o8,_L,VP]})}return e})();r8().bootstrapModule(SL).catch(e=>console.error(e))},834:function(tc,nc){!function(G){"use strict";function Ue(w){return null==w}var fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,o){w.__proto__=o}||function(w,o){for(var s in o)o.hasOwnProperty(s)&&(w[s]=o[s])};var rc=function(w){function o(s){var l=this.constructor,c=w.call(this,s)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),function ga(w,o){var s=Object.setPrototypeOf;s?s(w,o):w.__proto__=o}(c,l.prototype),function vn(w,o){void 0===o&&(o=w.constructor);var s=Error.captureStackTrace;s&&s(w,o)}(c),c}return function ha(w,o){function s(){this.constructor=w}fa(w,o),w.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}(o,w),o}(Error);let Kt=(()=>{class w extends rc{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}return w.kind="Exception",w})(),Dn=(()=>{class w extends Kt{}return w.kind="ArgumentException",w})(),ee=(()=>{class w extends Kt{}return w.kind="IllegalArgumentException",w})();class Ar{constructor(o){if(this.binarizer=o,null===o)throw new ee("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,s){return this.binarizer.getBlackRow(o,s)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,s,l,c){const d=this.binarizer.getLuminanceSource().crop(o,s,l,c);return new Ar(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Ar(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Ar(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let Pt=(()=>{class w extends Kt{static getChecksumInstance(){return new w}}return w.kind="ChecksumException",w})();class jo{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class it{static arraycopy(o,s,l,c,d){for(;d--;)l[c++]=o[s++]}static currentTimeMillis(){return Date.now()}}let pa=(()=>{class w extends Kt{}return w.kind="IndexOutOfBoundsException",w})(),ic=(()=>{class w extends pa{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}return w.kind="ArrayIndexOutOfBoundsException",w})();class St{static fill(o,s){for(let l=0,c=o.length;l<c;l++)o[l]=s}static fillWithin(o,s,l,c){St.rangeCheck(o.length,s,l);for(let d=s;d<l;d++)o[d]=c}static rangeCheck(o,s,l){if(s>l)throw new ee("fromIndex("+s+") > toIndex("+l+")");if(s<0)throw new ic(s);if(l>o)throw new ic(l)}static asList(...o){return o}static create(o,s,l){return Array.from({length:o}).map(d=>Array.from({length:s}).fill(l))}static createInt32Array(o,s,l){return Array.from({length:o}).map(d=>Int32Array.from({length:s}).fill(l))}static equals(o,s){if(!(o&&s&&o.length&&s.length&&o.length===s.length))return!1;for(let l=0,c=o.length;l<c;l++)if(o[l]!==s[l])return!1;return!0}static hashCode(o){if(null===o)return 0;let s=1;for(const l of o)s=31*s+l;return s}static fillUint8Array(o,s){for(let l=0;l!==o.length;l++)o[l]=s}static copyOf(o,s){return o.slice(0,s)}static copyOfUint8Array(o,s){if(o.length<=s){const l=new Uint8Array(s);return l.set(o),l}return o.slice(0,s)}static copyOfRange(o,s,l){const c=l-s,d=new Int32Array(c);return it.arraycopy(o,s,d,0,c),d}static binarySearch(o,s,l){void 0===l&&(l=St.numberComparator);let c=0,d=o.length-1;for(;c<=d;){const f=d+c>>1,g=l(s,o[f]);if(g>0)c=f+1;else{if(!(g<0))return f;d=f-1}}return-c-1}static numberComparator(o,s){return o-s}}class xe{static numberOfTrailingZeros(o){let s;if(0===o)return 32;let l=31;return s=o<<16,0!==s&&(l-=16,o=s),s=o<<8,0!==s&&(l-=8,o=s),s=o<<4,0!==s&&(l-=4,o=s),s=o<<2,0!==s&&(l-=2,o=s),l-(o<<1>>>31)}static numberOfLeadingZeros(o){if(0===o)return 32;let s=1;return o>>>16||(s+=16,o<<=16),o>>>24||(s+=8,o<<=8),o>>>28||(s+=4,o<<=4),o>>>30||(s+=2,o<<=2),s-=o>>>31,s}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135,63&(o+=o>>>8)+(o>>>16)}static truncDivision(o,s){return Math.trunc(o/s)}static parseInt(o,s=void 0){return parseInt(o,s)}}xe.MIN_VALUE_32_BITS=-2147483648,xe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ot{constructor(o,s){void 0===o?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,this.bits=null==s?ot.makeArray(o):s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>32*this.bits.length){const s=ot.makeArray(o);it.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(o){return 0!=(this.bits[Math.floor(o/32)]&1<<(31&o))}set(o){this.bits[Math.floor(o/32)]|=1<<(31&o)}flip(o){this.bits[Math.floor(o/32)]^=1<<(31&o)}getNextSet(o){const s=this.size;if(o>=s)return s;const l=this.bits;let c=Math.floor(o/32),d=l[c];d&=~((1<<(31&o))-1);const f=l.length;for(;0===d;){if(++c===f)return s;d=l[c]}const g=32*c+xe.numberOfTrailingZeros(d);return g>s?s:g}getNextUnset(o){const s=this.size;if(o>=s)return s;const l=this.bits;let c=Math.floor(o/32),d=~l[c];d&=~((1<<(31&o))-1);const f=l.length;for(;0===d;){if(++c===f)return s;d=~l[c]}const g=32*c+xe.numberOfTrailingZeros(d);return g>s?s:g}setBulk(o,s){this.bits[Math.floor(o/32)]=s}setRange(o,s){if(s<o||o<0||s>this.size)throw new ee;if(s===o)return;s--;const l=Math.floor(o/32),c=Math.floor(s/32),d=this.bits;for(let f=l;f<=c;f++)d[f]|=(2<<(f<c?31:31&s))-(1<<(f>l?0:31&o))}clear(){const o=this.bits.length,s=this.bits;for(let l=0;l<o;l++)s[l]=0}isRange(o,s,l){if(s<o||o<0||s>this.size)throw new ee;if(s===o)return!0;s--;const c=Math.floor(o/32),d=Math.floor(s/32),f=this.bits;for(let g=c;g<=d;g++){const E=(2<<(g<d?31:31&s))-(1<<(g>c?0:31&o))&4294967295;if((f[g]&E)!==(l?E:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(o,s){if(s<0||s>32)throw new ee("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let l=s;l>0;l--)this.appendBit(1==(o>>l-1&1))}appendBitArray(o){const s=o.size;this.ensureCapacity(this.size+s);for(let l=0;l<s;l++)this.appendBit(o.get(l))}xor(o){if(this.size!==o.size)throw new ee("Sizes don't match");const s=this.bits;for(let l=0,c=s.length;l<c;l++)s[l]^=o.bits[l]}toBytes(o,s,l,c){for(let d=0;d<c;d++){let f=0;for(let g=0;g<8;g++)this.get(o)&&(f|=1<<7-g),o++;s[l+d]=f}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),l=s+1,c=this.bits;for(let d=0;d<l;d++){let f=c[d];f=f>>1&1431655765|(1431655765&f)<<1,f=f>>2&858993459|(858993459&f)<<2,f=f>>4&252645135|(252645135&f)<<4,f=f>>8&16711935|(16711935&f)<<8,f=f>>16&65535|(65535&f)<<16,o[s-d]=f}if(this.size!==32*l){const d=32*l-this.size;let f=o[0]>>>d;for(let g=1;g<l;g++){const y=o[g];f|=y<<32-d,o[g-1]=f,f=y>>>d}o[l-1]=f}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){return o instanceof ot&&this.size===o.size&&St.equals(this.bits,o.bits)}hashCode(){return 31*this.size+St.hashCode(this.bits)}toString(){let o="";for(let s=0,l=this.size;s<l;s++)7&s||(o+=" "),o+=this.get(s)?"X":".";return o}clone(){return new ot(this.size,this.bits.slice())}}var oc=function(w){return w[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",w}(oc||{}),ht=oc;let Z=(()=>{class w extends Kt{static getFormatInstance(){return new w}}return w.kind="FormatException",w})();var qe=function(w){return w[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR",w}(qe||{});class q{constructor(o,s,l,...c){this.valueIdentifier=o,this.name=l,this.values="number"==typeof s?Int32Array.from([s]):s,this.otherEncodingNames=c,q.VALUE_IDENTIFIER_TO_ECI.set(o,this),q.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,g=d.length;f!==g;f++)q.VALUES_TO_ECI.set(d[f],this);for(const f of c)q.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new Z("incorect value");const s=q.VALUES_TO_ECI.get(o);if(void 0===s)throw new Z("incorect value");return s}static getCharacterSetECIByName(o){const s=q.NAME_TO_ECI.get(o);if(void 0===s)throw new Z("incorect value");return s}equals(o){if(!(o instanceof q))return!1;const s=o;return this.getName()===s.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(qe.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(qe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(qe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(qe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(qe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(qe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(qe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(qe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(qe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(qe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(qe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(qe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(qe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(qe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(qe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(qe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(qe.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(qe.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(qe.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(qe.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(qe.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(qe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(qe.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(qe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(qe.Big5,28,"Big5"),q.GB18030=new q(qe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(qe.EUC_KR,30,"EUC_KR","EUC-KR");let Ir=(()=>{class w extends Kt{}return w.kind="UnsupportedOperationException",w})();class $t{static decode(o,s){const l=this.encodingName(s);return this.customDecoder?this.customDecoder(o,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(o,l):new TextDecoder(l).decode(o)}static shouldDecodeOnFallback(o){return!$t.isBrowser()&&"ISO-8859-1"===o}static encode(o,s){const l=this.encodingName(s);return this.customEncoder?this.customEncoder(o,l):typeof TextEncoder>"u"?this.encodeFallback(o):(new TextEncoder).encode(o)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(o){return"string"==typeof o?o:o.getName()}static encodingCharacterSet(o){return o instanceof q?o:q.getCharacterSetECIByName(o)}static decodeFallback(o,s){const l=this.encodingCharacterSet(s);if($t.isDecodeFallbackSupported(l)){let c="";for(let d=0,f=o.length;d<f;d++){let g=o[d].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(l.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Ir(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(q.UTF8)||o.equals(q.ISO8859_1)||o.equals(q.ASCII)}static encodeFallback(o){const l=btoa(unescape(encodeURIComponent(o))).split(""),c=[];for(let d=0;d<l.length;d++)c.push(l[d].charCodeAt(0));return new Uint8Array(c)}}class Ce{static castAsNonUtf8Char(o,s=null){const l=s?s.getName():this.ISO88591;return $t.decode(new Uint8Array([o]),l)}static guessEncoding(o,s){if(null!=s&&void 0!==s.get(ht.CHARACTER_SET))return s.get(ht.CHARACTER_SET).toString();const l=o.length;let c=!0,d=!0,f=!0,g=0,y=0,C=0,E=0,D=0,A=0,b=0,M=0,T=0,O=0,L=0;const $=o.length>3&&239===o[0]&&187===o[1]&&191===o[2];for(let Q=0;Q<l&&(c||d||f);Q++){const B=255&o[Q];f&&(g>0?128&B?g--:f=!1:128&B&&(64&B?(g++,32&B?(g++,16&B?(g++,8&B?f=!1:E++):C++):y++):f=!1)),c&&(B>127&&B<160?c=!1:B>159&&(B<192||215===B||247===B)&&L++),d&&(D>0?B<64||127===B||B>252?d=!1:D--:128===B||160===B||B>239?d=!1:B>160&&B<224?(A++,M=0,b++,b>T&&(T=b)):B>127?(D++,b=0,M++,M>O&&(O=M)):(b=0,M=0))}return f&&g>0&&(f=!1),d&&D>0&&(d=!1),f&&($||y+C+E>0)?Ce.UTF8:d&&(Ce.ASSUME_SHIFT_JIS||T>=3||O>=3)?Ce.SHIFT_JIS:c&&d?2===T&&2===A||10*L>=l?Ce.SHIFT_JIS:Ce.ISO88591:c?Ce.ISO88591:d?Ce.SHIFT_JIS:f?Ce.UTF8:Ce.PLATFORM_DEFAULT_ENCODING}static format(o,...s){let l=-1;return o.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function c(f,g,y,C,E,D){if("%%"===f)return"%";if(void 0===s[++l])return;f=C?parseInt(C.substr(1)):void 0;let b,A=E?parseInt(E.substr(1)):void 0;switch(D){case"s":b=s[l];break;case"c":b=s[l][0];break;case"f":b=parseFloat(s[l]).toFixed(f);break;case"p":b=parseFloat(s[l]).toPrecision(f);break;case"e":b=parseFloat(s[l]).toExponential(f);break;case"x":b=parseInt(s[l]).toString(A||16);break;case"d":b=parseFloat(parseInt(s[l],A||10).toPrecision(f)).toFixed(0)}b="object"==typeof b?JSON.stringify(b):(+b).toString(A);let M=parseInt(y),T=y&&y[0]+""=="0"?"0":" ";for(;b.length<M;)b=void 0!==g?b+T:T+b;return b})}static getBytes(o,s){return $t.encode(o,s)}static getCharCode(o,s=0){return o.charCodeAt(s)}static getCharAt(o){return String.fromCharCode(o)}}Ce.SHIFT_JIS=q.SJIS.getName(),Ce.GB2312="GB2312",Ce.ISO88591=q.ISO8859_1.getName(),Ce.EUC_JP="EUC_JP",Ce.UTF8=q.UTF8.getName(),Ce.PLATFORM_DEFAULT_ENCODING=Ce.UTF8,Ce.ASSUME_SHIFT_JIS=!1;class Xe{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return this.value+="string"==typeof o?o.toString():this.encoding?Ce.castAsNonUtf8Char(o,this.encoding):String.fromCharCode(o),this}appendChars(o,s,l){for(let c=s;s<s+l;c++)this.append(o[c]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,s){this.value=this.value.substr(0,o)+s+this.value.substr(o+1)}substring(o,s){return this.value.substring(o,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,s){this.value=this.value.substr(0,o)+s+this.value.substr(o+s.length)}}class Vt{constructor(o,s,l,c){if(this.width=o,this.height=s,this.rowSize=l,this.bits=c,null==s&&(s=o),this.height=s,o<1||s<1)throw new ee("Both dimensions must be greater than 0");null==l&&(l=Math.floor((o+31)/32)),this.rowSize=l,null==c&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const s=o.length,l=o[0].length,c=new Vt(l,s);for(let d=0;d<s;d++){const f=o[d];for(let g=0;g<l;g++)f[g]&&c.set(g,d)}return c}static parseFromString(o,s,l){if(null===o)throw new ee("stringRepresentation cannot be null");const c=new Array(o.length);let d=0,f=0,g=-1,y=0,C=0;for(;C<o.length;)if("\n"===o.charAt(C)||"\r"===o.charAt(C)){if(d>f){if(-1===g)g=d-f;else if(d-f!==g)throw new ee("row lengths do not match");f=d,y++}C++}else if(o.substring(C,C+s.length)===s)C+=s.length,c[d]=!0,d++;else{if(o.substring(C,C+l.length)!==l)throw new ee("illegal character encountered: "+o.substring(C));C+=l.length,c[d]=!1,d++}if(d>f){if(-1===g)g=d-f;else if(d-f!==g)throw new ee("row lengths do not match");y++}const E=new Vt(g,y);for(let D=0;D<d;D++)c[D]&&E.set(Math.floor(D%g),Math.floor(D/g));return E}get(o,s){const l=s*this.rowSize+Math.floor(o/32);return 0!=(this.bits[l]>>>(31&o)&1)}set(o,s){const l=s*this.rowSize+Math.floor(o/32);this.bits[l]|=1<<(31&o)&4294967295}unset(o,s){const l=s*this.rowSize+Math.floor(o/32);this.bits[l]&=~(1<<(31&o)&4294967295)}flip(o,s){const l=s*this.rowSize+Math.floor(o/32);this.bits[l]^=1<<(31&o)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new ee("input matrix dimensions do not match");const s=new ot(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let d=0,f=this.height;d<f;d++){const g=d*l,y=o.getRow(d,s).getBitArray();for(let C=0;C<l;C++)c[g+C]^=y[C]}}clear(){const o=this.bits,s=o.length;for(let l=0;l<s;l++)o[l]=0}setRegion(o,s,l,c){if(s<0||o<0)throw new ee("Left and top must be nonnegative");if(c<1||l<1)throw new ee("Height and width must be at least 1");const d=o+l,f=s+c;if(f>this.height||d>this.width)throw new ee("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let C=s;C<f;C++){const E=C*g;for(let D=o;D<d;D++)y[E+Math.floor(D/32)]|=1<<(31&D)&4294967295}}getRow(o,s){null==s||s.getSize()<this.width?s=new ot(this.width):s.clear();const l=this.rowSize,c=this.bits,d=o*l;for(let f=0;f<l;f++)s.setBulk(32*f,c[d+f]);return s}setRow(o,s){it.arraycopy(s.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),s=this.getHeight();let l=new ot(o),c=new ot(o);for(let d=0,f=Math.floor((s+1)/2);d<f;d++)l=this.getRow(d,l),c=this.getRow(s-1-d,c),l.reverse(),c.reverse(),this.setRow(d,c),this.setRow(s-1-d,l)}getEnclosingRectangle(){const s=this.height,l=this.rowSize,c=this.bits;let d=this.width,f=s,g=-1,y=-1;for(let C=0;C<s;C++)for(let E=0;E<l;E++){const D=c[C*l+E];if(0!==D){if(C<f&&(f=C),C>y&&(y=C),32*E<d){let A=0;for(;!(D<<31-A&4294967295);)A++;32*E+A<d&&(d=32*E+A)}if(32*E+31>g){let A=31;for(;!(D>>>A);)A--;32*E+A>g&&(g=32*E+A)}}}return g<d||y<f?null:Int32Array.from([d,f,g-d+1,y-f+1])}getTopLeftOnBit(){const o=this.rowSize,s=this.bits;let l=0;for(;l<s.length&&0===s[l];)l++;if(l===s.length)return null;const c=l/o;let d=l%o*32;const f=s[l];let g=0;for(;!(f<<31-g&4294967295);)g++;return d+=g,Int32Array.from([d,c])}getBottomRightOnBit(){const o=this.rowSize,s=this.bits;let l=s.length-1;for(;l>=0&&0===s[l];)l--;if(l<0)return null;const c=Math.floor(l/o);let d=32*Math.floor(l%o);const f=s[l];let g=31;for(;!(f>>>g);)g--;return d+=g,Int32Array.from([d,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){return o instanceof Vt&&this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&St.equals(this.bits,o.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+St.hashCode(this.bits),o}toString(o="X ",s="  ",l="\n"){return this.buildToString(o,s,l)}buildToString(o,s,l){let c=new Xe;for(let d=0,f=this.height;d<f;d++){for(let g=0,y=this.width;g<y;g++)c.append(this.get(g,d)?o:s);c.append(l)}return c.toString()}clone(){return new Vt(this.width,this.height,this.rowSize,this.bits.slice())}}let U=(()=>{class w extends Kt{static getNotFoundInstance(){return new w}}return w.kind="NotFoundException",w})();class gt extends jo{constructor(o){super(o),this.luminances=gt.EMPTY,this.buckets=new Int32Array(gt.LUMINANCE_BUCKETS)}getBlackRow(o,s){const l=this.getLuminanceSource(),c=l.getWidth();null==s||s.getSize()<c?s=new ot(c):s.clear(),this.initArrays(c);const d=l.getRow(o,this.luminances),f=this.buckets;for(let y=0;y<c;y++)f[(255&d[y])>>gt.LUMINANCE_SHIFT]++;const g=gt.estimateBlackPoint(f);if(c<3)for(let y=0;y<c;y++)(255&d[y])<g&&s.set(y);else{let y=255&d[0],C=255&d[1];for(let E=1;E<c-1;E++){const D=255&d[E+1];(4*C-y-D)/2<g&&s.set(E),y=C,C=D}}return s}getBlackMatrix(){const o=this.getLuminanceSource(),s=o.getWidth(),l=o.getHeight(),c=new Vt(s,l);this.initArrays(s);const d=this.buckets;for(let y=1;y<5;y++){const C=Math.floor(l*y/5),E=o.getRow(C,this.luminances),D=Math.floor(4*s/5);for(let A=Math.floor(s/5);A<D;A++)d[(255&E[A])>>gt.LUMINANCE_SHIFT]++}const f=gt.estimateBlackPoint(d),g=o.getMatrix();for(let y=0;y<l;y++){const C=y*s;for(let E=0;E<s;E++)(255&g[C+E])<f&&c.set(E,y)}return c}createBinarizer(o){return new gt(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const s=this.buckets;for(let l=0;l<gt.LUMINANCE_BUCKETS;l++)s[l]=0}static estimateBlackPoint(o){const s=o.length;let l=0,c=0,d=0;for(let E=0;E<s;E++)o[E]>d&&(c=E,d=o[E]),o[E]>l&&(l=o[E]);let f=0,g=0;for(let E=0;E<s;E++){const D=E-c,A=o[E]*D*D;A>g&&(f=E,g=A)}if(c>f){const E=c;c=f,f=E}if(f-c<=s/16)throw new U;let y=f-1,C=-1;for(let E=f-1;E>c;E--){const D=E-c,A=D*D*(f-E)*(l-o[E]);A>C&&(y=E,C=A)}return y<<gt.LUMINANCE_SHIFT}}gt.LUMINANCE_BITS=5,gt.LUMINANCE_SHIFT=8-gt.LUMINANCE_BITS,gt.LUMINANCE_BUCKETS=1<<gt.LUMINANCE_BITS,gt.EMPTY=Uint8ClampedArray.from([0]);class Se extends gt{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const o=this.getLuminanceSource(),s=o.getWidth(),l=o.getHeight();if(s>=Se.MINIMUM_DIMENSION&&l>=Se.MINIMUM_DIMENSION){const c=o.getMatrix();let d=s>>Se.BLOCK_SIZE_POWER;s&Se.BLOCK_SIZE_MASK&&d++;let f=l>>Se.BLOCK_SIZE_POWER;l&Se.BLOCK_SIZE_MASK&&f++;const g=Se.calculateBlackPoints(c,d,f,s,l),y=new Vt(s,l);Se.calculateThresholdForBlock(c,d,f,s,l,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new Se(o)}static calculateThresholdForBlock(o,s,l,c,d,f,g){const y=d-Se.BLOCK_SIZE,C=c-Se.BLOCK_SIZE;for(let E=0;E<l;E++){let D=E<<Se.BLOCK_SIZE_POWER;D>y&&(D=y);const A=Se.cap(E,2,l-3);for(let b=0;b<s;b++){let M=b<<Se.BLOCK_SIZE_POWER;M>C&&(M=C);const T=Se.cap(b,2,s-3);let O=0;for(let $=-2;$<=2;$++){const Q=f[A+$];O+=Q[T-2]+Q[T-1]+Q[T]+Q[T+1]+Q[T+2]}Se.thresholdBlock(o,M,D,O/25,c,g)}}}static cap(o,s,l){return o<s?s:o>l?l:o}static thresholdBlock(o,s,l,c,d,f){for(let g=0,y=l*d+s;g<Se.BLOCK_SIZE;g++,y+=d)for(let C=0;C<Se.BLOCK_SIZE;C++)(255&o[y+C])<=c&&f.set(s+C,l+g)}static calculateBlackPoints(o,s,l,c,d){const f=d-Se.BLOCK_SIZE,g=c-Se.BLOCK_SIZE,y=new Array(l);for(let C=0;C<l;C++){y[C]=new Int32Array(s);let E=C<<Se.BLOCK_SIZE_POWER;E>f&&(E=f);for(let D=0;D<s;D++){let A=D<<Se.BLOCK_SIZE_POWER;A>g&&(A=g);let b=0,M=255,T=0;for(let L=0,$=E*c+A;L<Se.BLOCK_SIZE;L++,$+=c){for(let Q=0;Q<Se.BLOCK_SIZE;Q++){const B=255&o[$+Q];b+=B,B<M&&(M=B),B>T&&(T=B)}if(T-M>Se.MIN_DYNAMIC_RANGE)for(L++,$+=c;L<Se.BLOCK_SIZE;L++,$+=c)for(let Q=0;Q<Se.BLOCK_SIZE;Q++)b+=255&o[$+Q]}let O=b>>2*Se.BLOCK_SIZE_POWER;if(T-M<=Se.MIN_DYNAMIC_RANGE&&(O=M/2,C>0&&D>0)){const L=(y[C-1][D]+2*y[C][D-1]+y[C-1][D-1])/4;M<L&&(O=L)}y[C][D]=O}}return y}}Se.BLOCK_SIZE_POWER=3,Se.BLOCK_SIZE=1<<Se.BLOCK_SIZE_POWER,Se.BLOCK_SIZE_MASK=Se.BLOCK_SIZE-1,Se.MINIMUM_DIMENSION=5*Se.BLOCK_SIZE,Se.MIN_DYNAMIC_RANGE=24;class Ni{constructor(o,s){this.width=o,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,s,l,c){throw new Ir("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ir("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ir("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let s=new Xe;for(let l=0;l<this.height;l++){const c=this.getRow(l,o);for(let d=0;d<this.width;d++){const f=255&c[d];let g;g=f<64?"#":f<128?"+":f<192?".":" ",s.append(g)}s.append("\n")}return s.toString()}}class st extends Ni{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,s){const l=this.delegate.getRow(o,s),c=this.getWidth();for(let d=0;d<c;d++)l[d]=255-(255&l[d]);return l}getMatrix(){const o=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(s);for(let c=0;c<s;c++)l[c]=255-(255&o[c]);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(o,s,l,c){return new st(this.delegate.crop(o,s,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new st(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new st(this.delegate.rotateCounterClockwise45())}}class _r extends Ni{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=_r.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const s=o.getContext("2d").getImageData(0,0,o.width,o.height);return _r.toGrayscaleBuffer(s.data,o.width,o.height)}static toGrayscaleBuffer(o,s,l){const c=new Uint8ClampedArray(s*l);for(let d=0,f=0,g=o.length;d<g;d+=4,f++){let y;y=0===o[d+3]?255:306*o[d]+601*o[d+1]+117*o[d+2]+512>>10,c[f]=y}return c}getRow(o,s){if(o<0||o>=this.getHeight())throw new ee("Requested row is outside the image: "+o);const l=this.getWidth(),c=o*l;return null===s?s=this.buffer.slice(c,c+l):(s.length<l&&(s=new Uint8ClampedArray(l)),s.set(this.buffer.slice(c,c+l))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,s,l,c){return super.crop(o,s,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const s=this.getTempCanvasElement(),l=s.getContext("2d"),c=o*_r.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*d+Math.abs(Math.sin(c))*f),y=Math.ceil(Math.abs(Math.sin(c))*d+Math.abs(Math.cos(c))*f);return s.width=g,s.height=y,l.translate(g/2,y/2),l.rotate(c),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=_r.makeBufferFromCanvasImageData(s),this}invert(){return new st(this)}}_r.DEGREE_TO_RADIANS=Math.PI/180;class sc{constructor(o,s,l){this.deviceId=o,this.label=s,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var rn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(w,o,s,l){return new(s||(s=Promise))(function(d,f){function g(E){try{C(l.next(E))}catch(D){f(D)}}function y(E){try{C(l.throw(E))}catch(D){f(D)}}function C(E){E.done?d(E.value):function c(d){return d instanceof s?d:new s(function(f){f(d)})}(E.value).then(g,y)}C((l=l.apply(w,o||[])).next())})};class ai{constructor(o,s=500,l){this.reader=o,this.timeBetweenScansMillis=s,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return rn(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const l of o){const c="video"===l.kind?"videoinput":l.kind;"videoinput"===c&&s.push({deviceId:l.deviceId||l.id,label:l.label||`Video device ${s.length+1}`,kind:c,groupId:l.groupId})}return s})}getVideoInputDevices(){return rn(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new sc(s.deviceId,s.label))})}findDeviceById(o){return rn(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(l=>l.deviceId===o):null})}decodeFromInputVideoDevice(o,s){return rn(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,s)})}decodeOnceFromVideoDevice(o,s){return rn(this,void 0,void 0,function*(){let l;this.reset(),l=o?{deviceId:{exact:o}}:{facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,s)})}decodeOnceFromConstraints(o,s){return rn(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(l,s)})}decodeOnceFromStream(o,s){return rn(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(o,s);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(o,s,l){return rn(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,s,l)})}decodeFromVideoDevice(o,s,l){return rn(this,void 0,void 0,function*(){let c;c=o?{deviceId:{exact:o}}:{facingMode:"environment"};const d={video:c};return yield this.decodeFromConstraints(d,s,l)})}decodeFromConstraints(o,s,l){return rn(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(c,s,l)})}decodeFromStream(o,s,l){return rn(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(o,s);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,s){return rn(this,void 0,void 0,function*(){const l=this.prepareVideoElement(s);return this.addVideoSource(l,o),this.videoElement=l,this.stream=o,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(o){return new Promise((s,l)=>this.playVideoOnLoad(o,()=>s()))}playVideoOnLoad(o,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",s),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return rn(this,void 0,void 0,function*(){if(this.isVideoPlaying(o))console.warn("Trying to play video that is already playing.");else try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,s){const l=document.getElementById(o);if(!l)throw new Dn(`element with id '${o}' not found`);if(l.nodeName.toLowerCase()!==s.toLowerCase())throw new Dn(`element with id '${o}' must be an ${s} element`);return l}decodeFromImage(o,s){if(!o&&!s)throw new Dn("either imageElement with a src set or an url must be provided");return s&&!o?this.decodeFromImageUrl(s):this.decodeFromImageElement(o)}decodeFromVideo(o,s){if(!o&&!s)throw new Dn("Either an element with a src set or an URL must be provided");return s&&!o?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,s,l){if(void 0===o&&void 0===s)throw new Dn("Either an element with a src set or an URL must be provided");return s&&!o?this.decodeFromVideoUrlContinuously(s,l):this.decodeFromVideoElementContinuously(o,l)}decodeFromImageElement(o){if(!o)throw new Dn("An image element must be provided.");this.reset();const s=this.prepareImageElement(o);let l;return this.imageElement=s,l=this.isImageLoaded(s)?this.decodeOnce(s,!1,!0):this._decodeOnLoadImage(s),l}decodeFromVideoElement(o){const s=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(o,s){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(l,s)}_decodeFromVideoElementSetup(o){if(!o)throw new Dn("A video element must be provided.");this.reset();const s=this.prepareVideoElement(o);return this.videoElement=s,s}decodeFromImageUrl(o){if(!o)throw new Dn("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const l=this._decodeOnLoadImage(s);return s.src=o,l}decodeFromVideoUrl(o){if(!o)throw new Dn("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElement(s);return s.src=o,l}decodeFromVideoUrlContinuously(o,s){if(!o)throw new Dn("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,s);return l.src=o,c}_decodeOnLoadImage(o){return new Promise((s,l)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(s,l),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return rn(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,s){return rn(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,s)})}isImageLoaded(o){return!(!o.complete||0===o.naturalWidth)}prepareImageElement(o){let s;return typeof o>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),"string"==typeof o&&(s=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(s=o),s}prepareVideoElement(o){let s;return!o&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),"string"==typeof o&&(s=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(s=o),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(o,s=!0,l=!0){this._stopAsyncDecode=!1;const c=(d,f)=>{if(this._stopAsyncDecode)return f(new U("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{d(this.decode(o))}catch(g){if(s&&g instanceof U||(g instanceof Pt||g instanceof Z)&&l)return setTimeout(c,this._timeBetweenDecodingAttempts,d,f);f(g)}};return new Promise((d,f)=>c(d,f))}decodeContinuously(o,s){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const c=this.decode(o);s(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){s(null,c),(c instanceof Pt||c instanceof Z||c instanceof U)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(o){const s=this.createBinaryBitmap(o);return this.decodeBitmap(s)}_isHTMLVideoElement(o){return 0!==o.videoWidth}drawFrameOnCanvas(o,s,l){s||(s={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(o,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(o,s,l=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(o,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const l=this.getCaptureCanvas(o),c=new _r(l),d=new Se(c);return new Ar(d)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const s=this.createCaptureCanvas(o);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let l,c;return typeof o<"u"&&(o instanceof HTMLVideoElement?(l=o.videoWidth,c=o.videoHeight):o instanceof HTMLImageElement&&(l=o.naturalWidth||o.width,c=o.naturalHeight||o.height)),s.style.width=l+"px",s.style.height=c+"px",s.width=l,s.height=c,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,s){try{o.srcObject=s}catch{o.src=URL.createObjectURL(s)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class pt{constructor(o,s,l=(null==s?0:8*s.length),c,d,f=it.currentTimeMillis()){this.text=o,this.rawBytes=s,this.numBits=l,this.resultPoints=c,this.format=d,this.timestamp=f,this.text=o,this.rawBytes=s,this.numBits=null==l?null==s?0:8*s.length:l,this.resultPoints=c,this.format=d,this.resultMetadata=null,this.timestamp=null==f?it.currentTimeMillis():f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,s){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(o,s)}putAllMetadata(o){null!==o&&(this.resultMetadata=null===this.resultMetadata?o:new Map(o))}addResultPoints(o){const s=this.resultPoints;if(null===s)this.resultPoints=o;else if(null!==o&&o.length>0){const l=new Array(s.length+o.length);it.arraycopy(s,0,l,0,s.length),it.arraycopy(o,0,l,s.length,o.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ma=function(w){return w[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",w}(ma||{}),fe=ma,Mt=function(w){return w[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",w}(Mt||{}),Re=Mt;class co{constructor(o,s,l,c,d=-1,f=-1){this.rawBytes=o,this.text=s,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=null==o?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class We{exp(o){return this.expTable[o]}log(o){if(0===o)throw new ee;return this.logTable[o]}static addOrSubtract(o,s){return o^s}}class Jt{constructor(o,s){if(0===s.length)throw new ee;this.field=o;const l=s.length;if(l>1&&0===s[0]){let c=1;for(;c<l&&0===s[c];)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),it.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(0===o)return this.getCoefficient(0);const s=this.coefficients;let l;if(1===o){l=0;for(let f=0,g=s.length;f!==g;f++)l=We.addOrSubtract(l,s[f]);return l}l=s[0];const c=s.length,d=this.field;for(let f=1;f<c;f++)l=We.addOrSubtract(d.multiply(o,l),s[f]);return l}addOrSubtract(o){if(!this.field.equals(o.field))throw new ee("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let s=this.coefficients,l=o.coefficients;if(s.length>l.length){const f=s;s=l,l=f}let c=new Int32Array(l.length);const d=l.length-s.length;it.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=We.addOrSubtract(s[f-d],l[f]);return new Jt(this.field,c)}multiply(o){if(!this.field.equals(o.field))throw new ee("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const s=this.coefficients,l=s.length,c=o.coefficients,d=c.length,f=new Int32Array(l+d-1),g=this.field;for(let y=0;y<l;y++){const C=s[y];for(let E=0;E<d;E++)f[y+E]=We.addOrSubtract(f[y+E],g.multiply(C,c[E]))}return new Jt(g,f)}multiplyScalar(o){if(0===o)return this.field.getZero();if(1===o)return this;const s=this.coefficients.length,l=this.field,c=new Int32Array(s),d=this.coefficients;for(let f=0;f<s;f++)c[f]=l.multiply(d[f],o);return new Jt(l,c)}multiplyByMonomial(o,s){if(o<0)throw new ee;if(0===s)return this.field.getZero();const l=this.coefficients,c=l.length,d=new Int32Array(c+o),f=this.field;for(let g=0;g<c;g++)d[g]=f.multiply(l[g],s);return new Jt(f,d)}divide(o){if(!this.field.equals(o.field))throw new ee("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new ee("Divide by 0");const s=this.field;let l=s.getZero(),c=this;const d=o.getCoefficient(o.getDegree()),f=s.inverse(d);for(;c.getDegree()>=o.getDegree()&&!c.isZero();){const g=c.getDegree()-o.getDegree(),y=s.multiply(c.getCoefficient(c.getDegree()),f),C=o.multiplyByMonomial(g,y),E=s.buildMonomial(g,y);l=l.addOrSubtract(E),c=c.addOrSubtract(C)}return[l,c]}toString(){let o="";for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);if(0!==l){if(l<0?(o+=" - ",l=-l):o.length>0&&(o+=" + "),0===s||1!==l){const c=this.field.log(l);0===c?o+="1":1===c?o+="a":(o+="a^",o+=c)}0!==s&&(1===s?o+="x":(o+="x^",o+=s))}}return o}}let ya=(()=>{class w extends Kt{}return w.kind="ArithmeticException",w})();class Ve extends We{constructor(o,s,l){super(),this.primitive=o,this.size=s,this.generatorBase=l;const c=new Int32Array(s);let d=1;for(let g=0;g<s;g++)c[g]=d,d*=2,d>=s&&(d^=o,d&=s-1);this.expTable=c;const f=new Int32Array(s);for(let g=0;g<s-1;g++)f[c[g]]=g;this.logTable=f,this.zero=new Jt(this,Int32Array.from([0])),this.one=new Jt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,s){if(o<0)throw new ee;if(0===s)return this.zero;const l=new Int32Array(o+1);return l[0]=s,new Jt(this,l)}inverse(o){if(0===o)throw new ya;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,s){return 0===o||0===s?0:this.expTable[(this.logTable[o]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+xe.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Ve.AZTEC_DATA_12=new Ve(4201,4096,1),Ve.AZTEC_DATA_10=new Ve(1033,1024,1),Ve.AZTEC_DATA_6=new Ve(67,64,1),Ve.AZTEC_PARAM=new Ve(19,16,1),Ve.QR_CODE_FIELD_256=new Ve(285,256,0),Ve.DATA_MATRIX_FIELD_256=new Ve(301,256,1),Ve.AZTEC_DATA_8=Ve.DATA_MATRIX_FIELD_256,Ve.MAXICODE_FIELD_64=Ve.AZTEC_DATA_6;let uo=(()=>{class w extends Kt{}return w.kind="ReedSolomonException",w})(),br=(()=>{class w extends Kt{}return w.kind="IllegalStateException",w})();class fo{constructor(o){this.field=o}decode(o,s){const l=this.field,c=new Jt(l,o),d=new Int32Array(s);let f=!0;for(let b=0;b<s;b++){const M=c.evaluateAt(l.exp(b+l.getGeneratorBase()));d[d.length-1-b]=M,0!==M&&(f=!1)}if(f)return;const g=new Jt(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(s,1),g,s),E=y[1],D=this.findErrorLocations(y[0]),A=this.findErrorMagnitudes(E,D);for(let b=0;b<D.length;b++){const M=o.length-1-l.log(D[b]);if(M<0)throw new uo("Bad error location");o[M]=Ve.addOrSubtract(o[M],A[b])}}runEuclideanAlgorithm(o,s,l){if(o.getDegree()<s.getDegree()){const b=o;o=s,s=b}const c=this.field;let d=o,f=s,g=c.getZero(),y=c.getOne();for(;f.getDegree()>=(l/2|0);){let b=d,M=g;if(d=f,g=y,d.isZero())throw new uo("r_{i-1} was zero");f=b;let T=c.getZero();const O=d.getCoefficient(d.getDegree()),L=c.inverse(O);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const $=f.getDegree()-d.getDegree(),Q=c.multiply(f.getCoefficient(f.getDegree()),L);T=T.addOrSubtract(c.buildMonomial($,Q)),f=f.addOrSubtract(d.multiplyByMonomial($,Q))}if(y=T.multiply(g).addOrSubtract(M),f.getDegree()>=d.getDegree())throw new br("Division algorithm failed to reduce polynomial?")}const C=y.getCoefficient(0);if(0===C)throw new uo("sigmaTilde(0) was zero");const E=c.inverse(C);return[y.multiplyScalar(E),f.multiplyScalar(E)]}findErrorLocations(o){const s=o.getDegree();if(1===s)return Int32Array.from([o.getCoefficient(1)]);const l=new Int32Array(s);let c=0;const d=this.field;for(let f=1;f<d.getSize()&&c<s;f++)0===o.evaluateAt(f)&&(l[c]=d.inverse(f),c++);if(c!==s)throw new uo("Error locator degree does not match number of roots");return l}findErrorMagnitudes(o,s){const l=s.length,c=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const g=d.inverse(s[f]);let y=1;for(let C=0;C<l;C++)if(f!==C){const E=d.multiply(s[C],g);y=d.multiply(y,1&E?-2&E:1|E)}c[f]=d.multiply(o.evaluateAt(g),d.inverse(y)),0!==d.getGeneratorBase()&&(c[f]=d.multiply(c[f],g))}return c}}var on=function(w){return w[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY",w}(on||{});let ac=(()=>{class w{decode(s){this.ddata=s;let l=s.getBits(),c=this.extractBits(l),d=this.correctBits(c),f=w.convertBoolArrayToByteArray(d),g=w.getEncodedData(d),y=new co(f,g,null,null);return y.setNumBits(d.length),y}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,c=on.UPPER,d=on.UPPER,f="",g=0;for(;g<l;)if(d===on.BINARY){if(l-g<5)break;let y=w.readCode(s,g,5);if(g+=5,0===y){if(l-g<11)break;y=w.readCode(s,g,11)+31,g+=11}for(let C=0;C<y;C++){if(l-g<8){g=l;break}const E=w.readCode(s,g,8);f+=Ce.castAsNonUtf8Char(E),g+=8}d=c}else{let y=d===on.DIGIT?4:5;if(l-g<y)break;let C=w.readCode(s,g,y);g+=y;let E=w.getCharacter(d,C);E.startsWith("CTRL_")?(c=d,d=w.getTable(E.charAt(5)),"L"===E.charAt(6)&&(c=d)):(f+=E,d=c)}return f}static getTable(s){switch(s){case"L":return on.LOWER;case"P":return on.PUNCT;case"M":return on.MIXED;case"D":return on.DIGIT;case"B":return on.BINARY;default:return on.UPPER}}static getCharacter(s,l){switch(s){case on.UPPER:return w.UPPER_TABLE[l];case on.LOWER:return w.LOWER_TABLE[l];case on.MIXED:return w.MIXED_TABLE[l];case on.PUNCT:return w.PUNCT_TABLE[l];case on.DIGIT:return w.DIGIT_TABLE[l];default:throw new br("Bad table")}}correctBits(s){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=Ve.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=Ve.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=Ve.AZTEC_DATA_10):(c=12,l=Ve.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=s.length/c;if(f<d)throw new Z;let g=s.length%c,y=new Int32Array(f);for(let b=0;b<f;b++,g+=c)y[b]=w.readCode(s,g,c);try{new fo(l).decode(y,f-d)}catch(b){throw new Z(b)}let C=(1<<c)-1,E=0;for(let b=0;b<d;b++){let M=y[b];if(0===M||M===C)throw new Z;(1===M||M===C-1)&&E++}let D=new Array(d*c-E),A=0;for(let b=0;b<d;b++){let M=y[b];if(1===M||M===C-1)D.fill(M>1,A,A+c-1),A+=c-1;else for(let T=c-1;T>=0;--T)D[A++]=0!=(M&1<<T)}return D}extractBits(s){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),d=(l?11:14)+4*c,f=new Int32Array(d),g=new Array(this.totalBitsInLayer(c,l));if(l)for(let y=0;y<f.length;y++)f[y]=y;else{let y=d+1+2*xe.truncDivision(xe.truncDivision(d,2)-1,15),C=d/2,E=xe.truncDivision(y,2);for(let D=0;D<C;D++){let A=D+xe.truncDivision(D,15);f[C-D-1]=E-A-1,f[C+D]=E+A+1}}for(let y=0,C=0;y<c;y++){let E=4*(c-y)+(l?9:12),D=2*y,A=d-1-D;for(let b=0;b<E;b++){let M=2*b;for(let T=0;T<2;T++)g[C+M+T]=s.get(f[D+T],f[D+b]),g[C+2*E+M+T]=s.get(f[D+b],f[A-T]),g[C+4*E+M+T]=s.get(f[A-T],f[A-b]),g[C+6*E+M+T]=s.get(f[A-b],f[D+T])}C+=8*E}return g}static readCode(s,l,c){let d=0;for(let f=l;f<l+c;f++)d<<=1,s[f]&&(d|=1);return d}static readByte(s,l){let c=s.length-l;return c>=8?w.readCode(s,l,8):w.readCode(s,l,c)<<8-c}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let c=0;c<l.length;c++)l[c]=w.readByte(s,8*c);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}return w.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],w.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],w.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],w.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],w.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],w})();class je{constructor(){}static round(o){return NaN===o?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,s,l,c){const d=o-l,f=s-c;return Math.sqrt(d*d+f*f)}static sum(o){let s=0;for(let l=0,c=o.length;l!==c;l++)s+=o[l];return s}}class Ca{static floatToIntBits(o){return o}}Ca.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ie{constructor(o,s){this.x=o,this.y=s}getX(){return this.x}getY(){return this.y}equals(o){return o instanceof ie&&this.x===o.x&&this.y===o.y}hashCode(){return 31*Ca.floatToIntBits(this.x)+Ca.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const s=this.distance(o[0],o[1]),l=this.distance(o[1],o[2]),c=this.distance(o[0],o[2]);let d,f,g;if(l>=s&&l>=c?(f=o[0],d=o[1],g=o[2]):c>=l&&c>=s?(f=o[1],d=o[0],g=o[2]):(f=o[2],d=o[0],g=o[1]),this.crossProductZ(d,f,g)<0){const y=d;d=g,g=y}o[0]=d,o[1]=f,o[2]=g}static distance(o,s){return je.distance(o.x,o.y,s.x,s.y)}static crossProductZ(o,s,l){const c=s.x,d=s.y;return(l.x-c)*(o.y-d)-(l.y-d)*(o.x-c)}}class ho{constructor(o,s){this.bits=o,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class lc extends ho{constructor(o,s,l,c,d){super(o,s),this.compact=l,this.nbDatablocks=c,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let Oi=(()=>{class w{constructor(s,l,c,d){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),null==l&&(l=w.INIT_SIZE),null==c&&(c=s.getWidth()/2|0),null==d&&(d=s.getHeight()/2|0);const f=l/2|0;if(this.leftInit=c-f,this.rightInit=c+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let s=this.leftInit,l=this.rightInit,c=this.upInit,d=this.downInit,f=!1,g=!0,y=!1,C=!1,E=!1,D=!1,A=!1;const b=this.width,M=this.height;for(;g;){g=!1;let T=!0;for(;(T||!C)&&l<b;)T=this.containsBlackPoint(c,d,l,!1),T?(l++,g=!0,C=!0):C||l++;if(l>=b){f=!0;break}let O=!0;for(;(O||!E)&&d<M;)O=this.containsBlackPoint(s,l,d,!0),O?(d++,g=!0,E=!0):E||d++;if(d>=M){f=!0;break}let L=!0;for(;(L||!D)&&s>=0;)L=this.containsBlackPoint(c,d,s,!1),L?(s--,g=!0,D=!0):D||s--;if(s<0){f=!0;break}let $=!0;for(;($||!A)&&c>=0;)$=this.containsBlackPoint(s,l,c,!0),$?(c--,g=!0,A=!0):A||c--;if(c<0){f=!0;break}g&&(y=!0)}if(!f&&y){const T=l-s;let O=null;for(let B=1;null===O&&B<T;B++)O=this.getBlackPointOnSegment(s,d-B,s+B,d);if(null==O)throw new U;let L=null;for(let B=1;null===L&&B<T;B++)L=this.getBlackPointOnSegment(s,c+B,s+B,c);if(null==L)throw new U;let $=null;for(let B=1;null===$&&B<T;B++)$=this.getBlackPointOnSegment(l,c+B,l-B,c);if(null==$)throw new U;let Q=null;for(let B=1;null===Q&&B<T;B++)Q=this.getBlackPointOnSegment(l,d-B,l-B,d);if(null==Q)throw new U;return this.centerEdges(Q,O,$,L)}throw new U}getBlackPointOnSegment(s,l,c,d){const f=je.round(je.distance(s,l,c,d)),g=(c-s)/f,y=(d-l)/f,C=this.image;for(let E=0;E<f;E++){const D=je.round(s+E*g),A=je.round(l+E*y);if(C.get(D,A))return new ie(D,A)}return null}centerEdges(s,l,c,d){const f=s.getX(),g=s.getY(),y=l.getX(),C=l.getY(),E=c.getX(),D=c.getY(),A=d.getX(),b=d.getY(),M=w.CORR;return f<this.width/2?[new ie(A-M,b+M),new ie(y+M,C+M),new ie(E-M,D-M),new ie(f+M,g-M)]:[new ie(A+M,b+M),new ie(y+M,C-M),new ie(E-M,D+M),new ie(f-M,g-M)]}containsBlackPoint(s,l,c,d){const f=this.image;if(d){for(let g=s;g<=l;g++)if(f.get(g,c))return!0}else for(let g=s;g<=l;g++)if(f.get(c,g))return!0;return!1}}return w.INIT_SIZE=10,w.CORR=1,w})();class wa{static checkAndNudgePoints(o,s){const l=o.getWidth(),c=o.getHeight();let d=!0;for(let f=0;f<s.length&&d;f+=2){const g=Math.floor(s[f]),y=Math.floor(s[f+1]);if(g<-1||g>l||y<-1||y>c)throw new U;d=!1,-1===g?(s[f]=0,d=!0):g===l&&(s[f]=l-1,d=!0),-1===y?(s[f+1]=0,d=!0):y===c&&(s[f+1]=c-1,d=!0)}d=!0;for(let f=s.length-2;f>=0&&d;f-=2){const g=Math.floor(s[f]),y=Math.floor(s[f+1]);if(g<-1||g>l||y<-1||y>c)throw new U;d=!1,-1===g?(s[f]=0,d=!0):g===l&&(s[f]=l-1,d=!0),-1===y?(s[f+1]=0,d=!0):y===c&&(s[f+1]=c-1,d=!0)}}}class An{constructor(o,s,l,c,d,f,g,y,C){this.a11=o,this.a21=s,this.a31=l,this.a12=c,this.a22=d,this.a32=f,this.a13=g,this.a23=y,this.a33=C}static quadrilateralToQuadrilateral(o,s,l,c,d,f,g,y,C,E,D,A,b,M,T,O){const L=An.quadrilateralToSquare(o,s,l,c,d,f,g,y);return An.squareToQuadrilateral(C,E,D,A,b,M,T,O).times(L)}transformPoints(o){const s=o.length,l=this.a11,c=this.a12,d=this.a13,f=this.a21,g=this.a22,y=this.a23,C=this.a31,E=this.a32,D=this.a33;for(let A=0;A<s;A+=2){const b=o[A],M=o[A+1],T=d*b+y*M+D;o[A]=(l*b+f*M+C)/T,o[A+1]=(c*b+g*M+E)/T}}transformPointsWithValues(o,s){const l=this.a11,c=this.a12,d=this.a13,f=this.a21,g=this.a22,y=this.a23,C=this.a31,E=this.a32,D=this.a33,A=o.length;for(let b=0;b<A;b++){const M=o[b],T=s[b],O=d*M+y*T+D;o[b]=(l*M+f*T+C)/O,s[b]=(c*M+g*T+E)/O}}static squareToQuadrilateral(o,s,l,c,d,f,g,y){const C=o-l+d-g,E=s-c+f-y;if(0===C&&0===E)return new An(l-o,d-l,o,c-s,f-c,s,0,0,1);{const D=l-d,A=g-d,b=c-f,M=y-f,T=D*M-A*b,O=(C*M-A*E)/T,L=(D*E-C*b)/T;return new An(l-o+O*l,g-o+L*g,o,c-s+O*c,y-s+L*y,s,O,L,1)}}static quadrilateralToSquare(o,s,l,c,d,f,g,y){return An.squareToQuadrilateral(o,s,l,c,d,f,g,y).buildAdjoint()}buildAdjoint(){return new An(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new An(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class xa extends wa{sampleGrid(o,s,l,c,d,f,g,y,C,E,D,A,b,M,T,O,L,$,Q){const B=An.quadrilateralToQuadrilateral(c,d,f,g,y,C,E,D,A,b,M,T,O,L,$,Q);return this.sampleGridWithTransform(o,s,l,B)}sampleGridWithTransform(o,s,l,c){if(s<=0||l<=0)throw new U;const d=new Vt(s,l),f=new Float32Array(2*s);for(let g=0;g<l;g++){const y=f.length,C=g+.5;for(let E=0;E<y;E+=2)f[E]=E/2+.5,f[E+1]=C;c.transformPoints(f),wa.checkAndNudgePoints(o,f);try{for(let E=0;E<y;E+=2)o.get(Math.floor(f[E]),Math.floor(f[E+1]))&&d.set(E/2,g)}catch{throw new U}}return d}}class Br{static setGridSampler(o){Br.gridSampler=o}static getInstance(){return Br.gridSampler}}Br.gridSampler=new xa;class sn{constructor(o,s){this.x=o,this.y=s}toResultPoint(){return new ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class cc{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let s=this.getMatrixCenter(),l=this.getBullsEyeCorners(s);if(o){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new lc(c,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!(this.isValidPoint(o[0])&&this.isValidPoint(o[1])&&this.isValidPoint(o[2])&&this.isValidPoint(o[3])))throw new U;let s=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(o[0],o[1],s),this.sampleLine(o[1],o[2],s),this.sampleLine(o[2],o[3],s),this.sampleLine(o[3],o[0],s)]);this.shift=this.getRotation(l,s);let c=0;for(let f=0;f<4;f++){let g=l[(this.shift+f)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let d=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=1+(d>>6),this.nbDataBlocks=1+(63&d)):(this.nbLayers=1+(d>>11),this.nbDataBlocks=1+(2047&d))}getRotation(o,s){let l=0;o.forEach((c,d,f)=>{l=(c>>s-2<<1)+(1&c)+(l<<3)}),l=((1&l)<<11)+(l>>1);for(let c=0;c<4;c++)if(xe.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new U}getCorrectedParameterData(o,s){let l,c;s?(l=7,c=2):(l=10,c=4);let d=l-c,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=15&o,o>>=4;try{new fo(Ve.AZTEC_PARAM).decode(f,d)}catch{throw new U}let g=0;for(let y=0;y<c;y++)g=(g<<4)+f[y];return g}getBullsEyeCorners(o){let s=o,l=o,c=o,d=o,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(s,f,1,-1),A=this.getFirstDifferent(l,f,1,1),b=this.getFirstDifferent(c,f,-1,1),M=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let T=this.distancePoint(M,D)*this.nbCenterLayers/(this.distancePoint(d,s)*(this.nbCenterLayers+2));if(T<.75||T>1.25||!this.isWhiteOrBlackRectangle(D,A,b,M))break}s=D,l=A,c=b,d=M,f=!f}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new U;this.compact=5===this.nbCenterLayers;let g=new ie(s.getX()+.5,s.getY()-.5),y=new ie(l.getX()+.5,l.getY()+.5),C=new ie(c.getX()-.5,c.getY()+.5),E=new ie(d.getX()-.5,d.getY()-.5);return this.expandSquare([g,y,C,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,s,l,c;try{let g=new Oi(this.image).detect();o=g[0],s=g[1],l=g[2],c=g[3]}catch{let y=this.image.getWidth()/2,C=this.image.getHeight()/2;o=this.getFirstDifferent(new sn(y+7,C-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new sn(y+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new sn(y-7,C+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new sn(y-7,C-7),!1,-1,-1).toResultPoint()}let d=je.round((o.getX()+c.getX()+s.getX()+l.getX())/4),f=je.round((o.getY()+c.getY()+s.getY()+l.getY())/4);try{let g=new Oi(this.image,15,d,f).detect();o=g[0],s=g[1],l=g[2],c=g[3]}catch{o=this.getFirstDifferent(new sn(d+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new sn(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new sn(d-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new sn(d-7,f-7),!1,-1,-1).toResultPoint()}return d=je.round((o.getX()+c.getX()+s.getX()+l.getX())/4),f=je.round((o.getY()+c.getY()+s.getY()+l.getY())/4),new sn(d,f)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,s,l,c,d){let f=Br.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,C=g/2+this.nbCenterLayers;return f.sampleGrid(o,g,g,y,y,C,y,C,C,y,C,s.getX(),s.getY(),l.getX(),l.getY(),c.getX(),c.getY(),d.getX(),d.getY())}sampleLine(o,s,l){let c=0,d=this.distanceResultPoint(o,s),f=d/l,g=o.getX(),y=o.getY(),C=f*(s.getX()-o.getX())/d,E=f*(s.getY()-o.getY())/d;for(let D=0;D<l;D++)this.image.get(je.round(g+D*C),je.round(y+D*E))&&(c|=1<<l-D-1);return c}isWhiteOrBlackRectangle(o,s,l,c){o=new sn(o.getX()-3,o.getY()+3),s=new sn(s.getX()-3,s.getY()-3),l=new sn(l.getX()+3,l.getY()-3),c=new sn(c.getX()+3,c.getY()+3);let f=this.getColor(c,o);if(0===f)return!1;let g=this.getColor(o,s);return g===f&&(g=this.getColor(s,l),g===f)&&(g=this.getColor(l,c),g===f)}getColor(o,s){let l=this.distancePoint(o,s),c=(s.getX()-o.getX())/l,d=(s.getY()-o.getY())/l,f=0,g=o.getX(),y=o.getY(),C=this.image.get(o.getX(),o.getY()),E=Math.ceil(l);for(let A=0;A<E;A++)g+=c,y+=d,this.image.get(je.round(g),je.round(y))!==C&&f++;let D=f/l;return D>.1&&D<.9?0:D<=.1===C?1:-1}getFirstDifferent(o,s,l,c){let d=o.getX()+l,f=o.getY()+c;for(;this.isValid(d,f)&&this.image.get(d,f)===s;)d+=l,f+=c;for(d-=l,f-=c;this.isValid(d,f)&&this.image.get(d,f)===s;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===s;)f+=c;return f-=c,new sn(d,f)}expandSquare(o,s,l){let c=l/(2*s),d=o[0].getX()-o[2].getX(),f=o[0].getY()-o[2].getY(),g=(o[0].getX()+o[2].getX())/2,y=(o[0].getY()+o[2].getY())/2,C=new ie(g+c*d,y+c*f),E=new ie(g-c*d,y-c*f);return d=o[1].getX()-o[3].getX(),f=o[1].getY()-o[3].getY(),g=(o[1].getX()+o[3].getX())/2,y=(o[1].getY()+o[3].getY())/2,[C,new ie(g+c*d,y+c*f),E,new ie(g-c*d,y-c*f)]}isValid(o,s){return o>=0&&o<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(o){let s=je.round(o.getX()),l=je.round(o.getY());return this.isValid(s,l)}distancePoint(o,s){return je.distance(o.getX(),o.getY(),s.getX(),s.getY())}distanceResultPoint(o,s){return je.distance(o.getX(),o.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(xe.truncDivision(this.nbLayers-4,8)+1)+15}}class Yn{decode(o,s=null){let l=null,c=new cc(o.getBlackMatrix()),d=null,f=null;try{let E=c.detectMirror(!1);d=E.getPoints(),this.reportFoundResultPoints(s,d),f=(new ac).decode(E)}catch(E){l=E}if(null==f)try{let E=c.detectMirror(!0);d=E.getPoints(),this.reportFoundResultPoints(s,d),f=(new ac).decode(E)}catch(E){throw l??E}let g=new pt(f.getText(),f.getRawBytes(),f.getNumBits(),d,fe.AZTEC,it.currentTimeMillis()),y=f.getByteSegments();null!=y&&g.putMetadata(Re.BYTE_SEGMENTS,y);let C=f.getECLevel();return null!=C&&g.putMetadata(Re.ERROR_CORRECTION_LEVEL,C),g}reportFoundResultPoints(o,s){if(null!=o){let l=o.get(ht.NEED_RESULT_POINT_CALLBACK);null!=l&&s.forEach((c,d,f)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class Tt{decode(o,s){try{return this.doDecode(o,s)}catch{if(s&&!0===s.get(ht.TRY_HARDER)&&o.isRotateSupported()){const d=o.rotateCounterClockwise(),f=this.doDecode(d,s),g=f.getResultMetadata();let y=270;null!==g&&!0===g.get(Re.ORIENTATION)&&(y+=g.get(Re.ORIENTATION)%360),f.putMetadata(Re.ORIENTATION,y);const C=f.getResultPoints();if(null!==C){const E=d.getHeight();for(let D=0;D<C.length;D++)C[D]=new ie(E-C[D].getY()-1,C[D].getX())}return f}throw new U}}reset(){}doDecode(o,s){const l=o.getWidth(),c=o.getHeight();let d=new ot(l);const f=s&&!0===s.get(ht.TRY_HARDER),g=Math.max(1,c>>(f?8:5));let y;y=f?c:15;const C=Math.trunc(c/2);for(let E=0;E<y;E++){const D=Math.trunc((E+1)/2),b=C+g*(0==(1&E)?D:-D);if(b<0||b>=c)break;try{d=o.getBlackRow(b,d)}catch{continue}for(let M=0;M<2;M++){if(1===M&&(d.reverse(),s&&!0===s.get(ht.NEED_RESULT_POINT_CALLBACK))){const T=new Map;s.forEach((O,L)=>T.set(L,O)),T.delete(ht.NEED_RESULT_POINT_CALLBACK),s=T}try{const T=this.decodeRow(b,d,s);if(1===M){T.putMetadata(Re.ORIENTATION,180);const O=T.getResultPoints();null!==O&&(O[0]=new ie(l-O[0].getX()-1,O[0].getY()),O[1]=new ie(l-O[1].getX()-1,O[1].getY()))}return T}catch{}}}throw new U}static recordPattern(o,s,l){const c=l.length;for(let C=0;C<c;C++)l[C]=0;const d=o.getSize();if(s>=d)throw new U;let f=!o.get(s),g=0,y=s;for(;y<d;){if(o.get(y)!==f)l[g]++;else{if(++g===c)break;l[g]=1,f=!f}y++}if(g!==c&&(g!==c-1||y!==d))throw new U}static recordPatternInReverse(o,s,l){let c=l.length,d=o.get(s);for(;s>0&&c>=0;)o.get(--s)!==d&&(c--,d=!d);if(c>=0)throw new U;Tt.recordPattern(o,s+1,l)}static patternMatchVariance(o,s,l){const c=o.length;let d=0,f=0;for(let C=0;C<c;C++)d+=o[C],f+=s[C];if(d<f)return Number.POSITIVE_INFINITY;const g=d/f;l*=g;let y=0;for(let C=0;C<c;C++){const E=o[C],D=s[C]*g,A=E>D?E-D:D-E;if(A>l)return Number.POSITIVE_INFINITY;y+=A}return y/d}}class X extends Tt{static findStartPattern(o){const s=o.getSize(),l=o.getNextSet(0);let c=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,g=!1;for(let C=l;C<s;C++)if(o.get(C)!==g)d[c]++;else{if(5===c){let E=X.MAX_AVG_VARIANCE,D=-1;for(let A=X.CODE_START_A;A<=X.CODE_START_C;A++){const b=Tt.patternMatchVariance(d,X.CODE_PATTERNS[A],X.MAX_INDIVIDUAL_VARIANCE);b<E&&(E=b,D=A)}if(D>=0&&o.isRange(Math.max(0,f-(C-f)/2),f,!1))return Int32Array.from([f,C,D]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[c-1]=0,d[c]=0,c--}else c++;d[c]=1,g=!g}throw new U}static decodeCode(o,s,l){Tt.recordPattern(o,l,s);let c=X.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<X.CODE_PATTERNS.length;f++){const y=this.patternMatchVariance(s,X.CODE_PATTERNS[f],X.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,d=f)}if(d>=0)return d;throw new U}decodeRow(o,s,l){const c=l&&!0===l.get(ht.ASSUME_GS1),d=X.findStartPattern(s),f=d[2];let g=0;const y=new Uint8Array(20);let C;switch(y[g++]=f,f){case X.CODE_START_A:C=X.CODE_CODE_A;break;case X.CODE_START_B:C=X.CODE_CODE_B;break;case X.CODE_START_C:C=X.CODE_CODE_C;break;default:throw new Z}let E=!1,D=!1,A="",b=d[0],M=d[1];const T=Int32Array.from([0,0,0,0,0,0]);let O=0,L=0,$=f,Q=0,B=!0,Oe=!1,ve=!1;for(;!E;){const zi=D;switch(D=!1,O=L,L=X.decodeCode(s,T,M),y[g++]=L,L!==X.CODE_STOP&&(B=!0),L!==X.CODE_STOP&&(Q++,$+=Q*L),b=M,M+=T.reduce((Gi,tf)=>Gi+tf,0),L){case X.CODE_START_A:case X.CODE_START_B:case X.CODE_START_C:throw new Z}switch(C){case X.CODE_CODE_A:if(L<64)A+=String.fromCharCode(ve===Oe?" ".charCodeAt(0)+L:" ".charCodeAt(0)+L+128),ve=!1;else if(L<96)A+=String.fromCharCode(ve===Oe?L-64:L+64),ve=!1;else switch(L!==X.CODE_STOP&&(B=!1),L){case X.CODE_FNC_1:c&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case X.CODE_FNC_2:case X.CODE_FNC_3:break;case X.CODE_FNC_4_A:!Oe&&ve?(Oe=!0,ve=!1):Oe&&ve?(Oe=!1,ve=!1):ve=!0;break;case X.CODE_SHIFT:D=!0,C=X.CODE_CODE_B;break;case X.CODE_CODE_B:C=X.CODE_CODE_B;break;case X.CODE_CODE_C:C=X.CODE_CODE_C;break;case X.CODE_STOP:E=!0}break;case X.CODE_CODE_B:if(L<96)A+=String.fromCharCode(ve===Oe?" ".charCodeAt(0)+L:" ".charCodeAt(0)+L+128),ve=!1;else switch(L!==X.CODE_STOP&&(B=!1),L){case X.CODE_FNC_1:c&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case X.CODE_FNC_2:case X.CODE_FNC_3:break;case X.CODE_FNC_4_B:!Oe&&ve?(Oe=!0,ve=!1):Oe&&ve?(Oe=!1,ve=!1):ve=!0;break;case X.CODE_SHIFT:D=!0,C=X.CODE_CODE_A;break;case X.CODE_CODE_A:C=X.CODE_CODE_A;break;case X.CODE_CODE_C:C=X.CODE_CODE_C;break;case X.CODE_STOP:E=!0}break;case X.CODE_CODE_C:if(L<100)L<10&&(A+="0"),A+=L;else switch(L!==X.CODE_STOP&&(B=!1),L){case X.CODE_FNC_1:c&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case X.CODE_CODE_A:C=X.CODE_CODE_A;break;case X.CODE_CODE_B:C=X.CODE_CODE_B;break;case X.CODE_STOP:E=!0}}zi&&(C=C===X.CODE_CODE_A?X.CODE_CODE_B:X.CODE_CODE_A)}const pn=M-b;if(M=s.getNextUnset(M),!s.isRange(M,Math.min(s.getSize(),M+(M-b)/2),!1))throw new U;if($-=Q*O,$%103!==O)throw new Pt;const Jn=A.length;if(0===Jn)throw new U;Jn>0&&B&&(A=A.substring(0,C===X.CODE_CODE_C?Jn-2:Jn-1));const mn=(d[1]+d[0])/2,ct=b+pn/2,Gt=y.length,bn=new Uint8Array(Gt);for(let zi=0;zi<Gt;zi++)bn[zi]=y[zi];const Hi=[new ie(mn,o),new ie(ct,o)];return new pt(A,bn,0,Hi,fe.CODE_128,(new Date).getTime())}}X.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],X.MAX_AVG_VARIANCE=.25,X.MAX_INDIVIDUAL_VARIANCE=.7,X.CODE_SHIFT=98,X.CODE_CODE_C=99,X.CODE_CODE_B=100,X.CODE_CODE_A=101,X.CODE_FNC_1=102,X.CODE_FNC_2=97,X.CODE_FNC_3=96,X.CODE_FNC_4_A=101,X.CODE_FNC_4_B=100,X.CODE_START_A=103,X.CODE_START_B=104,X.CODE_START_C=105,X.CODE_STOP=106;let Ea=(()=>{class w extends Tt{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,c){let d=this.counters;d.fill(0),this.decodeRowResult="";let C,E,f=w.findAsteriskPattern(l,d),g=l.getNextSet(f[1]),y=l.getSize();do{w.recordPattern(l,g,d);let O=w.toNarrowWidePattern(d);if(O<0)throw new U;C=w.patternToChar(O),this.decodeRowResult+=C,E=g;for(let L of d)g+=L;g=l.getNextSet(g)}while("*"!==C);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b,D=0;for(let O of d)D+=O;if(g!==y&&2*(g-E-D)<D)throw new U;if(this.usingCheckDigit){let O=this.decodeRowResult.length-1,L=0;for(let $=0;$<O;$++)L+=w.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(O)!==w.ALPHABET_STRING.charAt(L%43))throw new Pt;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(0===this.decodeRowResult.length)throw new U;b=this.extendedMode?w.decodeExtended(this.decodeRowResult):this.decodeRowResult;let T=E+D/2;return new pt(b,null,0,[new ie((f[1]+f[0])/2,s),new ie(T,s)],fe.CODE_39,(new Date).getTime())}static findAsteriskPattern(s,l){let c=s.getSize(),d=s.getNextSet(0),f=0,g=d,y=!1,C=l.length;for(let E=d;E<c;E++)if(s.get(E)!==y)l[f]++;else{if(f===C-1){if(this.toNarrowWidePattern(l)===w.ASTERISK_ENCODING&&s.isRange(Math.max(0,g-Math.floor((E-g)/2)),g,!1))return[g,E];g+=l[0]+l[1],l.copyWithin(0,2,2+f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,y=!y}throw new U}static toNarrowWidePattern(s){let d,l=s.length,c=0;do{let f=2147483647;for(let C of s)C<f&&C>c&&(f=C);c=f,d=0;let g=0,y=0;for(let C=0;C<l;C++){let E=s[C];E>c&&(y|=1<<l-1-C,d++,g+=E)}if(3===d){for(let C=0;C<l&&d>0;C++){let E=s[C];if(E>c&&(d--,2*E>=g))return-1}return y}}while(d>3);return-1}static patternToChar(s){for(let l=0;l<w.CHARACTER_ENCODINGS.length;l++)if(w.CHARACTER_ENCODINGS[l]===s)return w.ALPHABET_STRING.charAt(l);if(s===w.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(s){let l=s.length,c="";for(let d=0;d<l;d++){let f=s.charAt(d);if("+"===f||"$"===f||"%"===f||"/"===f){let g=s.charAt(d+1),y="\0";switch(f){case"+":if(!(g>="A"&&g<="Z"))throw new Z;y=String.fromCharCode(g.charCodeAt(0)+32);break;case"$":if(!(g>="A"&&g<="Z"))throw new Z;y=String.fromCharCode(g.charCodeAt(0)-64);break;case"%":if(g>="A"&&g<="E")y=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")y=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")y=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")y=String.fromCharCode(g.charCodeAt(0)+43);else if("U"===g)y="\0";else if("V"===g)y="@";else if("W"===g)y="`";else{if("X"!==g&&"Y"!==g&&"Z"!==g)throw new Z;y="\x7f"}break;case"/":if(g>="A"&&g<="O")y=String.fromCharCode(g.charCodeAt(0)-32);else{if("Z"!==g)throw new Z;y=":"}}c+=y,d++}else c+=f}return c}}return w.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",w.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],w.ASTERISK_ENCODING=148,w})();class at extends Tt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,s,l){let c=this.decodeStart(s),d=this.decodeEnd(s),f=new Xe;at.decodeMiddle(s,c[1],d[0],f);let g=f.toString(),y=null;null!=l&&(y=l.get(ht.ALLOWED_LENGTHS)),null==y&&(y=at.DEFAULT_ALLOWED_LENGTHS);let C=g.length,E=!1,D=0;for(let M of y){if(C===M){E=!0;break}M>D&&(D=M)}if(!E&&C>D&&(E=!0),!E)throw new Z;const A=[new ie(c[1],o),new ie(d[0],o)];return new pt(g,null,0,A,fe.ITF,(new Date).getTime())}static decodeMiddle(o,s,l,c){let d=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(d.fill(0),f.fill(0),g.fill(0);s<l;){Tt.recordPattern(o,s,d);for(let C=0;C<5;C++){let E=2*C;f[C]=d[E],g[C]=d[E+1]}let y=at.decodeDigit(f);c.append(y.toString()),y=this.decodeDigit(g),c.append(y.toString()),d.forEach(function(C){s+=C})}}decodeStart(o){let s=at.skipWhiteSpace(o),l=at.findGuardPattern(o,s,at.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(o,l[0]),l}validateQuietZone(o,s){let l=10*this.narrowLineWidth;l=l<s?l:s;for(let c=s-1;l>0&&c>=0&&!o.get(c);c--)l--;if(0!==l)throw new U}static skipWhiteSpace(o){const s=o.getSize(),l=o.getNextSet(0);if(l===s)throw new U;return l}decodeEnd(o){o.reverse();try{let l,s=at.skipWhiteSpace(o);try{l=at.findGuardPattern(o,s,at.END_PATTERN_REVERSED[0])}catch(d){d instanceof U&&(l=at.findGuardPattern(o,s,at.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,l[0]);let c=l[0];return l[0]=o.getSize()-l[1],l[1]=o.getSize()-c,l}finally{o.reverse()}}static findGuardPattern(o,s,l){let c=l.length,d=new Int32Array(c),f=o.getSize(),g=!1,y=0,C=s;d.fill(0);for(let E=s;E<f;E++)if(o.get(E)!==g)d[y]++;else{if(y===c-1){if(Tt.patternMatchVariance(d,l,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return[C,E];C+=d[0]+d[1],it.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,g=!g}throw new U}static decodeDigit(o){let s=at.MAX_AVG_VARIANCE,l=-1,c=at.PATTERNS.length;for(let d=0;d<c;d++){let g=Tt.patternMatchVariance(o,at.PATTERNS[d],at.MAX_INDIVIDUAL_VARIANCE);g<s?(s=g,l=d):g===s&&(l=-1)}if(l>=0)return l%10;throw new U}}at.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],at.MAX_AVG_VARIANCE=.38,at.MAX_INDIVIDUAL_VARIANCE=.5,at.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],at.START_PATTERN=Int32Array.from([1,1,1,1]),at.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class vt extends Tt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l,s=!1,c=0,d=Int32Array.from([0,0,0]);for(;!s;){d=Int32Array.from([0,0,0]),l=vt.findGuardPattern(o,c,!1,this.START_END_PATTERN,d);let f=l[0];c=l[1];let g=f-(c-f);g>=0&&(s=o.isRange(g,f,!1))}return l}static checkChecksum(o){return vt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let s=o.length;if(0===s)return!1;let l=parseInt(o.charAt(s-1),10);return vt.getStandardUPCEANChecksum(o.substring(0,s-1))===l}static getStandardUPCEANChecksum(o){let s=o.length,l=0;for(let c=s-1;c>=0;c-=2){let d=o.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new Z;l+=d}l*=3;for(let c=s-2;c>=0;c-=2){let d=o.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new Z;l+=d}return(1e3-l)%10}static decodeEnd(o,s){return vt.findGuardPattern(o,s,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,s,l,c){return this.findGuardPattern(o,s,l,c,new Int32Array(c.length))}static findGuardPattern(o,s,l,c,d){let f=o.getSize(),g=0,y=s=l?o.getNextUnset(s):o.getNextSet(s),C=c.length,E=l;for(let D=s;D<f;D++)if(o.get(D)!==E)d[g]++;else{if(g===C-1){if(Tt.patternMatchVariance(d,c,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return Int32Array.from([y,D]);y+=d[0]+d[1];let A=d.slice(2,d.length-1);for(let b=0;b<g-1;b++)d[b]=A[b];d[g-1]=0,d[g]=0,g--}else g++;d[g]=1,E=!E}throw new U}static decodeDigit(o,s,l,c){this.recordPattern(o,l,s);let d=this.MAX_AVG_VARIANCE,f=-1,g=c.length;for(let y=0;y<g;y++){let E=Tt.patternMatchVariance(s,c[y],vt.MAX_INDIVIDUAL_VARIANCE);E<d&&(d=E,f=y)}if(f>=0)return f;throw new U}}vt.MAX_AVG_VARIANCE=.48,vt.MAX_INDIVIDUAL_VARIANCE=.7,vt.START_END_PATTERN=Int32Array.from([1,1,1]),vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class go{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,s,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(s,l,c),f=c.toString(),g=go.parseExtensionString(f),y=[new ie((l[0]+l[1])/2,o),new ie(d,o)],C=new pt(f,null,0,y,fe.UPC_EAN_EXTENSION,(new Date).getTime());return null!=g&&C.putAllMetadata(g),C}decodeMiddle(o,s,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=o.getSize(),f=s[1],g=0;for(let C=0;C<5&&f<d;C++){let E=vt.decodeDigit(o,c,f,vt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let D of c)f+=D;E>=10&&(g|=1<<4-C),4!==C&&(f=o.getNextSet(f),f=o.getNextUnset(f))}if(5!==l.length)throw new U;let y=this.determineCheckDigit(g);if(go.extensionChecksum(l.toString())!==y)throw new U;return f}static extensionChecksum(o){let s=o.length,l=0;for(let c=s-2;c>=0;c-=2)l+=o.charAt(c).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let c=s-1;c>=0;c-=2)l+=o.charAt(c).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(o){for(let s=0;s<10;s++)if(o===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new U}static parseExtensionString(o){if(5!==o.length)return null;let s=go.parseExtension5String(o);return null==s?null:new Map([[Re.SUGGESTED_PRICE,s]])}static parseExtension5String(o){let s;switch(o.charAt(0)){case"0":s="\xa3";break;case"5":s="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s=""}let l=parseInt(o.substring(1)),d=l%100;return s+(l/100).toString()+"."+(d<10?"0"+d:d.toString())}}class va{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,s,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(s,l,c),f=c.toString(),g=va.parseExtensionString(f),y=[new ie((l[0]+l[1])/2,o),new ie(d,o)],C=new pt(f,null,0,y,fe.UPC_EAN_EXTENSION,(new Date).getTime());return null!=g&&C.putAllMetadata(g),C}decodeMiddle(o,s,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=o.getSize(),f=s[1],g=0;for(let y=0;y<2&&f<d;y++){let C=vt.decodeDigit(o,c,f,vt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let E of c)f+=E;C>=10&&(g|=1<<1-y),1!==y&&(f=o.getNextSet(f),f=o.getNextUnset(f))}if(2!==l.length)throw new U;if(parseInt(l.toString())%4!==g)throw new U;return f}static parseExtensionString(o){return 2!==o.length?null:new Map([[Re.ISSUE_NUMBER,parseInt(o)]])}}class dc{static decodeRow(o,s,l){let c=vt.findGuardPattern(s,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new go).decodeRow(o,s,c)}catch{return(new va).decodeRow(o,s,c)}}}dc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class $e extends vt{constructor(){super(),this.decodeRowStringBuffer="",$e.L_AND_G_PATTERNS=$e.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let s=$e.L_PATTERNS[o-10],l=new Int32Array(s.length);for(let c=0;c<s.length;c++)l[c]=s[s.length-c-1];$e.L_AND_G_PATTERNS[o]=l}}decodeRow(o,s,l){let c=$e.findStartGuardPattern(s),d=null==l?null:l.get(ht.NEED_RESULT_POINT_CALLBACK);if(null!=d){const B=new ie((c[0]+c[1])/2,o);d.foundPossibleResultPoint(B)}let f=this.decodeMiddle(s,c,this.decodeRowStringBuffer),g=f.rowOffset,y=f.resultString;if(null!=d){const B=new ie(g,o);d.foundPossibleResultPoint(B)}let C=this.decodeEnd(s,g);if(null!=d){const B=new ie((C[0]+C[1])/2,o);d.foundPossibleResultPoint(B)}let E=C[1],D=E+(E-C[0]);if(D>=s.getSize()||!s.isRange(E,D,!1))throw new U;let A=y.toString();if(A.length<8)throw new Z;if(!$e.checkChecksum(A))throw new Pt;let b=(c[1]+c[0])/2,M=(C[1]+C[0])/2,T=this.getBarcodeFormat(),O=[new ie(b,o),new ie(M,o)],L=new pt(A,null,0,O,T,(new Date).getTime()),$=0;try{let B=dc.decodeRow(o,s,C[1]);L.putMetadata(Re.UPC_EAN_EXTENSION,B.getText()),L.putAllMetadata(B.getResultMetadata()),L.addResultPoints(B.getResultPoints()),$=B.getText().length}catch{}let Q=null==l?null:l.get(ht.ALLOWED_EAN_EXTENSIONS);if(null!=Q){let B=!1;for(let Oe in Q)if($.toString()===Oe){B=!0;break}if(!B)throw new U}return L}decodeEnd(o,s){return $e.findGuardPattern(o,s,!1,$e.START_END_PATTERN,new Int32Array($e.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return $e.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let s=o.length;if(0===s)return!1;let l=parseInt(o.charAt(s-1),10);return $e.getStandardUPCEANChecksum(o.substring(0,s-1))===l}static getStandardUPCEANChecksum(o){let s=o.length,l=0;for(let c=s-1;c>=0;c-=2){let d=o.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new Z;l+=d}l*=3;for(let c=s-2;c>=0;c-=2){let d=o.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new Z;l+=d}return(1e3-l)%10}}let Ho=(()=>{class w extends $e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=s.getSize(),g=l[1],y=0;for(let E=0;E<6&&g<f;E++){let D=$e.decodeDigit(s,d,g,$e.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+D%10);for(let A of d)g+=A;D>=10&&(y|=1<<5-E)}c=w.determineFirstDigit(c,y),g=$e.findGuardPattern(s,g,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&g<f;E++){let D=$e.decodeDigit(s,d,g,$e.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+D);for(let A of d)g+=A}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return fe.EAN_13}static determineFirstDigit(s,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return String.fromCharCode("0".charCodeAt(0)+c)+s;throw new U}}return w.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],w})();class fc extends $e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,s,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=o.getSize(),f=s[1];for(let y=0;y<4&&f<d;y++){let C=$e.decodeDigit(o,c,f,$e.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C);for(let E of c)f+=E}f=$e.findGuardPattern(o,f,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let C=$e.decodeDigit(o,c,f,$e.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C);for(let E of c)f+=E}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return fe.EAN_8}}class hc extends $e{constructor(){super(...arguments),this.ean13Reader=new Ho}getBarcodeFormat(){return fe.UPC_A}decode(o,s){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,s,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,s,l))}decodeMiddle(o,s,l){return this.ean13Reader.decodeMiddle(o,s,l)}maybeReturnResult(o){let s=o.getText();if("0"===s.charAt(0)){let l=new pt(s.substring(1),null,null,o.getResultPoints(),fe.UPC_A);return null!=o.getResultMetadata()&&l.putAllMetadata(o.getResultMetadata()),l}throw new U}reset(){this.ean13Reader.reset()}}class dr extends $e{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,s,l){const c=this.decodeMiddleCounters.map(C=>C);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const d=o.getSize();let f=s[1],g=0;for(let C=0;C<6&&f<d;C++){const E=dr.decodeDigit(o,c,f,dr.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let D of c)f+=D;E>=10&&(g|=1<<5-C)}return{rowOffset:f,resultString:dr.determineNumSysAndCheckDigit(l,g)}}decodeEnd(o,s){return dr.findGuardPatternWithoutCounters(o,s,!0,dr.MIDDLE_END_PATTERN)}checkChecksum(o){return $e.checkChecksum(dr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,s){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c])return String.fromCharCode("0".charCodeAt(0)+l)+o+String.fromCharCode("0".charCodeAt(0)+c);throw U.getNotFoundInstance()}getBarcodeFormat(){return fe.UPC_E}static convertUPCEtoUPCA(o){const s=o.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new Xe;l.append(o.charAt(0));let c=s[5];switch(c){case 0:case 1:case 2:l.appendChars(s,0,2),l.append(c),l.append("0000"),l.appendChars(s,2,3);break;case 3:l.appendChars(s,0,3),l.append("00000"),l.appendChars(s,3,2);break;case 4:l.appendChars(s,0,4),l.append("00000"),l.append(s[4]);break;default:l.appendChars(s,0,5),l.append("0000"),l.append(c)}return o.length>=8&&l.append(o.charAt(7)),l.toString()}}dr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class zo extends Tt{constructor(o){super();let s=null==o?null:o.get(ht.POSSIBLE_FORMATS),l=[];Ue(s)?(l.push(new Ho),l.push(new hc),l.push(new fc),l.push(new dr)):(s.indexOf(fe.EAN_13)>-1&&l.push(new Ho),s.indexOf(fe.UPC_A)>-1&&l.push(new hc),s.indexOf(fe.EAN_8)>-1&&l.push(new fc),s.indexOf(fe.UPC_E)>-1&&l.push(new dr)),this.readers=l}decodeRow(o,s,l){for(let c of this.readers)try{const d=c.decodeRow(o,s,l),f=d.getBarcodeFormat()===fe.EAN_13&&"0"===d.getText().charAt(0),g=null==l?null:l.get(ht.POSSIBLE_FORMATS),y=null==g||g.includes(fe.UPC_A);if(f&&y){const C=d.getRawBytes(),E=new pt(d.getText().substring(1),C,C?C.length:null,d.getResultPoints(),fe.UPC_A);return E.putAllMetadata(d.getResultMetadata()),E}return d}catch{}throw new U}reset(){for(let o of this.readers)o.reset()}}let Vr=(()=>{class w extends Tt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let c=0;c<l.length;c++)if(Tt.patternMatchVariance(s,l[c],w.MAX_INDIVIDUAL_VARIANCE)<w.MAX_AVG_VARIANCE)return c;throw new U}static count(s){return je.sum(new Int32Array(s))}static increment(s,l){let c=0,d=l[0];for(let f=1;f<s.length;f++)l[f]>d&&(d=l[f],c=f);s[c]++}static decrement(s,l){let c=0,d=l[0];for(let f=1;f<s.length;f++)l[f]<d&&(d=l[f],c=f);s[c]--}static isFinderPattern(s){let l=s[0]+s[1],d=l/(l+s[2]+s[3]);if(d>=w.MIN_FINDER_PATTERN_RATIO&&d<=w.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let y of s)y>g&&(g=y),y<f&&(f=y);return g<10*f}return!1}}return w.MAX_AVG_VARIANCE=.2,w.MAX_INDIVIDUAL_VARIANCE=.45,w.MIN_FINDER_PATTERN_RATIO=9.5/12,w.MAX_FINDER_PATTERN_RATIO=12.5/14,w})();class li{constructor(o,s){this.value=o,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){return o instanceof li&&this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class po{constructor(o,s,l,c,d){this.value=o,this.startEnd=s,this.value=o,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new ie(l,d)),this.resultPoints.push(new ie(c,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){return o instanceof po&&this.value===o.value}hashCode(){return this.value}}class qn{constructor(){}static getRSSvalue(o,s,l){let c=0;for(let y of o)c+=y;let d=0,f=0,g=o.length;for(let y=0;y<g-1;y++){let C;for(C=1,f|=1<<y;C<o[y];C++,f&=~(1<<y)){let E=qn.combins(c-C-1,g-y-2);if(l&&0===f&&c-C-(g-y-1)>=g-y-1&&(E-=qn.combins(c-C-(g-y),g-y-2)),g-y-1>1){let D=0;for(let A=c-C-(g-y-2);A>s;A--)D+=qn.combins(c-C-A-1,g-y-3);E-=D*(g-1-y)}else c-C>s&&E--;d+=E}c-=C}return d}static combins(o,s){let l,c;o-s>s?(c=s,l=o-s):(c=o-s,l=s);let d=1,f=1;for(let g=o;g>l;g--)d*=g,f<=c&&(d/=f,f++);for(;f<=c;)d/=f,f++;return d}}class jd{static buildBitArray(o){let s=2*o.length-1;null==o[o.length-1].getRightChar()&&(s-=1);let c=new ot(12*s),d=0,g=o[0].getRightChar().getValue();for(let y=11;y>=0;--y)g&1<<y&&c.set(d),d++;for(let y=1;y<o.length;++y){let C=o[y],E=C.getLeftChar().getValue();for(let D=11;D>=0;--D)E&1<<D&&c.set(d),d++;if(null!=C.getRightChar()){let D=C.getRightChar().getValue();for(let A=11;A>=0;--A)D&1<<A&&c.set(d),d++}}return c}}class Ur{constructor(o,s){s?this.decodedInformation=null:(this.finished=o,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Go{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}let Bn=(()=>{class w extends Go{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===w.FNC1}}return w.FNC1="$",w})();class jr extends Go{constructor(o,s,l){super(o),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Ut=(()=>{class w extends Go{constructor(s,l,c){if(super(s),l<0||l>10||c<0||c>10)throw new Z;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===w.FNC1}isSecondDigitFNC1(){return this.secondDigit===w.FNC1}isAnyFNC1(){return this.firstDigit===w.FNC1||this.secondDigit===w.FNC1}}return w.FNC1=10,w})();class J{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new U;let s=o.substring(0,2);for(let d of J.TWO_DIGIT_DATA_LENGTH)if(d[0]===s)return d[1]===J.VARIABLE_LENGTH?J.processVariableAI(2,d[2],o):J.processFixedAI(2,d[1],o);if(o.length<3)throw new U;let l=o.substring(0,3);for(let d of J.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===J.VARIABLE_LENGTH?J.processVariableAI(3,d[2],o):J.processFixedAI(3,d[1],o);for(let d of J.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===J.VARIABLE_LENGTH?J.processVariableAI(4,d[2],o):J.processFixedAI(4,d[1],o);if(o.length<4)throw new U;let c=o.substring(0,4);for(let d of J.FOUR_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===J.VARIABLE_LENGTH?J.processVariableAI(4,d[2],o):J.processFixedAI(4,d[1],o);throw new U}static processFixedAI(o,s,l){if(l.length<o)throw new U;let c=l.substring(0,o);if(l.length<o+s)throw new U;let d=l.substring(o,o+s),f=l.substring(o+s),g="("+c+")"+d,y=J.parseFieldsInGeneralPurpose(f);return null==y?g:g+y}static processVariableAI(o,s,l){let d,c=l.substring(0,o);d=l.length<o+s?l.length:o+s;let f=l.substring(o,d),g=l.substring(d),y="("+c+")"+f,C=J.parseFieldsInGeneralPurpose(g);return null==C?y:y+C}}J.VARIABLE_LENGTH=[],J.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",J.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",J.VARIABLE_LENGTH,20],["22",J.VARIABLE_LENGTH,29],["30",J.VARIABLE_LENGTH,8],["37",J.VARIABLE_LENGTH,8],["90",J.VARIABLE_LENGTH,30],["91",J.VARIABLE_LENGTH,30],["92",J.VARIABLE_LENGTH,30],["93",J.VARIABLE_LENGTH,30],["94",J.VARIABLE_LENGTH,30],["95",J.VARIABLE_LENGTH,30],["96",J.VARIABLE_LENGTH,30],["97",J.VARIABLE_LENGTH,3],["98",J.VARIABLE_LENGTH,30],["99",J.VARIABLE_LENGTH,30]],J.THREE_DIGIT_DATA_LENGTH=[["240",J.VARIABLE_LENGTH,30],["241",J.VARIABLE_LENGTH,30],["242",J.VARIABLE_LENGTH,6],["250",J.VARIABLE_LENGTH,30],["251",J.VARIABLE_LENGTH,30],["253",J.VARIABLE_LENGTH,17],["254",J.VARIABLE_LENGTH,20],["400",J.VARIABLE_LENGTH,30],["401",J.VARIABLE_LENGTH,30],["402",17],["403",J.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",J.VARIABLE_LENGTH,20],["421",J.VARIABLE_LENGTH,15],["422",3],["423",J.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],J.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",J.VARIABLE_LENGTH,15],["391",J.VARIABLE_LENGTH,18],["392",J.VARIABLE_LENGTH,15],["393",J.VARIABLE_LENGTH,18],["703",J.VARIABLE_LENGTH,30]],J.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",J.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",J.VARIABLE_LENGTH,20],["8003",J.VARIABLE_LENGTH,30],["8004",J.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",J.VARIABLE_LENGTH,30],["8008",J.VARIABLE_LENGTH,12],["8018",18],["8020",J.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",J.VARIABLE_LENGTH,70],["8200",J.VARIABLE_LENGTH,70]];class Ri{constructor(o){this.buffer=new Xe,this.information=o}decodeAllCodes(o,s){let l=s,c=null;for(;;){let d=this.decodeGeneralPurposeField(l,c),f=J.parseFieldsInGeneralPurpose(d.getNewString());if(null!=f&&o.append(f),c=d.isRemaining()?""+d.getRemainingValue():null,l===d.getNewPosition())break;l=d.getNewPosition()}return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let s=o;s<o+3;++s)if(this.information.get(s))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(o,4);return new Ut(this.information.getSize(),0===d?Ut.FNC1:d-1,Ut.FNC1)}let s=this.extractNumericValueFromBitArray(o,7);return new Ut(o+7,(s-8)/11,(s-8)%11)}extractNumericValueFromBitArray(o,s){return Ri.extractNumericValueFromBitArray(this.information,o,s)}static extractNumericValueFromBitArray(o,s,l){let c=0;for(let d=0;d<l;++d)o.get(s+d)&&(c|=1<<l-d-1);return c}decodeGeneralPurposeField(o,s){this.buffer.setLengthToZero(),null!=s&&this.buffer.append(s),this.current.setPosition(o);let l=this.parseBlocks();return null!=l&&l.isRemaining()?new jr(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new jr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,s;do{let l=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),o=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),o=s.isFinished()):(s=this.parseNumericBlock(),o=s.isFinished()),l===this.current.getPosition()&&!o)break}while(!o);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let s;return s=o.isSecondDigitFNC1()?new jr(this.current.getPosition(),this.buffer.toString()):new jr(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Ur(!0,s)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let s=new jr(this.current.getPosition(),this.buffer.toString());return new Ur(!0,s)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ur(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let s=new jr(this.current.getPosition(),this.buffer.toString());return new Ur(!0,s)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ur(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let s=new jr(this.current.getPosition(),this.buffer.toString());return new Ur(!0,s)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ur(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(o,5);if(s>=5&&s<16)return!0;if(o+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,7);if(l>=64&&l<116)return!0;if(o+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,8);return c>=232&&c<253}decodeIsoIec646(o){let s=this.extractNumericValueFromBitArray(o,5);if(15===s)return new Bn(o+5,Bn.FNC1);if(s>=5&&s<15)return new Bn(o+5,"0"+(s-5));let d,l=this.extractNumericValueFromBitArray(o,7);if(l>=64&&l<90)return new Bn(o+7,""+(l+1));if(l>=90&&l<116)return new Bn(o+7,""+(l+7));switch(this.extractNumericValueFromBitArray(o,8)){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new Z}return new Bn(o+8,d)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(o,5);if(s>=5&&s<16)return!0;if(o+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,6);return l>=16&&l<63}decodeAlphanumeric(o){let s=this.extractNumericValueFromBitArray(o,5);if(15===s)return new Bn(o+5,Bn.FNC1);if(s>=5&&s<15)return new Bn(o+5,"0"+(s-5));let c,l=this.extractNumericValueFromBitArray(o,6);if(l>=32&&l<58)return new Bn(o+6,""+(l+33));switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new br("Decoding invalid alphanumeric value: "+l)}return new Bn(o+6,c)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let s=0;s<5&&s+o<this.information.getSize();++s)if(2===s){if(!this.information.get(o+2))return!1}else if(this.information.get(o+s))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let s=o;s<o+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let s=0;s<4&&s+o<this.information.getSize();++s)if(this.information.get(o+s))return!1;return!0}}class Da{constructor(o){this.information=o,this.generalDecoder=new Ri(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let Xn=(()=>{class w extends Da{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,c)}encodeCompressedGtinWithoutAI(s,l,c){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*d,10);f/100==0&&s.append("0"),f/10==0&&s.append("0"),s.append(f)}w.appendCheckDigit(s,c)}static appendCheckDigit(s,l){let c=0;for(let d=0;d<13;d++){let f=s.charAt(d+l).charCodeAt(0)-"0".charCodeAt(0);c+=1&d?f:3*f}c=10-c%10,10===c&&(c=0),s.append(c)}}return w.GTIN_SIZE=40,w})(),gc=(()=>{class w extends Xn{constructor(s){super(s)}parseInformation(){let s=new Xe;s.append("(01)");let l=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,w.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,w.HEADER_SIZE+44)}}return w.HEADER_SIZE=4,w})(),Hd=(()=>{class w extends Da{constructor(s){super(s)}parseInformation(){let s=new Xe;return this.getGeneralDecoder().decodeAllCodes(s,w.HEADER_SIZE)}}return w.HEADER_SIZE=5,w})();class Wo extends Xn{constructor(o){super(o)}encodeCompressedWeight(o,s,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,l);this.addWeightCode(o,c);let d=this.checkWeight(c),f=1e5;for(let g=0;g<5;++g)d/f==0&&o.append("0"),f/=10;o.append(d)}}let fr=(()=>{class w extends Wo{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+Wo.GTIN_SIZE+w.WEIGHT_SIZE)throw new U;let s=new Xe;return this.encodeCompressedGtin(s,w.HEADER_SIZE),this.encodeCompressedWeight(s,w.HEADER_SIZE+Wo.GTIN_SIZE,w.WEIGHT_SIZE),s.toString()}}return w.HEADER_SIZE=5,w.WEIGHT_SIZE=15,w})();class zd extends fr{constructor(o){super(o)}addWeightCode(o,s){o.append("(3103)")}checkWeight(o){return o}}class Yt extends fr{constructor(o){super(o)}addWeightCode(o,s){o.append(s<1e4?"(3202)":"(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}let Pi=(()=>{class w extends Xn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+Xn.GTIN_SIZE)throw new U;let s=new Xe;this.encodeCompressedGtin(s,w.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+Xn.GTIN_SIZE,w.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+Xn.GTIN_SIZE+w.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w})(),hr=(()=>{class w extends Xn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+Xn.GTIN_SIZE)throw new U;let s=new Xe;this.encodeCompressedGtin(s,w.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+Xn.GTIN_SIZE,w.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+Xn.GTIN_SIZE+w.LAST_DIGIT_SIZE,w.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let d=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+Xn.GTIN_SIZE+w.LAST_DIGIT_SIZE+w.FIRST_THREE_DIGITS_SIZE,null);return s.append(d.getNewString()),s.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w.FIRST_THREE_DIGITS_SIZE=10,w})(),ci=(()=>{class w extends Wo{constructor(s,l,c){super(s),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE+w.DATE_SIZE)throw new U;let s=new Xe;return this.encodeCompressedGtin(s,w.HEADER_SIZE),this.encodeCompressedWeight(s,w.HEADER_SIZE+w.GTIN_SIZE,w.WEIGHT_SIZE),this.encodeCompressedDate(s,w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,w.DATE_SIZE);if(38400==c)return;s.append("("),s.append(this.dateCode),s.append(")");let d=c%32;c/=32;let f=c%12+1;c/=12;let g=c;g/10==0&&s.append("0"),s.append(g),f/10==0&&s.append("0"),s.append(f),d/10==0&&s.append("0"),s.append(d)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}return w.HEADER_SIZE=8,w.WEIGHT_SIZE=20,w.DATE_SIZE=16,w})();function pc(w){try{if(w.get(1))return new gc(w);if(!w.get(2))return new Hd(w);switch(Ri.extractNumericValueFromBitArray(w,1,4)){case 4:return new zd(w);case 5:return new Yt(w)}switch(Ri.extractNumericValueFromBitArray(w,1,5)){case 12:return new Pi(w);case 13:return new hr(w)}switch(Ri.extractNumericValueFromBitArray(w,1,7)){case 56:return new ci(w,"310","11");case 57:return new ci(w,"320","11");case 58:return new ci(w,"310","13");case 59:return new ci(w,"320","13");case 60:return new ci(w,"310","15");case 61:return new ci(w,"320","15");case 62:return new ci(w,"310","17");case 63:return new ci(w,"320","17")}}catch(o){throw console.log(o),new br("unknown decoder: "+w)}}class Hr{constructor(o,s,l,c){this.leftchar=o,this.rightchar=s,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(o,s){return o instanceof Hr&&Hr.equalsOrNull(o.leftchar,s.leftchar)&&Hr.equalsOrNull(o.rightchar,s.rightchar)&&Hr.equalsOrNull(o.finderpattern,s.finderpattern)}static equalsOrNull(o,s){return null===o?null===s:Hr.equals(o,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class mo{constructor(o,s,l){this.pairs=o,this.rowNumber=s,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,s){return o instanceof mo&&this.checkEqualitity(o,s)&&o.wasReversed===s.wasReversed}checkEqualitity(o,s){if(!o||!s)return;let l;return o.forEach((c,d)=>{s.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class j extends Vr{constructor(o){super(...arguments),this.pairs=new Array(j.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===o}decodeRow(o,s,l){this.pairs.length=0,this.startFromEven=!1;try{return j.constructResult(this.decodeRow2pairs(o,s))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,j.constructResult(this.decodeRow2pairs(o,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,s){let c,l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,o))}catch(d){if(d instanceof U){if(!this.pairs.length)throw new U;l=!0}}if(this.checkChecksum())return this.pairs;if(c=!!this.rows.length,this.storeRow(o,!1),c){let d=this.checkRowsBoolean(!1);if(null!=d||(d=this.checkRowsBoolean(!0),null!=d))return d}throw new U}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return o&&(this.rows=this.rows.reverse()),s}checkRows(o,s){for(let l=s;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let f of o)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!j.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(o);d.push(c);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new U}static isValidSequence(o){for(let s of j.FINDER_PATTERN_SEQUENCES){if(o.length>s.length)continue;let l=!0;for(let c=0;c<o.length;c++)if(o[c].getFinderPattern().getValue()!=s[c]){l=!1;break}if(l)return!0}return!1}storeRow(o,s){let l=0,c=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>o){d=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),l++}d||c||j.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new mo(this.pairs,o,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,s){for(let l of s)if(l.getPairs().length!==o.length)for(let c of l.getPairs())for(let d of o)if(Hr.equals(c,d))break}static isPartialRow(o,s){for(let l of s){let c=!0;for(let d of o){let f=!1;for(let g of l.getPairs())if(d.equals(g)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(o){let c=pc(jd.buildBitArray(o)).parseInformation(),d=o[0].getFinderPattern().getResultPoints(),f=o[o.length-1].getFinderPattern().getResultPoints();return new pt(c,null,null,[d[0],d[1],f[0],f[1]],fe.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),s=o.getLeftChar(),l=o.getRightChar();if(null==l)return!1;let c=l.getChecksumPortion(),d=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);c+=y.getLeftChar().getChecksumPortion(),d++;let C=y.getRightChar();null!=C&&(c+=C.getChecksumPortion(),d++)}return c%=211,211*(d-4)+c==s.getValue()}static getNextSecondBar(o,s){let l;return o.get(s)?(l=o.getNextUnset(s),l=o.getNextSet(l)):(l=o.getNextSet(s),l=o.getNextUnset(l)),l}retrieveNextPair(o,s,l){let c=s.length%2==0;this.startFromEven&&(c=!c);let d,f=!0,g=-1;do{this.findNextPair(o,s,g),d=this.parseFoundFinderPattern(o,l,c),null==d?g=j.getNextSecondBar(o,this.startEnd[0]):f=!1}while(f);let C,y=this.decodeDataCharacter(o,d,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new U;try{C=this.decodeDataCharacter(o,d,c,!1)}catch(E){C=null,this.verbose&&console.log(E)}return new Hr(y,C,d,!0)}isEmptyPair(o){return 0===o.length}findNextPair(o,s,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f,d=o.getSize();f=l>=0?l:this.isEmptyPair(s)?0:s[s.length-1].getFinderPattern().getStartEnd()[1];let g=s.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;f<d&&(y=!o.get(f),y);)f++;let C=0,E=f;for(let D=f;D<d;D++)if(o.get(D)!=y)c[C]++;else{if(3==C){if(g&&j.reverseCounters(c),j.isFinderPattern(c))return this.startEnd[0]=E,void(this.startEnd[1]=D);g&&j.reverseCounters(c),E+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,C--}else C++;c[C]=1,y=!y}throw new U}static reverseCounters(o){let s=o.length;for(let l=0;l<s/2;++l){let c=o[l];o[l]=o[s-l-1],o[s-l-1]=c}}parseFoundFinderPattern(o,s,l){let c,d,f;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!o.get(C);)C--;C++,c=this.startEnd[0]-C,d=C,f=this.startEnd[1]}else d=this.startEnd[0],f=o.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let y,g=this.getDecodeFinderCounters();it.arraycopy(g,0,g,1,g.length-1),g[0]=c;try{y=this.parseFinderValue(g,j.FINDER_PATTERNS)}catch{return null}return new po(y,[d,f],d,f,s)}decodeDataCharacter(o,s,l,c){let d=this.getDataCharacterCounters();for(let ct=0;ct<d.length;ct++)d[ct]=0;if(c)j.recordPatternInReverse(o,s.getStartEnd()[0],d);else{j.recordPattern(o,s.getStartEnd()[1],d);for(let ct=0,Gt=d.length-1;ct<Gt;ct++,Gt--){let bn=d[ct];d[ct]=d[Gt],d[Gt]=bn}}let g=je.sum(new Int32Array(d))/17,y=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new U;let C=this.getOddCounts(),E=this.getEvenCounts(),D=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let ct=0;ct<d.length;ct++){let Gt=1*d[ct]/g,bn=Gt+.5;if(bn<1){if(Gt<.3)throw new U;bn=1}else if(bn>8){if(Gt>8.7)throw new U;bn=8}let Hi=ct/2;1&ct?(E[Hi]=bn,A[Hi]=Gt-bn):(C[Hi]=bn,D[Hi]=Gt-bn)}this.adjustOddEvenCounts(17);let b=4*s.getValue()+(l?0:2)+(c?0:1)-1,M=0,T=0;for(let ct=C.length-1;ct>=0;ct--)j.isNotA1left(s,l,c)&&(T+=C[ct]*j.WEIGHTS[b][2*ct]),M+=C[ct];let O=0;for(let ct=E.length-1;ct>=0;ct--)j.isNotA1left(s,l,c)&&(O+=E[ct]*j.WEIGHTS[b][2*ct+1]);let L=T+O;if(1&M||M>13||M<4)throw new U;let $=(13-M)/2,Q=j.SYMBOL_WIDEST[$],B=9-Q,Oe=qn.getRSSvalue(C,Q,!0),ve=qn.getRSSvalue(E,B,!1);return new li(Oe*j.EVEN_TOTAL_SUBSET[$]+ve+j.GSUM[$],L)}static isNotA1left(o,s,l){return!(0==o.getValue()&&s&&l)}adjustOddEvenCounts(o){let s=je.sum(new Int32Array(this.getOddCounts())),l=je.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1;s>13?d=!0:s<4&&(c=!0);let f=!1,g=!1;l>13?g=!0:l<4&&(f=!0);let y=s+l-o,C=1==(1&s),E=0==(1&l);if(1==y)if(C){if(E)throw new U;d=!0}else{if(!E)throw new U;g=!0}else if(-1==y)if(C){if(E)throw new U;c=!0}else{if(!E)throw new U;f=!0}else{if(0!=y)throw new U;if(C){if(!E)throw new U;s<l?(c=!0,g=!0):(d=!0,f=!0)}else if(E)throw new U}if(c){if(d)throw new U;j.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&j.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new U;j.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&j.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}j.SYMBOL_WIDEST=[7,5,4,3,1],j.EVEN_TOTAL_SUBSET=[4,20,52,104,204],j.GSUM=[0,348,1388,2948,3988],j.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],j.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],j.FINDER_PAT_A=0,j.FINDER_PAT_B=1,j.FINDER_PAT_C=2,j.FINDER_PAT_D=3,j.FINDER_PAT_E=4,j.FINDER_PAT_F=5,j.FINDER_PATTERN_SEQUENCES=[[j.FINDER_PAT_A,j.FINDER_PAT_A],[j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B],[j.FINDER_PAT_A,j.FINDER_PAT_C,j.FINDER_PAT_B,j.FINDER_PAT_D],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_C],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_D,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_D],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_E],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F]],j.MAX_PAIRS=11;class yo extends li{constructor(o,s,l){super(o,s),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dt extends Vr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,s,l){const c=this.decodePair(s,!1,o,l);Dt.addOrTally(this.possibleLeftPairs,c),s.reverse();let d=this.decodePair(s,!0,o,l);Dt.addOrTally(this.possibleRightPairs,d),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1)for(let g of this.possibleRightPairs)if(g.getCount()>1&&Dt.checkChecksum(f,g))return Dt.constructResult(f,g);throw new U}static addOrTally(o,s){if(null==s)return;let l=!1;for(let c of o)if(c.getValue()===s.getValue()){c.incrementCount(),l=!0;break}l||o.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,s){let l=4537077*o.getValue()+s.getValue(),c=new String(l).toString(),d=new Xe;for(let C=13-c.length;C>0;C--)d.append("0");d.append(c);let f=0;for(let C=0;C<13;C++){let E=d.charAt(C).charCodeAt(0)-"0".charCodeAt(0);f+=1&C?E:3*E}f=10-f%10,10===f&&(f=0),d.append(f.toString());let g=o.getFinderPattern().getResultPoints(),y=s.getFinderPattern().getResultPoints();return new pt(d.toString(),null,0,[g[0],g[1],y[0],y[1]],fe.RSS_14,(new Date).getTime())}static checkChecksum(o,s){let l=(o.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*o.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(o,s,l,c){try{let d=this.findFinderPattern(o,s),f=this.parseFoundFinderPattern(o,l,s,d),g=null==c?null:c.get(ht.NEED_RESULT_POINT_CALLBACK);if(null!=g){let E=(d[0]+d[1])/2;s&&(E=o.getSize()-1-E),g.foundPossibleResultPoint(new ie(E,l))}let y=this.decodeDataCharacter(o,f,!0),C=this.decodeDataCharacter(o,f,!1);return new yo(1597*y.getValue()+C.getValue(),y.getChecksumPortion()+4*C.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(o,s,l){let c=this.getDataCharacterCounters();for(let O=0;O<c.length;O++)c[O]=0;if(l)Tt.recordPatternInReverse(o,s.getStartEnd()[0],c);else{Tt.recordPattern(o,s.getStartEnd()[1]+1,c);for(let O=0,L=c.length-1;O<L;O++,L--){let $=c[O];c[O]=c[L],c[L]=$}}let d=l?16:15,f=je.sum(new Int32Array(c))/d,g=this.getOddCounts(),y=this.getEvenCounts(),C=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let O=0;O<c.length;O++){let L=c[O]/f,$=Math.floor(L+.5);$<1?$=1:$>8&&($=8);let Q=Math.floor(O/2);1&O?(y[Q]=$,E[Q]=L-$):(g[Q]=$,C[Q]=L-$)}this.adjustOddEvenCounts(l,d);let D=0,A=0;for(let O=g.length-1;O>=0;O--)A*=9,A+=g[O],D+=g[O];let b=0,M=0;for(let O=y.length-1;O>=0;O--)b*=9,b+=y[O],M+=y[O];let T=A+3*b;if(l){if(1&D||D>12||D<4)throw new U;let O=(12-D)/2,L=Dt.OUTSIDE_ODD_WIDEST[O],$=9-L,Q=qn.getRSSvalue(g,L,!1),B=qn.getRSSvalue(y,$,!0);return new li(Q*Dt.OUTSIDE_EVEN_TOTAL_SUBSET[O]+B+Dt.OUTSIDE_GSUM[O],T)}{if(1&M||M>10||M<4)throw new U;let O=(10-M)/2,L=Dt.INSIDE_ODD_WIDEST[O],$=9-L,Q=qn.getRSSvalue(g,L,!0),B=qn.getRSSvalue(y,$,!1);return new li(B*Dt.INSIDE_ODD_TOTAL_SUBSET[O]+Q+Dt.INSIDE_GSUM[O],T)}}findFinderPattern(o,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=o.getSize(),d=!1,f=0;for(;f<c&&(d=!o.get(f),s!==d);)f++;let g=0,y=f;for(let C=f;C<c;C++)if(o.get(C)!==d)l[g]++;else{if(3===g){if(Vr.isFinderPattern(l))return[y,C];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,d=!d}throw new U}parseFoundFinderPattern(o,s,l,c){let d=o.get(c[0]),f=c[0]-1;for(;f>=0&&d!==o.get(f);)f--;f++;const g=c[0]-f,y=this.getDecodeFinderCounters(),C=new Int32Array(y.length);it.arraycopy(y,0,C,1,y.length-1),C[0]=g;const E=this.parseFinderValue(C,Dt.FINDER_PATTERNS);let D=f,A=c[1];return l&&(D=o.getSize()-1-D,A=o.getSize()-1-A),new po(E,[f,c[1]],D,A,s)}adjustOddEvenCounts(o,s){let l=je.sum(new Int32Array(this.getOddCounts())),c=je.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,g=!1,y=!1;o?(l>12?f=!0:l<4&&(d=!0),c>12?y=!0:c<4&&(g=!0)):(l>11?f=!0:l<5&&(d=!0),c>10?y=!0:c<4&&(g=!0));let C=l+c-s,E=(1&l)==(o?1:0),D=1==(1&c);if(1===C)if(E){if(D)throw new U;f=!0}else{if(!D)throw new U;y=!0}else if(-1===C)if(E){if(D)throw new U;d=!0}else{if(!D)throw new U;g=!0}else{if(0!==C)throw new U;if(E){if(!D)throw new U;l<c?(d=!0,y=!0):(f=!0,g=!0)}else if(D)throw new U}if(d){if(f)throw new U;Vr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Vr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new U;Vr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Vr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dt.OUTSIDE_GSUM=[0,161,961,2015,2715],Dt.INSIDE_GSUM=[0,336,1036,1516],Dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dt.INSIDE_ODD_WIDEST=[2,4,6,8],Dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ui extends Tt{constructor(o,s){super(),this.readers=[],this.verbose=!0===s;const l=o?o.get(ht.POSSIBLE_FORMATS):null,c=o&&void 0!==o.get(ht.ASSUME_CODE_39_CHECK_DIGIT);l?((l.includes(fe.EAN_13)||l.includes(fe.UPC_A)||l.includes(fe.EAN_8)||l.includes(fe.UPC_E))&&this.readers.push(new zo(o)),l.includes(fe.CODE_39)&&this.readers.push(new Ea(c)),l.includes(fe.CODE_128)&&this.readers.push(new X),l.includes(fe.ITF)&&this.readers.push(new at),l.includes(fe.RSS_14)&&this.readers.push(new Dt),l.includes(fe.RSS_EXPANDED)&&this.readers.push(new j(this.verbose))):(this.readers.push(new zo(o)),this.readers.push(new Ea),this.readers.push(new zo(o)),this.readers.push(new X),this.readers.push(new at),this.readers.push(new Dt),this.readers.push(new j(this.verbose)))}decodeRow(o,s,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(o,s,l)}catch{}throw new U}reset(){this.readers.forEach(o=>o.reset())}}class Ze{constructor(o,s,l){this.ecCodewords=o,this.ecBlocks=[s],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ye{constructor(o,s){this.count=o,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Le{constructor(o,s,l,c,d,f){this.versionNumber=o,this.symbolSizeRows=s,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=d,this.ecBlocks=f;let g=0;const y=f.getECCodewords(),C=f.getECBlocks();for(let E of C)g+=E.getCount()*(E.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,s){if(1&o||1&s)throw new Z;for(let l of Le.VERSIONS)if(l.symbolSizeRows===o&&l.symbolSizeColumns===s)return l;throw new Z}toString(){return""+this.versionNumber}static buildVersions(){return[new Le(1,10,10,8,8,new Ze(5,new Ye(1,3))),new Le(2,12,12,10,10,new Ze(7,new Ye(1,5))),new Le(3,14,14,12,12,new Ze(10,new Ye(1,8))),new Le(4,16,16,14,14,new Ze(12,new Ye(1,12))),new Le(5,18,18,16,16,new Ze(14,new Ye(1,18))),new Le(6,20,20,18,18,new Ze(18,new Ye(1,22))),new Le(7,22,22,20,20,new Ze(20,new Ye(1,30))),new Le(8,24,24,22,22,new Ze(24,new Ye(1,36))),new Le(9,26,26,24,24,new Ze(28,new Ye(1,44))),new Le(10,32,32,14,14,new Ze(36,new Ye(1,62))),new Le(11,36,36,16,16,new Ze(42,new Ye(1,86))),new Le(12,40,40,18,18,new Ze(48,new Ye(1,114))),new Le(13,44,44,20,20,new Ze(56,new Ye(1,144))),new Le(14,48,48,22,22,new Ze(68,new Ye(1,174))),new Le(15,52,52,24,24,new Ze(42,new Ye(2,102))),new Le(16,64,64,14,14,new Ze(56,new Ye(2,140))),new Le(17,72,72,16,16,new Ze(36,new Ye(4,92))),new Le(18,80,80,18,18,new Ze(48,new Ye(4,114))),new Le(19,88,88,20,20,new Ze(56,new Ye(4,144))),new Le(20,96,96,22,22,new Ze(68,new Ye(4,174))),new Le(21,104,104,24,24,new Ze(56,new Ye(6,136))),new Le(22,120,120,18,18,new Ze(68,new Ye(6,175))),new Le(23,132,132,20,20,new Ze(62,new Ye(8,163))),new Le(24,144,144,22,22,new Ze(62,new Ye(8,156),new Ye(2,155))),new Le(25,8,18,6,16,new Ze(7,new Ye(1,5))),new Le(26,8,32,6,14,new Ze(11,new Ye(1,10))),new Le(27,12,26,10,24,new Ze(14,new Ye(1,16))),new Le(28,12,36,10,16,new Ze(18,new Ye(1,22))),new Le(29,16,36,14,16,new Ze(24,new Ye(1,32))),new Le(30,16,48,14,22,new Ze(28,new Ye(1,49)))]}}Le.VERSIONS=Le.buildVersions();class Aa{constructor(o){const s=o.getHeight();if(s<8||s>144||1&s)throw new Z;this.version=Aa.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Vt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const s=o.getHeight(),l=o.getWidth();return Le.getVersionForDimensions(s,l)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let s=0,l=4,c=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,y=!1,C=!1,E=!1;do{if(l!==d||0!==c||g)if(l===d-2&&0===c&&3&f&&!y)o[s++]=255&this.readCorner2(d,f),l-=2,c+=2,y=!0;else if(l!==d+4||2!==c||7&f||C)if(l!==d-2||0!==c||4!=(7&f)||E){do{l<d&&c>=0&&!this.readMappingMatrix.get(c,l)&&(o[s++]=255&this.readUtah(l,c,d,f)),l-=2,c+=2}while(l>=0&&c<f);l+=1,c+=3;do{l>=0&&c<f&&!this.readMappingMatrix.get(c,l)&&(o[s++]=255&this.readUtah(l,c,d,f)),l+=2,c-=2}while(l<d&&c>=0);l+=3,c+=1}else o[s++]=255&this.readCorner4(d,f),l-=2,c+=2,E=!0;else o[s++]=255&this.readCorner3(d,f),l-=2,c+=2,C=!0;else o[s++]=255&this.readCorner1(d,f),l-=2,c+=2,g=!0}while(l<d||c<f);if(s!==this.version.getTotalCodewords())throw new Z;return o}readModule(o,s,l,c){return o<0&&(o+=l,s+=4-(l+4&7)),s<0&&(s+=c,o+=4-(c+4&7)),this.readMappingMatrix.set(s,o),this.mappingBitMatrix.get(s,o)}readUtah(o,s,l,c){let d=0;return this.readModule(o-2,s-2,l,c)&&(d|=1),d<<=1,this.readModule(o-2,s-1,l,c)&&(d|=1),d<<=1,this.readModule(o-1,s-2,l,c)&&(d|=1),d<<=1,this.readModule(o-1,s-1,l,c)&&(d|=1),d<<=1,this.readModule(o-1,s,l,c)&&(d|=1),d<<=1,this.readModule(o,s-2,l,c)&&(d|=1),d<<=1,this.readModule(o,s-1,l,c)&&(d|=1),d<<=1,this.readModule(o,s,l,c)&&(d|=1),d}readCorner1(o,s){let l=0;return this.readModule(o-1,0,o,s)&&(l|=1),l<<=1,this.readModule(o-1,1,o,s)&&(l|=1),l<<=1,this.readModule(o-1,2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-1,o,s)&&(l|=1),l<<=1,this.readModule(1,s-1,o,s)&&(l|=1),l<<=1,this.readModule(2,s-1,o,s)&&(l|=1),l<<=1,this.readModule(3,s-1,o,s)&&(l|=1),l}readCorner2(o,s){let l=0;return this.readModule(o-3,0,o,s)&&(l|=1),l<<=1,this.readModule(o-2,0,o,s)&&(l|=1),l<<=1,this.readModule(o-1,0,o,s)&&(l|=1),l<<=1,this.readModule(0,s-4,o,s)&&(l|=1),l<<=1,this.readModule(0,s-3,o,s)&&(l|=1),l<<=1,this.readModule(0,s-2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-1,o,s)&&(l|=1),l<<=1,this.readModule(1,s-1,o,s)&&(l|=1),l}readCorner3(o,s){let l=0;return this.readModule(o-1,0,o,s)&&(l|=1),l<<=1,this.readModule(o-1,s-1,o,s)&&(l|=1),l<<=1,this.readModule(0,s-3,o,s)&&(l|=1),l<<=1,this.readModule(0,s-2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-1,o,s)&&(l|=1),l<<=1,this.readModule(1,s-3,o,s)&&(l|=1),l<<=1,this.readModule(1,s-2,o,s)&&(l|=1),l<<=1,this.readModule(1,s-1,o,s)&&(l|=1),l}readCorner4(o,s){let l=0;return this.readModule(o-3,0,o,s)&&(l|=1),l<<=1,this.readModule(o-2,0,o,s)&&(l|=1),l<<=1,this.readModule(o-1,0,o,s)&&(l|=1),l<<=1,this.readModule(0,s-2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-1,o,s)&&(l|=1),l<<=1,this.readModule(1,s-1,o,s)&&(l|=1),l<<=1,this.readModule(2,s-1,o,s)&&(l|=1),l<<=1,this.readModule(3,s-1,o,s)&&(l|=1),l}extractDataRegion(o){const s=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(o.getHeight()!==s)throw new ee("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=s/c|0,g=l/d|0,E=new Vt(g*d,f*c);for(let D=0;D<f;++D){const A=D*c;for(let b=0;b<g;++b){const M=b*d;for(let T=0;T<c;++T){const O=D*(c+2)+1+T,L=A+T;for(let $=0;$<d;++$)o.get(b*(d+2)+1+$,O)&&E.set(M+$,L)}}}return E}}class $o{constructor(o,s){this.numDataCodewords=o,this.codewords=s}static getDataBlocks(o,s){const l=s.getECBlocks();let c=0;const d=l.getECBlocks();for(let T of d)c+=T.getCount();const f=new Array(c);let g=0;for(let T of d)for(let O=0;O<T.getCount();O++){const L=T.getDataCodewords(),$=l.getECCodewords()+L;f[g++]=new $o(L,new Uint8Array($))}const C=f[0].codewords.length-l.getECCodewords(),E=C-1;let D=0;for(let T=0;T<E;T++)for(let O=0;O<g;O++)f[O].codewords[T]=o[D++];const A=24===s.getVersionNumber(),b=A?8:g;for(let T=0;T<b;T++)f[T].codewords[C-1]=o[D++];const M=f[0].codewords.length;for(let T=C;T<M;T++)for(let O=0;O<g;O++){const L=A?(O+8)%g:O;f[L].codewords[A&&L>7?T-1:T]=o[D++]}if(D!==o.length)throw new ee;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ia{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new ee(""+o);let s=0,l=this.bitOffset,c=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,g=o<f?o:f,y=f-g;s=(d[c]&255>>8-g<<y)>>y,o-=g,l+=g,8===l&&(l=0,c++)}if(o>0){for(;o>=8;)s=s<<8|255&d[c],c++,o-=8;if(o>0){const f=8-o;s=s<<o|(d[c]&255>>f<<f)>>f,l+=o}}return this.bitOffset=l,this.byteOffset=c,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var jt=function(w){return w[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE",w}(jt||{});class mt{static decode(o){const s=new Ia(o),l=new Xe,c=new Xe,d=new Array;let f=jt.ASCII_ENCODE;do{if(f===jt.ASCII_ENCODE)f=this.decodeAsciiSegment(s,l,c);else{switch(f){case jt.C40_ENCODE:this.decodeC40Segment(s,l);break;case jt.TEXT_ENCODE:this.decodeTextSegment(s,l);break;case jt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,l);break;case jt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,l);break;case jt.BASE256_ENCODE:this.decodeBase256Segment(s,l,d);break;default:throw new Z}f=jt.ASCII_ENCODE}}while(f!==jt.PAD_ENCODE&&s.available()>0);return c.length()>0&&l.append(c.toString()),new co(o,l.toString(),0===d.length?null:d,null)}static decodeAsciiSegment(o,s,l){let c=!1;do{let d=o.readBits(8);if(0===d)throw new Z;if(d<=128)return c&&(d+=128),s.append(String.fromCharCode(d-1)),jt.ASCII_ENCODE;if(129===d)return jt.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&s.append("0"),s.append(""+f)}else switch(d){case 230:return jt.C40_ENCODE;case 231:return jt.BASE256_ENCODE;case 232:s.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:c=!0;break;case 236:s.append("[)>\x1e05\x1d"),l.insert(0,"\x1e\x04");break;case 237:s.append("[)>\x1e06\x1d"),l.insert(0,"\x1e\x04");break;case 238:return jt.ANSIX12_ENCODE;case 239:return jt.TEXT_ENCODE;case 240:return jt.EDIFACT_ENCODE;default:if(254!==d||0!==o.available())throw new Z}}while(o.available()>0);return jt.ASCII_ENCODE}static decodeC40Segment(o,s){let l=!1;const c=[];let d=0;do{if(8===o.available())return;const f=o.readBits(8);if(254===f)return;this.parseTwoBytes(f,o.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(d){case 0:if(y<3)d=y+1;else{if(!(y<this.C40_BASIC_SET_CHARS.length))throw new Z;{const C=this.C40_BASIC_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C)}}break;case 1:l?(s.append(String.fromCharCode(y+128)),l=!1):s.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C)}else switch(y){case 27:s.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new Z}d=0;break;case 3:l?(s.append(String.fromCharCode(y+224)),l=!1):s.append(String.fromCharCode(y+96)),d=0;break;default:throw new Z}}}while(o.available()>0)}static decodeTextSegment(o,s){let l=!1,c=[],d=0;do{if(8===o.available())return;const f=o.readBits(8);if(254===f)return;this.parseTwoBytes(f,o.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(d){case 0:if(y<3)d=y+1;else{if(!(y<this.TEXT_BASIC_SET_CHARS.length))throw new Z;{const C=this.TEXT_BASIC_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C)}}break;case 1:l?(s.append(String.fromCharCode(y+128)),l=!1):s.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C)}else switch(y){case 27:s.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new Z}d=0;break;case 3:if(!(y<this.TEXT_SHIFT3_SET_CHARS.length))throw new Z;{const C=this.TEXT_SHIFT3_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C),d=0}break;default:throw new Z}}}while(o.available()>0)}static decodeAnsiX12Segment(o,s){const l=[];do{if(8===o.available())return;const c=o.readBits(8);if(254===c)return;this.parseTwoBytes(c,o.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else{if(!(f<40))throw new Z;s.append(String.fromCharCode(f+51))}}}}while(o.available()>0)}static parseTwoBytes(o,s,l){let c=(o<<8)+s-1,d=Math.floor(c/1600);l[0]=d,c-=1600*d,d=Math.floor(c/40),l[1]=d,l[2]=c-40*d}static decodeEdifactSegment(o,s){do{if(o.available()<=16)return;for(let l=0;l<4;l++){let c=o.readBits(6);if(31===c){const d=8-o.getBitOffset();return void(8!==d&&o.readBits(d))}32&c||(c|=64),s.append(String.fromCharCode(c))}}while(o.available()>0)}static decodeBase256Segment(o,s,l){let c=1+o.getByteOffset();const d=this.unrandomize255State(o.readBits(8),c++);let f;if(f=0===d?o.available()/8|0:d<250?d:250*(d-249)+this.unrandomize255State(o.readBits(8),c++),f<0)throw new Z;const g=new Uint8Array(f);for(let y=0;y<f;y++){if(o.available()<8)throw new Z;g[y]=this.unrandomize255State(o.readBits(8),c++)}l.push(g);try{s.append($t.decode(g,Ce.ISO88591))}catch(y){throw new br("Platform does not support required encoding: "+y.message)}}static unrandomize255State(o,s){const c=o-(149*s%255+1);return c>=0?c:c+256}}mt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],mt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],mt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],mt.TEXT_SHIFT2_SET_CHARS=mt.C40_SHIFT2_SET_CHARS,mt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Gd{constructor(){this.rsDecoder=new fo(Ve.DATA_MATRIX_FIELD_256)}decode(o){const s=new Aa(o),l=s.getVersion(),c=s.readCodewords(),d=$o.getDataBlocks(c,l);let f=0;for(let C of d)f+=C.getNumDataCodewords();const g=new Uint8Array(f),y=d.length;for(let C=0;C<y;C++){const E=d[C],D=E.getCodewords(),A=E.getNumDataCodewords();this.correctErrors(D,A);for(let b=0;b<A;b++)g[b*y+C]=D[b]}return mt.decode(g)}correctErrors(o,s){const l=new Int32Array(o);try{this.rsDecoder.decode(l,o.length-s)}catch{throw new Pt}for(let c=0;c<s;c++)o[c]=l[c]}}class He{constructor(o){this.image=o,this.rectangleDetector=new Oi(this.image)}detect(){const o=this.rectangleDetector.detect();let s=this.detectSolid1(o);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new U;s=this.shiftToModuleCenter(s);const l=s[0],c=s[1],d=s[2],f=s[3];let g=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;1==(1&g)&&(g+=1),1==(1&y)&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let C=He.sampleGrid(this.image,l,c,d,f,g,y);return new ho(C,[l,c,d,f])}static shiftPoint(o,s,l){let c=(s.getX()-o.getX())/(l+1),d=(s.getY()-o.getY())/(l+1);return new ie(o.getX()+c,o.getY()+d)}static moveAway(o,s,l){let c=o.getX(),d=o.getY();return c<s?c-=1:c+=1,d<l?d-=1:d+=1,new ie(c,d)}detectSolid1(o){let s=o[0],l=o[1],c=o[3],d=o[2],f=this.transitionsBetween(s,l),g=this.transitionsBetween(l,c),y=this.transitionsBetween(c,d),C=this.transitionsBetween(d,s),E=f,D=[d,s,l,c];return E>g&&(E=g,D[0]=s,D[1]=l,D[2]=c,D[3]=d),E>y&&(E=y,D[0]=l,D[1]=c,D[2]=d,D[3]=s),E>C&&(D[0]=c,D[1]=d,D[2]=s,D[3]=l),D}detectSolid2(o){let s=o[0],l=o[1],c=o[2],d=o[3],f=this.transitionsBetween(s,d),g=He.shiftPoint(l,c,4*(f+1)),y=He.shiftPoint(c,l,4*(f+1));return this.transitionsBetween(g,s)<this.transitionsBetween(y,d)?(o[0]=s,o[1]=l,o[2]=c,o[3]=d):(o[0]=l,o[1]=c,o[2]=d,o[3]=s),o}correctTopRight(o){let s=o[0],l=o[1],c=o[2],d=o[3],f=this.transitionsBetween(s,d),g=this.transitionsBetween(l,d),y=He.shiftPoint(s,l,4*(g+1)),C=He.shiftPoint(c,l,4*(f+1));f=this.transitionsBetween(y,d),g=this.transitionsBetween(C,d);let E=new ie(d.getX()+(c.getX()-l.getX())/(f+1),d.getY()+(c.getY()-l.getY())/(f+1)),D=new ie(d.getX()+(s.getX()-l.getX())/(g+1),d.getY()+(s.getY()-l.getY())/(g+1));return this.isValid(E)?this.isValid(D)?this.transitionsBetween(y,E)+this.transitionsBetween(C,E)>this.transitionsBetween(y,D)+this.transitionsBetween(C,D)?E:D:E:this.isValid(D)?D:null}shiftToModuleCenter(o){let s=o[0],l=o[1],c=o[2],d=o[3],f=this.transitionsBetween(s,d)+1,g=this.transitionsBetween(c,d)+1,y=He.shiftPoint(s,l,4*g),C=He.shiftPoint(c,l,4*f);f=this.transitionsBetween(y,d)+1,g=this.transitionsBetween(C,d)+1,1==(1&f)&&(f+=1),1==(1&g)&&(g+=1);let A,b,E=(s.getX()+l.getX()+c.getX()+d.getX())/4,D=(s.getY()+l.getY()+c.getY()+d.getY())/4;return s=He.moveAway(s,E,D),l=He.moveAway(l,E,D),c=He.moveAway(c,E,D),d=He.moveAway(d,E,D),y=He.shiftPoint(s,l,4*g),y=He.shiftPoint(y,d,4*f),A=He.shiftPoint(l,s,4*g),A=He.shiftPoint(A,c,4*f),C=He.shiftPoint(c,d,4*g),C=He.shiftPoint(C,l,4*f),b=He.shiftPoint(d,c,4*g),b=He.shiftPoint(b,s,4*f),[y,A,C,b]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,s,l,c,d,f,g){return Br.getInstance().sampleGrid(o,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,s.getX(),s.getY(),d.getX(),d.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(o,s){let l=Math.trunc(o.getX()),c=Math.trunc(o.getY()),d=Math.trunc(s.getX()),f=Math.trunc(s.getY()),g=Math.abs(f-c)>Math.abs(d-l);if(g){let T=l;l=c,c=T,T=d,d=f,f=T}let y=Math.abs(d-l),C=Math.abs(f-c),E=-y/2,D=c<f?1:-1,A=l<d?1:-1,b=0,M=this.image.get(g?c:l,g?l:c);for(let T=l,O=c;T!==d;T+=A){let L=this.image.get(g?O:T,g?T:O);if(L!==M&&(b++,M=L),E+=C,E>0){if(O===f)break;O+=D,E-=y}}return b}}let me=(()=>{class w{constructor(){this.decoder=new Gd}decode(s,l=null){let c,d;if(null!=l&&l.has(ht.PURE_BARCODE)){const E=w.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(E),d=w.NO_POINTS}else{const E=new He(s.getBlackMatrix()).detect();c=this.decoder.decode(E.getBits()),d=E.getPoints()}const f=c.getRawBytes(),g=new pt(c.getText(),f,8*f.length,d,fe.DATA_MATRIX,it.currentTimeMillis()),y=c.getByteSegments();null!=y&&g.putMetadata(Re.BYTE_SEGMENTS,y);const C=c.getECLevel();return null!=C&&g.putMetadata(Re.ERROR_CORRECTION_LEVEL,C),g}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(null==l||null==c)throw new U;const d=this.moduleSize(l,s);let f=l[1],y=l[0];const E=(c[0]-y+1)/d,D=(c[1]-f+1)/d;if(E<=0||D<=0)throw new U;const A=d/2;f+=A,y+=A;const b=new Vt(E,D);for(let M=0;M<D;M++){const T=f+M*d;for(let O=0;O<E;O++)s.get(y+O*d,T)&&b.set(O,M)}return b}static moduleSize(s,l){const c=l.getWidth();let d=s[0];const f=s[1];for(;d<c&&l.get(d,f);)d++;if(d===c)throw new U;const g=d-s[0];if(0===g)throw new U;return g}}return w.NO_POINTS=[],w})();var di=function(w){return w[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H",w}(di||{});class Fe{constructor(o,s,l){this.value=o,this.stringValue=s,this.bits=l,Fe.FOR_BITS.set(l,this),Fe.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Fe.L;case"M":return Fe.M;case"Q":return Fe.Q;case"H":return Fe.H;default:throw new Dn(o+"not available")}}toString(){return this.stringValue}equals(o){return o instanceof Fe&&this.value===o.value}static forBits(o){if(o<0||o>=Fe.FOR_BITS.size)throw new ee;return Fe.FOR_BITS.get(o)}}Fe.FOR_BITS=new Map,Fe.FOR_VALUE=new Map,Fe.L=new Fe(di.L,"L",1),Fe.M=new Fe(di.M,"M",0),Fe.Q=new Fe(di.Q,"Q",3),Fe.H=new Fe(di.H,"H",2);class en{constructor(o){this.errorCorrectionLevel=Fe.forBits(o>>3&3),this.dataMask=7&o}static numBitsDiffering(o,s){return xe.bitCount(o^s)}static decodeFormatInformation(o,s){const l=en.doDecodeFormatInformation(o,s);return null!==l?l:en.doDecodeFormatInformation(o^en.FORMAT_INFO_MASK_QR,s^en.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,s){let l=Number.MAX_SAFE_INTEGER,c=0;for(const d of en.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===o||f===s)return new en(d[1]);let g=en.numBitsDiffering(o,f);g<l&&(c=d[1],l=g),o!==s&&(g=en.numBitsDiffering(s,f),g<l&&(c=d[1],l=g))}return l<=3?new en(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){return o instanceof en&&this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}en.FORMAT_INFO_MASK_QR=21522,en.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class R{constructor(o,...s){this.ecCodewordsPerBlock=o,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const s=this.ecBlocks;for(const l of s)o+=l.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(o,s){this.count=o,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ae{constructor(o,s,...l){this.versionNumber=o,this.alignmentPatternCenters=s,this.ecBlocks=l;let c=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const g of f)c+=g.getCount()*(g.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!=1)throw new Z;try{return this.getVersionForNumber((o-17)/4)}catch{throw new Z}}static getVersionForNumber(o){if(o<1||o>40)throw new ee;return ae.VERSIONS[o-1]}static decodeVersionInformation(o){let s=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<ae.VERSION_DECODE_INFO.length;c++){const d=ae.VERSION_DECODE_INFO[c];if(d===o)return ae.getVersionForNumber(c+7);const f=en.numBitsDiffering(o,d);f<s&&(l=c+7,s=f)}return s<=3?ae.getVersionForNumber(l):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),s=new Vt(o);s.setRegion(0,0,9,9),s.setRegion(o-8,0,8,9),s.setRegion(0,o-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const d=this.alignmentPatternCenters[c]-2;for(let f=0;f<l;f++)0===c&&(0===f||f===l-1)||c===l-1&&0===f||s.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return s.setRegion(6,9,1,o-17),s.setRegion(9,6,o-17,1),this.versionNumber>6&&(s.setRegion(o-11,0,3,6),s.setRegion(0,o-11,6,3)),s}toString(){return""+this.versionNumber}}ae.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ae.VERSIONS=[new ae(1,new Int32Array(0),new R(7,new _(1,19)),new R(10,new _(1,16)),new R(13,new _(1,13)),new R(17,new _(1,9))),new ae(2,Int32Array.from([6,18]),new R(10,new _(1,34)),new R(16,new _(1,28)),new R(22,new _(1,22)),new R(28,new _(1,16))),new ae(3,Int32Array.from([6,22]),new R(15,new _(1,55)),new R(26,new _(1,44)),new R(18,new _(2,17)),new R(22,new _(2,13))),new ae(4,Int32Array.from([6,26]),new R(20,new _(1,80)),new R(18,new _(2,32)),new R(26,new _(2,24)),new R(16,new _(4,9))),new ae(5,Int32Array.from([6,30]),new R(26,new _(1,108)),new R(24,new _(2,43)),new R(18,new _(2,15),new _(2,16)),new R(22,new _(2,11),new _(2,12))),new ae(6,Int32Array.from([6,34]),new R(18,new _(2,68)),new R(16,new _(4,27)),new R(24,new _(4,19)),new R(28,new _(4,15))),new ae(7,Int32Array.from([6,22,38]),new R(20,new _(2,78)),new R(18,new _(4,31)),new R(18,new _(2,14),new _(4,15)),new R(26,new _(4,13),new _(1,14))),new ae(8,Int32Array.from([6,24,42]),new R(24,new _(2,97)),new R(22,new _(2,38),new _(2,39)),new R(22,new _(4,18),new _(2,19)),new R(26,new _(4,14),new _(2,15))),new ae(9,Int32Array.from([6,26,46]),new R(30,new _(2,116)),new R(22,new _(3,36),new _(2,37)),new R(20,new _(4,16),new _(4,17)),new R(24,new _(4,12),new _(4,13))),new ae(10,Int32Array.from([6,28,50]),new R(18,new _(2,68),new _(2,69)),new R(26,new _(4,43),new _(1,44)),new R(24,new _(6,19),new _(2,20)),new R(28,new _(6,15),new _(2,16))),new ae(11,Int32Array.from([6,30,54]),new R(20,new _(4,81)),new R(30,new _(1,50),new _(4,51)),new R(28,new _(4,22),new _(4,23)),new R(24,new _(3,12),new _(8,13))),new ae(12,Int32Array.from([6,32,58]),new R(24,new _(2,92),new _(2,93)),new R(22,new _(6,36),new _(2,37)),new R(26,new _(4,20),new _(6,21)),new R(28,new _(7,14),new _(4,15))),new ae(13,Int32Array.from([6,34,62]),new R(26,new _(4,107)),new R(22,new _(8,37),new _(1,38)),new R(24,new _(8,20),new _(4,21)),new R(22,new _(12,11),new _(4,12))),new ae(14,Int32Array.from([6,26,46,66]),new R(30,new _(3,115),new _(1,116)),new R(24,new _(4,40),new _(5,41)),new R(20,new _(11,16),new _(5,17)),new R(24,new _(11,12),new _(5,13))),new ae(15,Int32Array.from([6,26,48,70]),new R(22,new _(5,87),new _(1,88)),new R(24,new _(5,41),new _(5,42)),new R(30,new _(5,24),new _(7,25)),new R(24,new _(11,12),new _(7,13))),new ae(16,Int32Array.from([6,26,50,74]),new R(24,new _(5,98),new _(1,99)),new R(28,new _(7,45),new _(3,46)),new R(24,new _(15,19),new _(2,20)),new R(30,new _(3,15),new _(13,16))),new ae(17,Int32Array.from([6,30,54,78]),new R(28,new _(1,107),new _(5,108)),new R(28,new _(10,46),new _(1,47)),new R(28,new _(1,22),new _(15,23)),new R(28,new _(2,14),new _(17,15))),new ae(18,Int32Array.from([6,30,56,82]),new R(30,new _(5,120),new _(1,121)),new R(26,new _(9,43),new _(4,44)),new R(28,new _(17,22),new _(1,23)),new R(28,new _(2,14),new _(19,15))),new ae(19,Int32Array.from([6,30,58,86]),new R(28,new _(3,113),new _(4,114)),new R(26,new _(3,44),new _(11,45)),new R(26,new _(17,21),new _(4,22)),new R(26,new _(9,13),new _(16,14))),new ae(20,Int32Array.from([6,34,62,90]),new R(28,new _(3,107),new _(5,108)),new R(26,new _(3,41),new _(13,42)),new R(30,new _(15,24),new _(5,25)),new R(28,new _(15,15),new _(10,16))),new ae(21,Int32Array.from([6,28,50,72,94]),new R(28,new _(4,116),new _(4,117)),new R(26,new _(17,42)),new R(28,new _(17,22),new _(6,23)),new R(30,new _(19,16),new _(6,17))),new ae(22,Int32Array.from([6,26,50,74,98]),new R(28,new _(2,111),new _(7,112)),new R(28,new _(17,46)),new R(30,new _(7,24),new _(16,25)),new R(24,new _(34,13))),new ae(23,Int32Array.from([6,30,54,78,102]),new R(30,new _(4,121),new _(5,122)),new R(28,new _(4,47),new _(14,48)),new R(30,new _(11,24),new _(14,25)),new R(30,new _(16,15),new _(14,16))),new ae(24,Int32Array.from([6,28,54,80,106]),new R(30,new _(6,117),new _(4,118)),new R(28,new _(6,45),new _(14,46)),new R(30,new _(11,24),new _(16,25)),new R(30,new _(30,16),new _(2,17))),new ae(25,Int32Array.from([6,32,58,84,110]),new R(26,new _(8,106),new _(4,107)),new R(28,new _(8,47),new _(13,48)),new R(30,new _(7,24),new _(22,25)),new R(30,new _(22,15),new _(13,16))),new ae(26,Int32Array.from([6,30,58,86,114]),new R(28,new _(10,114),new _(2,115)),new R(28,new _(19,46),new _(4,47)),new R(28,new _(28,22),new _(6,23)),new R(30,new _(33,16),new _(4,17))),new ae(27,Int32Array.from([6,34,62,90,118]),new R(30,new _(8,122),new _(4,123)),new R(28,new _(22,45),new _(3,46)),new R(30,new _(8,23),new _(26,24)),new R(30,new _(12,15),new _(28,16))),new ae(28,Int32Array.from([6,26,50,74,98,122]),new R(30,new _(3,117),new _(10,118)),new R(28,new _(3,45),new _(23,46)),new R(30,new _(4,24),new _(31,25)),new R(30,new _(11,15),new _(31,16))),new ae(29,Int32Array.from([6,30,54,78,102,126]),new R(30,new _(7,116),new _(7,117)),new R(28,new _(21,45),new _(7,46)),new R(30,new _(1,23),new _(37,24)),new R(30,new _(19,15),new _(26,16))),new ae(30,Int32Array.from([6,26,52,78,104,130]),new R(30,new _(5,115),new _(10,116)),new R(28,new _(19,47),new _(10,48)),new R(30,new _(15,24),new _(25,25)),new R(30,new _(23,15),new _(25,16))),new ae(31,Int32Array.from([6,30,56,82,108,134]),new R(30,new _(13,115),new _(3,116)),new R(28,new _(2,46),new _(29,47)),new R(30,new _(42,24),new _(1,25)),new R(30,new _(23,15),new _(28,16))),new ae(32,Int32Array.from([6,34,60,86,112,138]),new R(30,new _(17,115)),new R(28,new _(10,46),new _(23,47)),new R(30,new _(10,24),new _(35,25)),new R(30,new _(19,15),new _(35,16))),new ae(33,Int32Array.from([6,30,58,86,114,142]),new R(30,new _(17,115),new _(1,116)),new R(28,new _(14,46),new _(21,47)),new R(30,new _(29,24),new _(19,25)),new R(30,new _(11,15),new _(46,16))),new ae(34,Int32Array.from([6,34,62,90,118,146]),new R(30,new _(13,115),new _(6,116)),new R(28,new _(14,46),new _(23,47)),new R(30,new _(44,24),new _(7,25)),new R(30,new _(59,16),new _(1,17))),new ae(35,Int32Array.from([6,30,54,78,102,126,150]),new R(30,new _(12,121),new _(7,122)),new R(28,new _(12,47),new _(26,48)),new R(30,new _(39,24),new _(14,25)),new R(30,new _(22,15),new _(41,16))),new ae(36,Int32Array.from([6,24,50,76,102,128,154]),new R(30,new _(6,121),new _(14,122)),new R(28,new _(6,47),new _(34,48)),new R(30,new _(46,24),new _(10,25)),new R(30,new _(2,15),new _(64,16))),new ae(37,Int32Array.from([6,28,54,80,106,132,158]),new R(30,new _(17,122),new _(4,123)),new R(28,new _(29,46),new _(14,47)),new R(30,new _(49,24),new _(10,25)),new R(30,new _(24,15),new _(46,16))),new ae(38,Int32Array.from([6,32,58,84,110,136,162]),new R(30,new _(4,122),new _(18,123)),new R(28,new _(13,46),new _(32,47)),new R(30,new _(48,24),new _(14,25)),new R(30,new _(42,15),new _(32,16))),new ae(39,Int32Array.from([6,26,54,82,110,138,166]),new R(30,new _(20,117),new _(4,118)),new R(28,new _(40,47),new _(7,48)),new R(30,new _(43,24),new _(22,25)),new R(30,new _(10,15),new _(67,16))),new ae(40,Int32Array.from([6,30,58,86,114,142,170]),new R(30,new _(19,118),new _(6,119)),new R(28,new _(18,47),new _(31,48)),new R(30,new _(34,24),new _(34,25)),new R(30,new _(20,15),new _(61,16)))];var ke=function(w){return w[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111",w}(ke||{});class fn{constructor(o,s){this.value=o,this.isMasked=s}unmaskBitMatrix(o,s){for(let l=0;l<s;l++)for(let c=0;c<s;c++)this.isMasked(l,c)&&o.flip(c,l)}}fn.values=new Map([[ke.DATA_MASK_000,new fn(ke.DATA_MASK_000,(w,o)=>0==(w+o&1))],[ke.DATA_MASK_001,new fn(ke.DATA_MASK_001,(w,o)=>0==(1&w))],[ke.DATA_MASK_010,new fn(ke.DATA_MASK_010,(w,o)=>o%3==0)],[ke.DATA_MASK_011,new fn(ke.DATA_MASK_011,(w,o)=>(w+o)%3==0)],[ke.DATA_MASK_100,new fn(ke.DATA_MASK_100,(w,o)=>0==(Math.floor(w/2)+Math.floor(o/3)&1))],[ke.DATA_MASK_101,new fn(ke.DATA_MASK_101,(w,o)=>w*o%6==0)],[ke.DATA_MASK_110,new fn(ke.DATA_MASK_110,(w,o)=>w*o%6<3)],[ke.DATA_MASK_111,new fn(ke.DATA_MASK_111,(w,o)=>0==(w+o+w*o%3&1))]]);class Wd{constructor(o){const s=o.getHeight();if(s<21||1!=(3&s))throw new Z;this.bitMatrix=o}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let o=0;for(let d=0;d<6;d++)o=this.copyBit(d,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let d=5;d>=0;d--)o=this.copyBit(8,d,o);const s=this.bitMatrix.getHeight();let l=0;const c=s-7;for(let d=s-1;d>=c;d--)l=this.copyBit(8,d,l);for(let d=s-8;d<s;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=en.decodeFormatInformation(o,l),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Z}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const o=this.bitMatrix.getHeight(),s=Math.floor((o-17)/4);if(s<=6)return ae.getVersionForNumber(s);let l=0;const c=o-11;for(let f=5;f>=0;f--)for(let g=o-9;g>=c;g--)l=this.copyBit(g,f,l);let d=ae.decodeVersionInformation(l);if(null!==d&&d.getDimensionForVersion()===o)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let g=o-9;g>=c;g--)l=this.copyBit(f,g,l);if(d=ae.decodeVersionInformation(l),null!==d&&d.getDimensionForVersion()===o)return this.parsedVersion=d,d;throw new Z}copyBit(o,s,l){return(this.isMirror?this.bitMatrix.get(s,o):this.bitMatrix.get(o,s))?l<<1|1:l<<1}readCodewords(){const o=this.readFormatInformation(),s=this.readVersion(),l=fn.values.get(o.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const d=s.buildFunctionPattern();let f=!0;const g=new Uint8Array(s.getTotalCodewords());let y=0,C=0,E=0;for(let D=c-1;D>0;D-=2){6===D&&D--;for(let A=0;A<c;A++){const b=f?c-1-A:A;for(let M=0;M<2;M++)d.get(D-M,b)||(E++,C<<=1,this.bitMatrix.get(D-M,b)&&(C|=1),8===E&&(g[y++]=C,E=0,C=0))}f=!f}if(y!==s.getTotalCodewords())throw new Z;return g}remask(){if(null===this.parsedFormatInfo)return;const o=fn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,s)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let s=0,l=o.getWidth();s<l;s++)for(let c=s+1,d=o.getHeight();c<d;c++)o.get(s,c)!==o.get(c,s)&&(o.flip(c,s),o.flip(s,c))}}class tt{constructor(o,s){this.numDataCodewords=o,this.codewords=s}static getDataBlocks(o,s,l){if(o.length!==s.getTotalCodewords())throw new ee;const c=s.getECBlocksForLevel(l);let d=0;const f=c.getECBlocks();for(const M of f)d+=M.getCount();const g=new Array(d);let y=0;for(const M of f)for(let T=0;T<M.getCount();T++){const O=M.getDataCodewords(),L=c.getECCodewordsPerBlock()+O;g[y++]=new tt(O,new Uint8Array(L))}const C=g[0].codewords.length;let E=g.length-1;for(;E>=0&&g[E].codewords.length!==C;)E--;E++;const D=C-c.getECCodewordsPerBlock();let A=0;for(let M=0;M<D;M++)for(let T=0;T<y;T++)g[T].codewords[M]=o[A++];for(let M=E;M<y;M++)g[M].codewords[D]=o[A++];const b=g[0].codewords.length;for(let M=D;M<b;M++)for(let T=0;T<y;T++)g[T].codewords[T<E?M:M+1]=o[A++];return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var le=function(w){return w[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI",w}(le||{});class ue{constructor(o,s,l,c){this.value=o,this.stringValue=s,this.characterCountBitsForVersions=l,this.bits=c,ue.FOR_BITS.set(c,this),ue.FOR_VALUE.set(o,this)}static forBits(o){const s=ue.FOR_BITS.get(o);if(void 0===s)throw new ee;return s}getCharacterCountBits(o){const s=o.getVersionNumber();let l;return l=s<=9?0:s<=26?1:2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(o){return o instanceof ue&&this.value===o.value}toString(){return this.stringValue}}ue.FOR_BITS=new Map,ue.FOR_VALUE=new Map,ue.TERMINATOR=new ue(le.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ue.NUMERIC=new ue(le.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ue.ALPHANUMERIC=new ue(le.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ue.STRUCTURED_APPEND=new ue(le.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ue.BYTE=new ue(le.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ue.ECI=new ue(le.ECI,"ECI",Int32Array.from([0,0,0]),7),ue.KANJI=new ue(le.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ue.FNC1_FIRST_POSITION=new ue(le.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ue.FNC1_SECOND_POSITION=new ue(le.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ue.HANZI=new ue(le.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Yo=(()=>{class w{static decode(s,l,c,d){const f=new Ia(s);let g=new Xe;const y=new Array;let C=-1,E=-1;try{let b,D=null,A=!1;do{if(f.available()<4)b=ue.TERMINATOR;else{const M=f.readBits(4);b=ue.forBits(M)}switch(b){case ue.TERMINATOR:break;case ue.FNC1_FIRST_POSITION:case ue.FNC1_SECOND_POSITION:A=!0;break;case ue.STRUCTURED_APPEND:if(f.available()<16)throw new Z;C=f.readBits(8),E=f.readBits(8);break;case ue.ECI:const M=w.parseECIValue(f);if(D=q.getCharacterSetECIByValue(M),null===D)throw new Z;break;case ue.HANZI:const T=f.readBits(4),O=f.readBits(b.getCharacterCountBits(l));T===w.GB2312_SUBSET&&w.decodeHanziSegment(f,g,O);break;default:const L=f.readBits(b.getCharacterCountBits(l));switch(b){case ue.NUMERIC:w.decodeNumericSegment(f,g,L);break;case ue.ALPHANUMERIC:w.decodeAlphanumericSegment(f,g,L,A);break;case ue.BYTE:w.decodeByteSegment(f,g,L,D,y,d);break;case ue.KANJI:w.decodeKanjiSegment(f,g,L);break;default:throw new Z}}}while(b!==ue.TERMINATOR)}catch{throw new Z}return new co(s,g.toString(),0===y.length?null:y,null===c?null:c.toString(),C,E)}static decodeHanziSegment(s,l,c){if(13*c>s.available())throw new Z;const d=new Uint8Array(2*c);let f=0;for(;c>0;){const g=s.readBits(13);let y=g/96<<8&4294967295|g%96;y+=y<959?41377:42657,d[f]=y>>8&255,d[f+1]=255&y,f+=2,c--}try{l.append($t.decode(d,Ce.GB2312))}catch(g){throw new Z(g)}}static decodeKanjiSegment(s,l,c){if(13*c>s.available())throw new Z;const d=new Uint8Array(2*c);let f=0;for(;c>0;){const g=s.readBits(13);let y=g/192<<8&4294967295|g%192;y+=y<7936?33088:49472,d[f]=y>>8,d[f+1]=y,f+=2,c--}try{l.append($t.decode(d,Ce.SHIFT_JIS))}catch(g){throw new Z(g)}}static decodeByteSegment(s,l,c,d,f,g){if(8*c>s.available())throw new Z;const y=new Uint8Array(c);for(let E=0;E<c;E++)y[E]=s.readBits(8);let C;C=null===d?Ce.guessEncoding(y,g):d.getName();try{l.append($t.decode(y,C))}catch(E){throw new Z(E)}f.push(y)}static toAlphaNumericChar(s){if(s>=w.ALPHANUMERIC_CHARS.length)throw new Z;return w.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,c,d){const f=l.length();for(;c>1;){if(s.available()<11)throw new Z;const g=s.readBits(11);l.append(w.toAlphaNumericChar(Math.floor(g/45))),l.append(w.toAlphaNumericChar(g%45)),c-=2}if(1===c){if(s.available()<6)throw new Z;l.append(w.toAlphaNumericChar(s.readBits(6)))}if(d)for(let g=f;g<l.length();g++)"%"===l.charAt(g)&&(g<l.length()-1&&"%"===l.charAt(g+1)?l.deleteCharAt(g+1):l.setCharAt(g,String.fromCharCode(29)))}static decodeNumericSegment(s,l,c){for(;c>=3;){if(s.available()<10)throw new Z;const d=s.readBits(10);if(d>=1e3)throw new Z;l.append(w.toAlphaNumericChar(Math.floor(d/100))),l.append(w.toAlphaNumericChar(Math.floor(d/10)%10)),l.append(w.toAlphaNumericChar(d%10)),c-=3}if(2===c){if(s.available()<7)throw new Z;const d=s.readBits(7);if(d>=100)throw new Z;l.append(w.toAlphaNumericChar(Math.floor(d/10))),l.append(w.toAlphaNumericChar(d%10))}else if(1===c){if(s.available()<4)throw new Z;const d=s.readBits(4);if(d>=10)throw new Z;l.append(w.toAlphaNumericChar(d))}}static parseECIValue(s){const l=s.readBits(8);if(!(128&l))return 127&l;if(128==(192&l))return(63&l)<<8&4294967295|s.readBits(8);if(192==(224&l))return(31&l)<<16&4294967295|s.readBits(16);throw new Z}}return w.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",w.GB2312_SUBSET=1,w})();class $d{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||null===o||o.length<3)return;const s=o[0];o[0]=o[2],o[2]=s}}class Cc{constructor(){this.rsDecoder=new fo(Ve.QR_CODE_FIELD_256)}decodeBooleanArray(o,s){return this.decodeBitMatrix(Vt.parseFromBooleanArray(o),s)}decodeBitMatrix(o,s){const l=new Wd(o);let c=null;try{return this.decodeBitMatrixParser(l,s)}catch(d){c=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,s);return d.setOther(new $d(!0)),d}catch(d){throw null!==c?c:d}}decodeBitMatrixParser(o,s){const l=o.readVersion(),c=o.readFormatInformation().getErrorCorrectionLevel(),d=o.readCodewords(),f=tt.getDataBlocks(d,l,c);let g=0;for(const E of f)g+=E.getNumDataCodewords();const y=new Uint8Array(g);let C=0;for(const E of f){const D=E.getCodewords(),A=E.getNumDataCodewords();this.correctErrors(D,A);for(let b=0;b<A;b++)y[C++]=D[b]}return Yo.decode(y,l,c,s)}correctErrors(o,s){const l=new Int32Array(o);try{this.rsDecoder.decode(l,o.length-s)}catch{throw new Pt}for(let c=0;c<s;c++)o[c]=l[c]}}class W extends ie{constructor(o,s,l){super(o,s),this.estimatedModuleSize=l}aboutEquals(o,s,l){if(Math.abs(s-this.getY())<=o&&Math.abs(l-this.getX())<=o){const c=Math.abs(o-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(o,s,l){const c=(this.getX()+s)/2,d=(this.getY()+o)/2;return new W(c,d,(this.estimatedModuleSize+l)/2)}}class fi{constructor(o,s,l,c,d,f,g){this.image=o,this.startX=s,this.startY=l,this.width=c,this.height=d,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,s=this.height,c=o+this.width,d=this.startY+s/2,f=new Int32Array(3),g=this.image;for(let y=0;y<s;y++){const C=d+(1&y?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let E=o;for(;E<c&&!g.get(E,C);)E++;let D=0;for(;E<c;){if(g.get(E,C))if(1===D)f[1]++;else if(2===D){if(this.foundPatternCross(f)){const A=this.handlePossibleCenter(f,C,E);if(null!==A)return A}f[0]=f[2],f[1]=1,f[2]=0,D=1}else f[++D]++;else 1===D&&D++,f[D]++;E++}if(this.foundPatternCross(f)){const A=this.handlePossibleCenter(f,C,c);if(null!==A)return A}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new U}static centerFromEnd(o,s){return s-o[2]-o[1]/2}foundPatternCross(o){const s=this.moduleSize,l=s/2;for(let c=0;c<3;c++)if(Math.abs(s-o[c])>=l)return!1;return!0}crossCheckVertical(o,s,l,c){const d=this.image,f=d.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=o;for(;y>=0&&d.get(s,y)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&!d.get(s,y)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=o+1;y<f&&d.get(s,y)&&g[1]<=l;)g[1]++,y++;if(y===f||g[1]>l)return NaN;for(;y<f&&!d.get(s,y)&&g[2]<=l;)g[2]++,y++;return g[2]>l||5*Math.abs(g[0]+g[1]+g[2]-c)>=2*c?NaN:this.foundPatternCross(g)?fi.centerFromEnd(g,y):NaN}handlePossibleCenter(o,s,l){const c=o[0]+o[1]+o[2],d=fi.centerFromEnd(o,l),f=this.crossCheckVertical(s,d,2*o[1],c);if(!isNaN(f)){const g=(o[0]+o[1]+o[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(g,f,d))return C.combineEstimate(f,d,g);const y=new W(d,f,g);this.possibleCenters.push(y),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class ye extends ie{constructor(o,s,l,c){super(o,s),this.estimatedModuleSize=l,this.count=c,void 0===c&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,s,l){if(Math.abs(s-this.getY())<=o&&Math.abs(l-this.getX())<=o){const c=Math.abs(o-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(o,s,l){const c=this.count+1,d=(this.count*this.getX()+s)/c,f=(this.count*this.getY()+o)/c;return new ye(d,f,(this.count*this.estimatedModuleSize+l)/c,c)}}class Qe{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Yd=(()=>{class w{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=null!=s&&void 0!==s.get(ht.TRY_HARDER),c=null!=s&&void 0!==s.get(ht.PURE_BARCODE),d=this.image,f=d.getHeight(),g=d.getWidth();let y=Math.floor(3*f/(4*w.MAX_MODULES));(y<w.MIN_SKIP||l)&&(y=w.MIN_SKIP);let C=!1;const E=new Int32Array(5);for(let A=y-1;A<f&&!C;A+=y){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let b=0;for(let M=0;M<g;M++)if(d.get(M,A))1==(1&b)&&b++,E[b]++;else if(1&b)E[b]++;else if(4===b)if(w.foundPatternCross(E)){if(!0!==this.handlePossibleCenter(E,A,M,c)){E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,b=3;continue}if(y=2,!0===this.hasSkipped)C=this.haveMultiplyConfirmedCenters();else{const O=this.findRowSkip();O>E[2]&&(A+=O-E[2]-y,M=g-1)}b=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,b=3;else E[++b]++;w.foundPatternCross(E)&&!0===this.handlePossibleCenter(E,A,g,c)&&(y=E[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return ie.orderBestPatterns(D),new Qe(D)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let f=0;f<5;f++){const g=s[f];if(0===g)return!1;l+=g}if(l<7)return!1;const c=l/7,d=c/2;return Math.abs(c-s[0])<d&&Math.abs(c-s[1])<d&&Math.abs(3*c-s[2])<3*d&&Math.abs(c-s[3])<d&&Math.abs(c-s[4])<d}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,c,d){const f=this.getCrossCheckStateCount();let g=0;const y=this.image;for(;s>=g&&l>=g&&y.get(l-g,s-g);)f[2]++,g++;if(s<g||l<g)return!1;for(;s>=g&&l>=g&&!y.get(l-g,s-g)&&f[1]<=c;)f[1]++,g++;if(s<g||l<g||f[1]>c)return!1;for(;s>=g&&l>=g&&y.get(l-g,s-g)&&f[0]<=c;)f[0]++,g++;if(f[0]>c)return!1;const C=y.getHeight(),E=y.getWidth();for(g=1;s+g<C&&l+g<E&&y.get(l+g,s+g);)f[2]++,g++;if(s+g>=C||l+g>=E)return!1;for(;s+g<C&&l+g<E&&!y.get(l+g,s+g)&&f[3]<c;)f[3]++,g++;if(s+g>=C||l+g>=E||f[3]>=c)return!1;for(;s+g<C&&l+g<E&&y.get(l+g,s+g)&&f[4]<c;)f[4]++,g++;return!(f[4]>=c)&&Math.abs(f[0]+f[1]+f[2]+f[3]+f[4]-d)<2*d&&w.foundPatternCross(f)}crossCheckVertical(s,l,c,d){const f=this.image,g=f.getHeight(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&f.get(l,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!f.get(l,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&f.get(l,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<g&&f.get(l,C);)y[2]++,C++;if(C===g)return NaN;for(;C<g&&!f.get(l,C)&&y[3]<c;)y[3]++,C++;if(C===g||y[3]>=c)return NaN;for(;C<g&&f.get(l,C)&&y[4]<c;)y[4]++,C++;return y[4]>=c||5*Math.abs(y[0]+y[1]+y[2]+y[3]+y[4]-d)>=2*d?NaN:w.foundPatternCross(y)?w.centerFromEnd(y,C):NaN}crossCheckHorizontal(s,l,c,d){const f=this.image,g=f.getWidth(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&f.get(C,l);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!f.get(C,l)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&f.get(C,l)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<g&&f.get(C,l);)y[2]++,C++;if(C===g)return NaN;for(;C<g&&!f.get(C,l)&&y[3]<c;)y[3]++,C++;if(C===g||y[3]>=c)return NaN;for(;C<g&&f.get(C,l)&&y[4]<c;)y[4]++,C++;return y[4]>=c||5*Math.abs(y[0]+y[1]+y[2]+y[3]+y[4]-d)>=d?NaN:w.foundPatternCross(y)?w.centerFromEnd(y,C):NaN}handlePossibleCenter(s,l,c,d){const f=s[0]+s[1]+s[2]+s[3]+s[4];let g=w.centerFromEnd(s,c),y=this.crossCheckVertical(l,Math.floor(g),s[2],f);if(!isNaN(y)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(y),s[2],f),!isNaN(g)&&(!d||this.crossCheckDiagonal(Math.floor(y),Math.floor(g),s[2],f)))){const C=f/7;let E=!1;const D=this.possibleCenters;for(let A=0,b=D.length;A<b;A++){const M=D[A];if(M.aboutEquals(C,y,g)){D[A]=M.combineEstimate(y,g,C),E=!0;break}}if(!E){const A=new ye(g,y,C);D.push(A),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=w.CENTER_QUORUM){if(null!=l)return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);l=c}return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const c=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=w.CENTER_QUORUM&&(s++,l+=g.getEstimatedModuleSize());if(s<3)return!1;const d=l/c;let f=0;for(const g of this.possibleCenters)f+=Math.abs(g.getEstimatedModuleSize()-d);return f<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new U;const l=this.possibleCenters;let c;if(s>3){let d=0,f=0;for(const C of this.possibleCenters){const E=C.getEstimatedModuleSize();d+=E,f+=E*E}c=d/s;let g=Math.sqrt(f/s-c*c);l.sort((C,E)=>{const D=Math.abs(E.getEstimatedModuleSize()-c),A=Math.abs(C.getEstimatedModuleSize()-c);return D<A?-1:D>A?1:0});const y=Math.max(.2*c,g);for(let C=0;C<l.length&&l.length>3;C++)Math.abs(l[C].getEstimatedModuleSize()-c)>y&&(l.splice(C,1),C--)}if(l.length>3){let d=0;for(const f of l)d+=f.getEstimatedModuleSize();c=d/l.length,l.sort((f,g)=>{if(g.getCount()===f.getCount()){const y=Math.abs(g.getEstimatedModuleSize()-c),C=Math.abs(f.getEstimatedModuleSize()-c);return y<C?1:y>C?-1:0}return g.getCount()-f.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}return w.CENTER_QUORUM=2,w.MIN_SKIP=3,w.MAX_MODULES=57,w})();class qo{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=null==o?null:o.get(ht.NEED_RESULT_POINT_CALLBACK);const l=new Yd(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(l)}processFinderPatternInfo(o){const s=o.getTopLeft(),l=o.getTopRight(),c=o.getBottomLeft(),d=this.calculateModuleSize(s,l,c);if(d<1)throw new U("No pattern found in proccess finder.");const f=qo.computeDimension(s,l,c,d),g=ae.getProvisionalVersionForDimension(f),y=g.getDimensionForVersion()-7;let C=null;if(g.getAlignmentPatternCenters().length>0){const b=l.getX()-s.getX()+c.getX(),M=l.getY()-s.getY()+c.getY(),T=1-3/y,O=Math.floor(s.getX()+T*(b-s.getX())),L=Math.floor(s.getY()+T*(M-s.getY()));for(let $=4;$<=16;$<<=1)try{C=this.findAlignmentInRegion(d,O,L,$);break}catch(Q){if(!(Q instanceof U))throw Q}}const E=qo.createTransform(s,l,c,C,f),D=qo.sampleGrid(this.image,E,f);let A;return A=null===C?[c,s,l]:[c,s,l,C],new ho(D,A)}static createTransform(o,s,l,c,d){const f=d-3.5;let g,y,C,E;return null!==c?(g=c.getX(),y=c.getY(),C=f-3,E=C):(g=s.getX()-o.getX()+l.getX(),y=s.getY()-o.getY()+l.getY(),C=f,E=f),An.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,C,E,3.5,f,o.getX(),o.getY(),s.getX(),s.getY(),g,y,l.getX(),l.getY())}static sampleGrid(o,s,l){return Br.getInstance().sampleGridWithTransform(o,l,l,s)}static computeDimension(o,s,l,c){const d=je.round(ie.distance(o,s)/c),f=je.round(ie.distance(o,l)/c);let g=Math.floor((d+f)/2)+7;switch(3&g){case 0:g++;break;case 2:g--;break;case 3:throw new U("Dimensions could be not found.")}return g}calculateModuleSize(o,s,l){return(this.calculateModuleSizeOneWay(o,s)+this.calculateModuleSizeOneWay(o,l))/2}calculateModuleSizeOneWay(o,s){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(o,s,l,c){let d=this.sizeOfBlackWhiteBlackRun(o,s,l,c),f=1,g=o-(l-o);g<0?(f=o/(o-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-o)/(g-o),g=this.image.getWidth()-1);let y=Math.floor(s-(c-s)*f);return f=1,y<0?(f=s/(s-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(y-s),y=this.image.getHeight()-1),g=Math.floor(o+(g-o)*f),d+=this.sizeOfBlackWhiteBlackRun(o,s,g,y),d-1}sizeOfBlackWhiteBlackRun(o,s,l,c){const d=Math.abs(c-s)>Math.abs(l-o);if(d){let b=o;o=s,s=b,b=l,l=c,c=b}const f=Math.abs(l-o),g=Math.abs(c-s);let y=-f/2;const C=o<l?1:-1,E=s<c?1:-1;let D=0;const A=l+C;for(let b=o,M=s;b!==A;b+=C){if(1===D===this.image.get(d?M:b,d?b:M)){if(2===D)return je.distance(b,M,o,s);D++}if(y+=g,y>0){if(M===c)break;M+=E,y-=f}}return 2===D?je.distance(l+C,c,o,s):NaN}findAlignmentInRegion(o,s,l,c){const d=Math.floor(c*o),f=Math.max(0,s-d),g=Math.min(this.image.getWidth()-1,s+d);if(g-f<3*o)throw new U("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),C=Math.min(this.image.getHeight()-1,l+d);if(C-y<3*o)throw new U("Alignment bottom exceeds estimated module size.");return new fi(this.image,f,y,g-f,C-y,o,this.resultPointCallback).find()}}class zr{constructor(){this.decoder=new Cc}getDecoder(){return this.decoder}decode(o,s){let l,c;if(null!=s&&void 0!==s.get(ht.PURE_BARCODE)){const y=zr.extractPureBits(o.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,s),c=zr.NO_POINTS}else{const y=new qo(o.getBlackMatrix()).detect(s);l=this.decoder.decodeBitMatrix(y.getBits(),s),c=y.getPoints()}l.getOther()instanceof $d&&l.getOther().applyMirroredCorrection(c);const d=new pt(l.getText(),l.getRawBytes(),void 0,c,fe.QR_CODE,void 0),f=l.getByteSegments();null!==f&&d.putMetadata(Re.BYTE_SEGMENTS,f);const g=l.getECLevel();return null!==g&&d.putMetadata(Re.ERROR_CORRECTION_LEVEL,g),l.hasStructuredAppend()&&(d.putMetadata(Re.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(Re.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(o){const s=o.getTopLeftOnBit(),l=o.getBottomRightOnBit();if(null===s||null===l)throw new U;const c=this.moduleSize(s,o);let d=s[1],f=l[1],g=s[0],y=l[0];if(g>=y||d>=f)throw new U;if(f-d!=y-g&&(y=g+(f-d),y>=o.getWidth()))throw new U;const C=Math.round((y-g+1)/c),E=Math.round((f-d+1)/c);if(C<=0||E<=0)throw new U;if(E!==C)throw new U;const D=Math.floor(c/2);d+=D,g+=D;const A=g+Math.floor((C-1)*c)-y;if(A>0){if(A>D)throw new U;g-=A}const b=d+Math.floor((E-1)*c)-f;if(b>0){if(b>D)throw new U;d-=b}const M=new Vt(C,E);for(let T=0;T<E;T++){const O=d+Math.floor(T*c);for(let L=0;L<C;L++)o.get(g+Math.floor(L*c),O)&&M.set(L,T)}return M}static moduleSize(o,s){const l=s.getHeight(),c=s.getWidth();let d=o[0],f=o[1],g=!0,y=0;for(;d<c&&f<l;){if(g!==s.get(d,f)){if(5==++y)break;g=!g}d++,f++}if(d===c||f===l)throw new U;return(d-o[0])/7}}zr.NO_POINTS=new Array;class he{PDF417Common(){}static getBitCountSum(o){return je.sum(o)}static toIntArray(o){if(null==o||!o.length)return he.EMPTY_INT_ARRAY;const s=new Int32Array(o.length);let l=0;for(const c of o)s[l++]=c;return s}static getCodeword(o){const s=St.binarySearch(he.SYMBOL_TABLE,262143&o);return s<0?-1:(he.CODEWORD_TABLE[s]-1)%he.NUMBER_OF_CODEWORDS}}he.NUMBER_OF_CODEWORDS=929,he.MAX_CODEWORDS_IN_BARCODE=he.NUMBER_OF_CODEWORDS-1,he.MIN_ROWS_IN_BARCODE=3,he.MAX_ROWS_IN_BARCODE=90,he.MODULES_IN_CODEWORD=17,he.MODULES_IN_STOP_PATTERN=18,he.BARS_IN_MODULE=8,he.EMPTY_INT_ARRAY=new Int32Array([]),he.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),he.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class In{constructor(o,s){this.bits=o,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Te{static detectMultiple(o,s,l){let c=o.getBlackMatrix(),d=Te.detect(l,c);return d.length||(c=c.clone(),c.rotate180(),d=Te.detect(l,c)),new In(c,d)}static detect(o,s){const l=new Array;let c=0,d=0,f=!1;for(;c<s.getHeight();){const g=Te.findVertices(s,c,d);if(null!=g[0]||null!=g[3]){if(f=!0,l.push(g),!o)break;null!=g[2]?(d=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(d=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}else{if(!f)break;f=!1,d=0;for(const y of l)null!=y[1]&&(c=Math.trunc(Math.max(c,y[1].getY()))),null!=y[3]&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=Te.ROW_STEP}}return l}static findVertices(o,s,l){const c=o.getHeight(),d=o.getWidth(),f=new Array(8);return Te.copyToResult(f,Te.findRowsWithPattern(o,c,d,s,l,Te.START_PATTERN),Te.INDEXES_START_PATTERN),null!=f[4]&&(l=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Te.copyToResult(f,Te.findRowsWithPattern(o,c,d,s,l,Te.STOP_PATTERN),Te.INDEXES_STOP_PATTERN),f}static copyToResult(o,s,l){for(let c=0;c<l.length;c++)o[l[c]]=s[c]}static findRowsWithPattern(o,s,l,c,d,f){const g=new Array(4);let y=!1;const C=new Int32Array(f.length);for(;c<s;c+=Te.ROW_STEP){let D=Te.findGuardPattern(o,d,c,l,!1,f,C);if(null!=D){for(;c>0;){const A=Te.findGuardPattern(o,d,--c,l,!1,f,C);if(null==A){c++;break}D=A}g[0]=new ie(D[0],c),g[1]=new ie(D[1],c),y=!0;break}}let E=c+1;if(y){let D=0,A=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;E<s;E++){const b=Te.findGuardPattern(o,A[0],E,l,!1,f,C);if(null!=b&&Math.abs(A[0]-b[0])<Te.MAX_PATTERN_DRIFT&&Math.abs(A[1]-b[1])<Te.MAX_PATTERN_DRIFT)A=b,D=0;else{if(D>Te.SKIPPED_ROW_COUNT_MAX)break;D++}}E-=D+1,g[2]=new ie(A[0],E),g[3]=new ie(A[1],E)}return E-c<Te.BARCODE_MIN_HEIGHT&&St.fill(g,null),g}static findGuardPattern(o,s,l,c,d,f,g){St.fillWithin(g,0,g.length,0);let y=s,C=0;for(;o.get(y,l)&&y>0&&C++<Te.MAX_PIXEL_DRIFT;)y--;let E=y,D=0,A=f.length;for(let b=d;E<c;E++)if(o.get(E,l)!==b)g[D]++;else{if(D===A-1){if(Te.patternMatchVariance(g,f,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE)return new Int32Array([y,E]);y+=g[0]+g[1],it.arraycopy(g,2,g,0,D-1),g[D-1]=0,g[D]=0,D--}else D++;g[D]=1,b=!b}return D===A-1&&Te.patternMatchVariance(g,f,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE?new Int32Array([y,E-1]):null}static patternMatchVariance(o,s,l){let c=o.length,d=0,f=0;for(let C=0;C<c;C++)d+=o[C],f+=s[C];if(d<f)return 1/0;let g=d/f;l*=g;let y=0;for(let C=0;C<c;C++){let E=o[C],D=s[C]*g,A=E>D?E-D:D-E;if(A>l)return 1/0;y+=A}return y/d}}Te.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Te.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Te.MAX_AVG_VARIANCE=.42,Te.MAX_INDIVIDUAL_VARIANCE=.8,Te.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Te.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Te.MAX_PIXEL_DRIFT=3,Te.MAX_PATTERN_DRIFT=5,Te.SKIPPED_ROW_COUNT_MAX=25,Te.ROW_STEP=5,Te.BARCODE_MIN_HEIGHT=10;class qt{constructor(o,s){if(0===s.length)throw new ee;this.field=o;let l=s.length;if(l>1&&0===s[0]){let c=1;for(;c<l&&0===s[c];)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),it.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(0===o)return this.getCoefficient(0);if(1===o){let c=0;for(let d of this.coefficients)c=this.field.add(c,d);return c}let s=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)s=this.field.add(this.field.multiply(o,s),this.coefficients[c]);return s}add(o){if(!this.field.equals(o.field))throw new ee("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let s=this.coefficients,l=o.coefficients;if(s.length>l.length){let f=s;s=l,l=f}let c=new Int32Array(l.length),d=l.length-s.length;it.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=this.field.add(s[f-d],l[f]);return new qt(this.field,c)}subtract(o){if(!this.field.equals(o.field))throw new ee("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof qt?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new ee("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new qt(this.field,new Int32Array([0]));let s=this.coefficients,l=s.length,c=o.coefficients,d=c.length,f=new Int32Array(l+d-1);for(let g=0;g<l;g++){let y=s[g];for(let C=0;C<d;C++)f[g+C]=this.field.add(f[g+C],this.field.multiply(y,c[C]))}return new qt(this.field,f)}negative(){let o=this.coefficients.length,s=new Int32Array(o);for(let l=0;l<o;l++)s[l]=this.field.subtract(0,this.coefficients[l]);return new qt(this.field,s)}multiplyScalar(o){if(0===o)return new qt(this.field,new Int32Array([0]));if(1===o)return this;let s=this.coefficients.length,l=new Int32Array(s);for(let c=0;c<s;c++)l[c]=this.field.multiply(this.coefficients[c],o);return new qt(this.field,l)}multiplyByMonomial(o,s){if(o<0)throw new ee;if(0===s)return new qt(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+o);for(let d=0;d<l;d++)c[d]=this.field.multiply(this.coefficients[d],s);return new qt(this.field,c)}toString(){let o=new Xe;for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);0!==l&&(l<0?(o.append(" - "),l=-l):o.length()>0&&o.append(" + "),(0===s||1!==l)&&o.append(l),0!==s&&(1===s?o.append("x"):(o.append("x^"),o.append(s))))}return o.toString()}}class n0{add(o,s){return(o+s)%this.modulus}subtract(o,s){return(this.modulus+o-s)%this.modulus}exp(o){return this.expTable[o]}log(o){if(0===o)throw new ee;return this.logTable[o]}inverse(o){if(0===o)throw new ya;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,s){return 0===o||0===s?0:this.expTable[(this.logTable[o]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Sr extends n0{constructor(o,s){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let l=1;for(let c=0;c<o;c++)this.expTable[c]=l,l=l*s%o;for(let c=0;c<o-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new qt(this,new Int32Array([0])),this.one=new qt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,s){if(o<0)throw new ee;if(0===s)return this.zero;let l=new Int32Array(o+1);return l[0]=s,new qt(this,l)}}Sr.PDF417_GF=new Sr(he.NUMBER_OF_CODEWORDS,3);class qd{constructor(){this.field=Sr.PDF417_GF}decode(o,s,l){let c=new qt(this.field,o),d=new Int32Array(s),f=!1;for(let M=s;M>0;M--){let T=c.evaluateAt(this.field.exp(M));d[s-M]=T,0!==T&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(null!=l)for(const M of l){let T=this.field.exp(o.length-1-M),O=new qt(this.field,new Int32Array([this.field.subtract(0,T),1]));g=g.multiply(O)}let y=new qt(this.field,d),C=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),y,s),E=C[0],D=C[1],A=this.findErrorLocations(E),b=this.findErrorMagnitudes(D,E,A);for(let M=0;M<A.length;M++){let T=o.length-1-this.field.log(A[M]);if(T<0)throw Pt.getChecksumInstance();o[T]=this.field.subtract(o[T],b[M])}return A.length}runEuclideanAlgorithm(o,s,l){if(o.getDegree()<s.getDegree()){let A=o;o=s,s=A}let c=o,d=s,f=this.field.getZero(),g=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let A=c,b=f;if(c=d,f=g,c.isZero())throw Pt.getChecksumInstance();d=A;let M=this.field.getZero(),T=c.getCoefficient(c.getDegree()),O=this.field.inverse(T);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let L=d.getDegree()-c.getDegree(),$=this.field.multiply(d.getCoefficient(d.getDegree()),O);M=M.add(this.field.buildMonomial(L,$)),d=d.subtract(c.multiplyByMonomial(L,$))}g=M.multiply(f).subtract(b).negative()}let y=g.getCoefficient(0);if(0===y)throw Pt.getChecksumInstance();let C=this.field.inverse(y);return[g.multiply(C),d.multiply(C)]}findErrorLocations(o){let s=o.getDegree(),l=new Int32Array(s),c=0;for(let d=1;d<this.field.getSize()&&c<s;d++)0===o.evaluateAt(d)&&(l[c]=this.field.inverse(d),c++);if(c!==s)throw Pt.getChecksumInstance();return l}findErrorMagnitudes(o,s,l){let c=s.getDegree(),d=new Int32Array(c);for(let C=1;C<=c;C++)d[c-C]=this.field.multiply(C,s.getCoefficient(C));let f=new qt(this.field,d),g=l.length,y=new Int32Array(g);for(let C=0;C<g;C++){let E=this.field.inverse(l[C]),D=this.field.subtract(0,o.evaluateAt(E)),A=this.field.inverse(f.evaluateAt(E));y[C]=this.field.multiply(D,A)}return y}}class Li{constructor(o,s,l,c,d){o instanceof Li?this.constructor_2(o):this.constructor_1(o,s,l,c,d)}constructor_1(o,s,l,c,d){const f=null==s||null==l,g=null==c||null==d;if(f&&g)throw new U;f?(s=new ie(0,c.getY()),l=new ie(0,d.getY())):g&&(c=new ie(o.getWidth()-1,s.getY()),d=new ie(o.getWidth()-1,l.getY())),this.image=o,this.topLeft=s,this.bottomLeft=l,this.topRight=c,this.bottomRight=d,this.minX=Math.trunc(Math.min(s.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),d.getX())),this.minY=Math.trunc(Math.min(s.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,s){return null==o?s:null==s?o:new Li(o.image,o.topLeft,o.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(o,s,l){let c=this.topLeft,d=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(o>0){let y=l?this.topLeft:this.topRight,C=Math.trunc(y.getY()-o);C<0&&(C=0);let E=new ie(y.getX(),C);l?c=E:f=E}if(s>0){let y=l?this.bottomLeft:this.bottomRight,C=Math.trunc(y.getY()+s);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let E=new ie(y.getX(),C);l?d=E:g=E}return new Li(this.image,c,d,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class r0{constructor(o,s,l,c){this.columnCount=o,this.errorCorrectionLevel=c,this.rowCountUpperPart=s,this.rowCountLowerPart=l,this.rowCount=s+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xo{constructor(){this.buffer=""}static form(o,s){let l=-1;return o.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function c(f,g,y,C,E,D){if("%%"===f)return"%";if(void 0===s[++l])return;f=C?parseInt(C.substr(1)):void 0;let b,A=E?parseInt(E.substr(1)):void 0;switch(D){case"s":b=s[l];break;case"c":b=s[l][0];break;case"f":b=parseFloat(s[l]).toFixed(f);break;case"p":b=parseFloat(s[l]).toPrecision(f);break;case"e":b=parseFloat(s[l]).toExponential(f);break;case"x":b=parseInt(s[l]).toString(A||16);break;case"d":b=parseFloat(parseInt(s[l],A||10).toPrecision(f)).toFixed(0)}b="object"==typeof b?JSON.stringify(b):(+b).toString(A);let M=parseInt(y),T=y&&y[0]+""=="0"?"0":" ";for(;b.length<M;)b=void 0!==g?b+T:T+b;return b})}format(o,...s){this.buffer+=Xo.form(o,s)}toString(){return this.buffer}}let wc=(()=>{class w{constructor(s){this.boundingBox=new Li(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(null!=l)return l;for(let c=1;c<w.MAX_NEARBY_DISTANCE;c++){let d=this.imageRowToCodewordIndex(s)-c;if(d>=0&&(l=this.codewords[d],null!=l)||(d=this.imageRowToCodewordIndex(s)+c,d<this.codewords.length&&(l=this.codewords[d],null!=l)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Xo;let l=0;for(const c of this.codewords)null!=c?s.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue()):s.format("%3d:    |   %n",l++);return s.toString()}}return w.MAX_NEARBY_DISTANCE=5,w})();class Zo{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let s=this.values.get(o);null==s&&(s=0),s++,this.values.set(o,s)}getValue(){let o=-1,s=new Array;for(const[l,c]of this.values.entries()){const d={getKey:()=>l,getValue:()=>c};d.getValue()>o?(o=d.getValue(),s=[],s.push(d.getKey())):d.getValue()===o&&s.push(d.getKey())}return he.toIntArray(s)}getConfidence(o){return this.values.get(o)}}class xc extends wc{constructor(o,s){super(o),this._isLeft=s}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,o);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,C=1,E=0;for(let D=f;D<g;D++){if(null==s[D])continue;let A=s[D],b=A.getRowNumber()-y;if(0===b)E++;else if(1===b)C=Math.max(C,E),E=1,y=A.getRowNumber();else if(b<0||A.getRowNumber()>=o.getRowCount()||b>D)s[D]=null;else{let M;M=C>2?(C-2)*b:b;let T=M>=D;for(let O=1;O<=M&&!T;O++)T=null!=s[D-O];T?s[D]=null:(y=A.getRowNumber(),E=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(null==o)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let s=new Int32Array(o.getRowCount());for(let l of this.getCodewords())if(null!=l){let c=l.getRowNumber();if(c>=s.length)continue;s[c]++}return s}adjustIncompleteIndicatorColumnRowNumbers(o){let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),y=-1;for(let C=d;C<f;C++){if(null==g[C])continue;let E=g[C];E.setRowNumberAsRowIndicatorColumn();let D=E.getRowNumber()-y;0===D||(1===D?y=E.getRowNumber():E.getRowNumber()>=o.getRowCount()?g[C]=null:y=E.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),s=new Zo,l=new Zo,c=new Zo,d=new Zo;for(let g of o){if(null==g)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,C=g.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(3*y+1);break;case 1:d.setValue(y/3),c.setValue(y%3);break;case 2:s.setValue(y+1)}}if(0===s.getValue().length||0===l.getValue().length||0===c.getValue().length||0===d.getValue().length||s.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<he.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>he.MAX_ROWS_IN_BARCODE)return null;let f=new r0(s.getValue()[0],l.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(o,f),f}removeIncorrectCodewords(o,s){for(let l=0;l<o.length;l++){let c=o[l];if(null==o[l])continue;let d=c.getValue()%30,f=c.getRowNumber();if(f>s.getRowCount())o[l]=null;else switch(this._isLeft||(f+=2),f%3){case 0:3*d+1!==s.getRowCountUpperPart()&&(o[l]=null);break;case 1:(Math.trunc(d/3)!==s.getErrorCorrectionLevel()||d%3!==s.getRowCountLowerPart())&&(o[l]=null);break;case 2:d+1!==s.getColumnCount()&&(o[l]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Qo{constructor(o,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s,o=he.MAX_CODEWORDS_IN_BARCODE;do{s=o,o=this.adjustRowNumbersAndGetCount()}while(o>0&&o<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(0===o)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let l=this.detectionResultColumns[s].getCodewords();for(let c=0;c<l.length;c++)null!=l[c]&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(s,c,l))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let o=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++)if(null!=o[l]&&null!=s[l]&&o[l].getRowNumber()===s[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let d=this.detectionResultColumns[c].getCodewords()[l];null!=d&&(d.setRowNumber(o[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let o=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++){if(null==s[l])continue;let c=s[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[l];null!=g&&(d=Qo.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let o=0,s=this.detectionResultColumns[0].getCodewords();for(let l=0;l<s.length;l++){if(null==s[l])continue;let c=s[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[l];null!=g&&(d=Qo.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,s,l){return null==l||l.hasValidRowNumber()||(l.isValidRowNumber(o)?(l.setRowNumber(o),s=0):++s),s}adjustRowNumbers(o,s,l){if(!this.detectionResultColumns[o-1])return;let c=l[s],d=this.detectionResultColumns[o-1].getCodewords(),f=d;null!=this.detectionResultColumns[o+1]&&(f=this.detectionResultColumns[o+1].getCodewords());let g=new Array(14);g[2]=d[s],g[3]=f[s],s>0&&(g[0]=l[s-1],g[4]=d[s-1],g[5]=f[s-1]),s>1&&(g[8]=l[s-2],g[10]=d[s-2],g[11]=f[s-2]),s<l.length-1&&(g[1]=l[s+1],g[6]=d[s+1],g[7]=f[s+1]),s<l.length-2&&(g[9]=l[s+2],g[12]=d[s+2],g[13]=f[s+2]);for(let y of g)if(Qo.adjustRowNumber(c,y))return}static adjustRowNumber(o,s){return!(null==s||!s.hasValidRowNumber()||s.getBucket()!==o.getBucket()||(o.setRowNumber(s.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,s){this.detectionResultColumns[o]=s}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];null==o&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Xo;for(let l=0;l<o.getCodewords().length;l++){s.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(null==this.detectionResultColumns[c]){s.format("    |   ");continue}let d=this.detectionResultColumns[c].getCodewords()[l];null!=d?s.format(" %3d|%3d",d.getRowNumber(),d.getValue()):s.format("    |   ")}s.format("%n")}return s.toString()}}let Vn=(()=>{class w{constructor(s,l,c,d){this.rowNumber=w.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==w.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}return w.BARCODE_ROW_UNKNOWN=-1,w})();class oe{static initialize(){for(let o=0;o<he.SYMBOL_TABLE.length;o++){let s=he.SYMBOL_TABLE[o],l=1&s;for(let c=0;c<he.BARS_IN_MODULE;c++){let d=0;for(;(1&s)===l;)d+=1,s>>=1;l=1&s,oe.RATIOS_TABLE[o]||(oe.RATIOS_TABLE[o]=new Array(he.BARS_IN_MODULE)),oe.RATIOS_TABLE[o][he.BARS_IN_MODULE-c-1]=Math.fround(d/he.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let s=oe.getDecodedCodewordValue(oe.sampleBitCounts(o));return-1!==s?s:oe.getClosestDecodedValue(o)}static sampleBitCounts(o){let s=je.sum(o),l=new Int32Array(he.BARS_IN_MODULE),c=0,d=0;for(let f=0;f<he.MODULES_IN_CODEWORD;f++)d+o[c]<=s/(2*he.MODULES_IN_CODEWORD)+f*s/he.MODULES_IN_CODEWORD&&(d+=o[c],c++),l[c]++;return l}static getDecodedCodewordValue(o){let s=oe.getBitValue(o);return-1===he.getCodeword(s)?-1:s}static getBitValue(o){let s=0;for(let l=0;l<o.length;l++)for(let c=0;c<o[l];c++)s=s<<1|(l%2==0?1:0);return Math.trunc(s)}static getClosestDecodedValue(o){let s=je.sum(o),l=new Array(he.BARS_IN_MODULE);if(s>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(o[f]/s);let c=Ca.MAX_VALUE,d=-1;this.bSymbolTableReady||oe.initialize();for(let f=0;f<oe.RATIOS_TABLE.length;f++){let g=0,y=oe.RATIOS_TABLE[f];for(let C=0;C<he.BARS_IN_MODULE;C++){let E=Math.fround(y[C]-l[C]);if(g+=Math.fround(E*E),g>=c)break}g<c&&(c=g,d=he.SYMBOL_TABLE[f])}return d}}oe.bSymbolTableReady=!1,oe.RATIOS_TABLE=new Array(he.SYMBOL_TABLE.length).map(w=>new Array(he.BARS_IN_MODULE));class Xd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Zd{static parseLong(o,s=void 0){return parseInt(o,s)}}let o0=(()=>{class w extends Kt{}return w.kind="NullPointerException",w})();class ge{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,s,l){if(null==o)throw new o0;if(s<0||s>o.length||l<0||s+l>o.length||s+l<0)throw new pa;if(0!==l)for(let c=0;c<l;c++)this.write(o[s+c])}flush(){}close(){}}class s0 extends Kt{}class Zn extends ge{constructor(o=32){if(super(),this.count=0,o<0)throw new ee("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let l=this.buf.length<<1;if(l-o<0&&(l=o),l<0){if(o<0)throw new s0;l=xe.MAX_VALUE}this.buf=St.copyOfUint8Array(this.buf,l)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,s,l){if(s<0||s>o.length||l<0||s+l-o.length>0)throw new pa;this.ensureCapacity(this.count+l),it.arraycopy(o,s,this.buf,this.count,l),this.count+=l}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return St.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?"string"==typeof o?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var Ke=function(w){return w[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT",w}(Ke||{});function Ec(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Co;function Gr(w){if(typeof Co>"u"&&(Co=Ec()),null===Co)throw new Error("BigInt is not supported!");return Co(w)}class F{static decode(o,s){let l=new Xe(""),c=q.ISO8859_1;l.enableDecoding(c);let d=1,f=o[d++],g=new Xd;for(;d<o[0];){switch(f){case F.TEXT_COMPACTION_MODE_LATCH:d=F.textCompaction(o,d,l);break;case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:d=F.byteCompaction(f,o,c,d,l);break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[d++]);break;case F.NUMERIC_COMPACTION_MODE_LATCH:d=F.numericCompaction(o,d,l);break;case F.ECI_CHARSET:q.getCharacterSetECIByValue(o[d++]);break;case F.ECI_GENERAL_PURPOSE:d+=2;break;case F.ECI_USER_DEFINED:d++;break;case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=F.decodeMacroBlock(o,d,g);break;case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:throw new Z;default:d--,d=F.textCompaction(o,d,l)}if(!(d<o.length))throw Z.getFormatInstance();f=o[d++]}if(0===l.length())throw Z.getFormatInstance();let y=new co(null,l.toString(),null,s);return y.setOther(g),y}static decodeMacroBlock(o,s,l){if(s+F.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw Z.getFormatInstance();let c=new Int32Array(F.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<F.NUMBER_OF_SEQUENCE_CODEWORDS;g++,s++)c[g]=o[s];l.setSegmentIndex(xe.parseInt(F.decodeBase900toBase10(c,F.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new Xe;s=F.textCompaction(o,s,d),l.setFileId(d.toString());let f=-1;for(o[s]===F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<o[0];)switch(o[s]){case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o[++s]){case F.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Xe;s=F.textCompaction(o,s+1,g),l.setFileName(g.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new Xe;s=F.textCompaction(o,s+1,y),l.setSender(y.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new Xe;s=F.textCompaction(o,s+1,C),l.setAddressee(C.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new Xe;s=F.numericCompaction(o,s+1,E),l.setSegmentCount(xe.parseInt(E.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new Xe;s=F.numericCompaction(o,s+1,D),l.setTimestamp(Zd.parseLong(D.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new Xe;s=F.numericCompaction(o,s+1,A),l.setChecksum(xe.parseInt(A.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let b=new Xe;s=F.numericCompaction(o,s+1,b),l.setFileSize(Zd.parseLong(b.toString()));break;default:throw Z.getFormatInstance()}break;case F.MACRO_PDF417_TERMINATOR:s++,l.setLastSegment(!0);break;default:throw Z.getFormatInstance()}if(-1!==f){let g=s-f;l.isLastSegment()&&g--,l.setOptionalData(St.copyOfRange(o,f,f+g))}return s}static textCompaction(o,s,l){let c=new Int32Array(2*(o[0]-s)),d=new Int32Array(2*(o[0]-s)),f=0,g=!1;for(;s<o[0]&&!g;){let y=o[s++];if(y<F.TEXT_COMPACTION_MODE_LATCH)c[f]=y/30,c[f+1]=y%30,f+=2;else switch(y){case F.TEXT_COMPACTION_MODE_LATCH:c[f++]=F.TEXT_COMPACTION_MODE_LATCH;break;case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:s--,g=!0;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=o[s++],d[f]=y,f++}}return F.decodeTextCompaction(c,d,f,l),s}static decodeTextCompaction(o,s,l,c){let d=Ke.ALPHA,f=Ke.ALPHA,g=0;for(;g<l;){let y=o[g],C="";switch(d){case Ke.ALPHA:if(y<26)C=String.fromCharCode(65+y);else switch(y){case 26:C=" ";break;case F.LL:d=Ke.LOWER;break;case F.ML:d=Ke.MIXED;break;case F.PS:f=d,d=Ke.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case F.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA}break;case Ke.LOWER:if(y<26)C=String.fromCharCode(97+y);else switch(y){case 26:C=" ";break;case F.AS:f=d,d=Ke.ALPHA_SHIFT;break;case F.ML:d=Ke.MIXED;break;case F.PS:f=d,d=Ke.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case F.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA}break;case Ke.MIXED:if(y<F.PL)C=F.MIXED_CHARS[y];else switch(y){case F.PL:d=Ke.PUNCT;break;case 26:C=" ";break;case F.LL:d=Ke.LOWER;break;case F.AL:d=Ke.ALPHA;break;case F.PS:f=d,d=Ke.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case F.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA}break;case Ke.PUNCT:if(y<F.PAL)C=F.PUNCT_CHARS[y];else switch(y){case F.PAL:d=Ke.ALPHA;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case F.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA}break;case Ke.ALPHA_SHIFT:if(d=f,y<26)C=String.fromCharCode(65+y);else switch(y){case 26:C=" ";break;case F.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA}break;case Ke.PUNCT_SHIFT:if(d=f,y<F.PAL)C=F.PUNCT_CHARS[y];else switch(y){case F.PAL:d=Ke.ALPHA;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case F.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA}}""!==C&&c.append(C),g++}}static byteCompaction(o,s,l,c,d){let f=new Zn,g=0,y=0,C=!1;switch(o){case F.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),D=s[c++];for(;c<s[0]&&!C;)switch(E[g++]=D,y=900*y+D,D=s[c++],D){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:c--,C=!0;break;default:if(g%5==0&&g>0){for(let A=0;A<6;++A)f.write(Number(Gr(y)>>Gr(8*(5-A))));y=0,g=0}}c===s[0]&&D<F.TEXT_COMPACTION_MODE_LATCH&&(E[g++]=D);for(let A=0;A<g;A++)f.write(E[A]);break;case F.BYTE_COMPACTION_MODE_LATCH_6:for(;c<s[0]&&!C;){let A=s[c++];if(A<F.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+A;else switch(A){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:c--,C=!0}if(g%5==0&&g>0){for(let b=0;b<6;++b)f.write(Number(Gr(y)>>Gr(8*(5-b))));y=0,g=0}}}return d.append($t.decode(f.toByteArray(),l)),c}static numericCompaction(o,s,l){let c=0,d=!1,f=new Int32Array(F.MAX_NUMERIC_CODEWORDS);for(;s<o[0]&&!d;){let g=o[s++];if(s===o[0]&&(d=!0),g<F.TEXT_COMPACTION_MODE_LATCH)f[c]=g,c++;else switch(g){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:s--,d=!0}(c%F.MAX_NUMERIC_CODEWORDS==0||g===F.NUMERIC_COMPACTION_MODE_LATCH||d)&&c>0&&(l.append(F.decodeBase900toBase10(f,c)),c=0)}return s}static decodeBase900toBase10(o,s){let l=Gr(0);for(let d=0;d<s;d++)l+=F.EXP900[s-d-1]*Gr(o[d]);let c=l.toString();if("1"!==c.charAt(0))throw new Z;return c.substring(1)}}F.TEXT_COMPACTION_MODE_LATCH=900,F.BYTE_COMPACTION_MODE_LATCH=901,F.NUMERIC_COMPACTION_MODE_LATCH=902,F.BYTE_COMPACTION_MODE_LATCH_6=924,F.ECI_USER_DEFINED=925,F.ECI_GENERAL_PURPOSE=926,F.ECI_CHARSET=927,F.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,F.MACRO_PDF417_TERMINATOR=922,F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,F.MAX_NUMERIC_CODEWORDS=15,F.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,F.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,F.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,F.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,F.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,F.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,F.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,F.PL=25,F.LL=27,F.AS=27,F.ML=28,F.AL=28,F.PS=29,F.PAL=29,F.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",F.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",F.EXP900=Ec()?function Ko(){let w=[];w[0]=Gr(1);let o=Gr(900);w[1]=o;for(let s=2;s<16;s++)w[s]=w[s-1]*o;return w}():[],F.NUMBER_OF_SEQUENCE_CODEWORDS=2;class _e{constructor(){}static decode(o,s,l,c,d,f,g){let D,y=new Li(o,s,l,c,d),C=null,E=null;for(let M=!0;;M=!1){if(null!=s&&(C=_e.getRowIndicatorColumn(o,y,s,!0,f,g)),null!=c&&(E=_e.getRowIndicatorColumn(o,y,c,!1,f,g)),D=_e.merge(C,E),null==D)throw U.getNotFoundInstance();let T=D.getBoundingBox();if(!M||null==T||!(T.getMinY()<y.getMinY()||T.getMaxY()>y.getMaxY()))break;y=T}D.setBoundingBox(y);let A=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,C),D.setDetectionResultColumn(A,E);let b=null!=C;for(let M=1;M<=A;M++){let O,T=b?M:A-M;if(void 0!==D.getDetectionResultColumn(T))continue;O=0===T||T===A?new xc(y,0===T):new wc(y),D.setDetectionResultColumn(T,O);let L=-1,$=L;for(let Q=y.getMinY();Q<=y.getMaxY();Q++){if(L=_e.getStartColumn(D,T,Q,b),L<0||L>y.getMaxX()){if(-1===$)continue;L=$}let B=_e.detectCodeword(o,y.getMinX(),y.getMaxX(),b,L,Q,f,g);null!=B&&(O.setCodeword(Q,B),$=L,f=Math.min(f,B.getWidth()),g=Math.max(g,B.getWidth()))}}return _e.createDecoderResult(D)}static merge(o,s){if(null==o&&null==s)return null;let l=_e.getBarcodeMetadata(o,s);if(null==l)return null;let c=Li.merge(_e.adjustBoundingBox(o),_e.adjustBoundingBox(s));return new Qo(l,c)}static adjustBoundingBox(o){if(null==o)return null;let s=o.getRowHeights();if(null==s)return null;let l=_e.getMax(s),c=0;for(let g of s)if(c+=l-g,g>0)break;let d=o.getCodewords();for(let g=0;c>0&&null==d[g];g++)c--;let f=0;for(let g=s.length-1;g>=0&&(f+=l-s[g],!(s[g]>0));g--);for(let g=d.length-1;f>0&&null==d[g];g--)f--;return o.getBoundingBox().addMissingRows(c,f,o.isLeft())}static getMax(o){let s=-1;for(let l of o)s=Math.max(s,l);return s}static getBarcodeMetadata(o,s){let l,c;return null==o||null==(l=o.getBarcodeMetadata())?null==s?null:s.getBarcodeMetadata():null==s||null==(c=s.getBarcodeMetadata())?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(o,s,l,c,d,f){let g=new xc(s,c);for(let y=0;y<2;y++){let C=0===y?1:-1,E=Math.trunc(Math.trunc(l.getX()));for(let D=Math.trunc(Math.trunc(l.getY()));D<=s.getMaxY()&&D>=s.getMinY();D+=C){let A=_e.detectCodeword(o,0,o.getWidth(),c,E,D,d,f);null!=A&&(g.setCodeword(D,A),E=c?A.getStartX():A.getEndX())}}return g}static adjustCodewordCount(o,s){let l=s[0][1],c=l.getValue(),d=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-_e.getNumberOfECCodeWords(o.getBarcodeECLevel());if(0===c.length){if(d<1||d>he.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();l.setValue(d)}else c[0]!==d&&l.setValue(d)}static createDecoderResult(o){let s=_e.createBarcodeMatrix(o);_e.adjustCodewordCount(o,s);let l=new Array,c=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<o.getBarcodeRowCount();y++)for(let C=0;C<o.getBarcodeColumnCount();C++){let E=s[y][C+1].getValue(),D=y*o.getBarcodeColumnCount()+C;0===E.length?l.push(D):1===E.length?c[D]=E[0]:(f.push(D),d.push(E))}let g=new Array(d.length);for(let y=0;y<g.length;y++)g[y]=d[y];return _e.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),c,he.toIntArray(l),he.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(o,s,l,c,d){let f=new Int32Array(c.length),g=100;for(;g-- >0;){for(let y=0;y<f.length;y++)s[c[y]]=d[y][f[y]];try{return _e.decodeCodewords(s,o,l)}catch(y){if(!(y instanceof Pt))throw y}if(0===f.length)throw Pt.getChecksumInstance();for(let y=0;y<f.length;y++){if(f[y]<d[y].length-1){f[y]++;break}if(f[y]=0,y===f.length-1)throw Pt.getChecksumInstance()}}throw Pt.getChecksumInstance()}static createBarcodeMatrix(o){let s=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let c=0;c<s.length;c++)for(let d=0;d<s[c].length;d++)s[c][d]=new Zo;let l=0;for(let c of o.getDetectionResultColumns()){if(null!=c)for(let d of c.getCodewords())if(null!=d){let f=d.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][l].setValue(d.getValue())}}l++}return s}static isValidBarcodeColumn(o,s){return s>=0&&s<=o.getBarcodeColumnCount()+1}static getStartColumn(o,s,l,c){let d=c?1:-1,f=null;if(_e.isValidBarcodeColumn(o,s-d)&&(f=o.getDetectionResultColumn(s-d).getCodeword(l)),null!=f)return c?f.getEndX():f.getStartX();if(f=o.getDetectionResultColumn(s).getCodewordNearby(l),null!=f)return c?f.getStartX():f.getEndX();if(_e.isValidBarcodeColumn(o,s-d)&&(f=o.getDetectionResultColumn(s-d).getCodewordNearby(l)),null!=f)return c?f.getEndX():f.getStartX();let g=0;for(;_e.isValidBarcodeColumn(o,s-d);){s-=d;for(let y of o.getDetectionResultColumn(s).getCodewords())if(null!=y)return(c?y.getEndX():y.getStartX())+d*g*(y.getEndX()-y.getStartX());g++}return c?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,s,l,c,d,f,g,y){d=_e.adjustCodewordStartColumn(o,s,l,c,d,f);let C=_e.getModuleBitCount(o,s,l,c,d,f);if(null==C)return null;let E,D=je.sum(C);if(c)E=d+D;else{for(let M=0;M<C.length/2;M++){let T=C[M];C[M]=C[C.length-1-M],C[C.length-1-M]=T}E=d,d=E-D}if(!_e.checkCodewordSkew(D,g,y))return null;let A=oe.getDecodedValue(C),b=he.getCodeword(A);return-1===b?null:new Vn(d,E,_e.getCodewordBucketNumber(A),b)}static getModuleBitCount(o,s,l,c,d,f){let g=d,y=new Int32Array(8),C=0,E=c?1:-1,D=c;for(;(c?g<l:g>=s)&&C<y.length;)o.get(g,f)===D?(y[C]++,g+=E):(C++,D=!D);return C===y.length||g===(c?l:s)&&C===y.length-1?y:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,s,l,c,d,f){let g=d,y=c?-1:1;for(let C=0;C<2;C++){for(;(c?g>=s:g<l)&&c===o.get(g,f);){if(Math.abs(d-g)>_e.CODEWORD_SKEW_SIZE)return d;g+=y}y=-y,c=!c}return g}static checkCodewordSkew(o,s,l){return s-_e.CODEWORD_SKEW_SIZE<=o&&o<=l+_e.CODEWORD_SKEW_SIZE}static decodeCodewords(o,s,l){if(0===o.length)throw Z.getFormatInstance();let c=1<<s+1,d=_e.correctErrors(o,l,c);_e.verifyCodewordCount(o,c);let f=F.decode(o,""+s);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(o,s,l){if(null!=s&&s.length>l/2+_e.MAX_ERRORS||l<0||l>_e.MAX_EC_CODEWORDS)throw Pt.getChecksumInstance();return _e.errorCorrection.decode(o,l,s)}static verifyCodewordCount(o,s){if(o.length<4)throw Z.getFormatInstance();let l=o[0];if(l>o.length)throw Z.getFormatInstance();if(0===l){if(!(s<o.length))throw Z.getFormatInstance();o[0]=o.length-s}}static getBitCountForCodeword(o){let s=new Int32Array(8),l=0,c=s.length-1;for(;!((1&o)!==l&&(l=1&o,c--,c<0));)s[c]++,o>>=1;return s}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return _e.getCodewordBucketNumber(_e.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let s=new Xo;for(let l=0;l<o.length;l++){s.format("Row %2d: ",l);for(let c=0;c<o[l].length;c++){let d=o[l][c];0===d.getValue().length?s.format("        ",null):s.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}s.format("%n")}return s.toString()}}_e.CODEWORD_SKEW_SIZE=2,_e.MAX_ERRORS=3,_e.MAX_EC_CODEWORDS=512,_e.errorCorrection=new qd;class Ht{decode(o,s=null){let l=Ht.decode(o,s,!1);if(null==l||0===l.length||null==l[0])throw U.getNotFoundInstance();return l[0]}decodeMultiple(o,s=null){try{return Ht.decode(o,s,!0)}catch(l){throw l instanceof Z||l instanceof Pt?U.getNotFoundInstance():l}}static decode(o,s,l){const c=new Array,d=Te.detectMultiple(o,s,l);for(const f of d.getPoints()){const g=_e.decode(d.getBits(),f[4],f[5],f[6],f[7],Ht.getMinCodewordWidth(f),Ht.getMaxCodewordWidth(f)),y=new pt(g.getText(),g.getRawBytes(),void 0,f,fe.PDF_417);y.putMetadata(Re.ERROR_CORRECTION_LEVEL,g.getECLevel());const C=g.getOther();null!=C&&y.putMetadata(Re.PDF417_EXTRA_METADATA,C),c.push(y)}return c.map(f=>f)}static getMaxWidth(o,s){return null==o||null==s?0:Math.trunc(Math.abs(o.getX()-s.getX()))}static getMinWidth(o,s){return null==o||null==s?xe.MAX_VALUE:Math.trunc(Math.abs(o.getX()-s.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Ht.getMaxWidth(o[0],o[4]),Ht.getMaxWidth(o[6],o[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.max(Ht.getMaxWidth(o[1],o[5]),Ht.getMaxWidth(o[7],o[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Ht.getMinWidth(o[0],o[4]),Ht.getMinWidth(o[6],o[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.min(Ht.getMinWidth(o[1],o[5]),Ht.getMinWidth(o[7],o[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}reset(){}}let _a=(()=>{class w extends Kt{}return w.kind="ReaderException",w})();class Ne{constructor(o,s){this.verbose=!0===o,s&&this.setHints(s)}decode(o,s){return s&&this.setHints(s),this.decodeInternal(o)}decodeWithState(o){return null==this.readers&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const s=!Ue(o)&&!0===o.get(ht.TRY_HARDER),l=Ue(o)?null:o.get(ht.POSSIBLE_FORMATS),c=new Array;if(!Ue(l)){const d=l.some(f=>f===fe.UPC_A||f===fe.UPC_E||f===fe.EAN_13||f===fe.EAN_8||f===fe.CODABAR||f===fe.CODE_39||f===fe.CODE_93||f===fe.CODE_128||f===fe.ITF||f===fe.RSS_14||f===fe.RSS_EXPANDED);d&&!s&&c.push(new ui(o,this.verbose)),l.includes(fe.QR_CODE)&&c.push(new zr),l.includes(fe.DATA_MATRIX)&&c.push(new me),l.includes(fe.AZTEC)&&c.push(new Yn),l.includes(fe.PDF_417)&&c.push(new Ht),d&&s&&c.push(new ui(o,this.verbose))}0===c.length&&(s||c.push(new ui(o,this.verbose)),c.push(new zr),c.push(new me),c.push(new Yn),c.push(new Ht),s&&c.push(new ui(o,this.verbose))),this.readers=c}reset(){if(null!==this.readers)for(const o of this.readers)o.reset()}decodeInternal(o){if(null===this.readers)throw new _a("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(o,this.hints)}catch(l){if(l instanceof _a)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}var Sa=function(w){return w[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION",w}(Sa||{}),zt=Sa;class nt{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new Jt(o,Int32Array.from([1])))}buildGenerator(o){const s=this.cachedGenerators;if(o>=s.length){let l=s[s.length-1];const c=this.field;for(let d=s.length;d<=o;d++){const f=l.multiply(new Jt(c,Int32Array.from([1,c.exp(d-1+c.getGeneratorBase())])));s.push(f),l=f}}return s[o]}encode(o,s){if(0===s)throw new ee("No error correction bytes");const l=o.length-s;if(l<=0)throw new ee("No data bytes provided");const c=this.buildGenerator(s),d=new Int32Array(l);it.arraycopy(o,0,d,0,l);let f=new Jt(this.field,d);f=f.multiplyByMonomial(s,1);const y=f.divide(c)[1].getCoefficients(),C=s-y.length;for(let E=0;E<C;E++)o[l+E]=0;it.arraycopy(y,0,o,l+C,y.length)}}let wo=(()=>{class w{constructor(){}static applyMaskPenaltyRule1(s){return w.applyMaskPenaltyRule1Internal(s,!0)+w.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const c=s.getArray(),d=s.getWidth(),f=s.getHeight();for(let g=0;g<f-1;g++){const y=c[g];for(let C=0;C<d-1;C++){const E=y[C];E===y[C+1]&&E===c[g+1][C]&&E===c[g+1][C+1]&&l++}}return w.N2*l}static applyMaskPenaltyRule3(s){let l=0;const c=s.getArray(),d=s.getWidth(),f=s.getHeight();for(let g=0;g<f;g++)for(let y=0;y<d;y++){const C=c[g];y+6<d&&1===C[y]&&0===C[y+1]&&1===C[y+2]&&1===C[y+3]&&1===C[y+4]&&0===C[y+5]&&1===C[y+6]&&(w.isWhiteHorizontal(C,y-4,y)||w.isWhiteHorizontal(C,y+7,y+11))&&l++,g+6<f&&1===c[g][y]&&0===c[g+1][y]&&1===c[g+2][y]&&1===c[g+3][y]&&1===c[g+4][y]&&0===c[g+5][y]&&1===c[g+6][y]&&(w.isWhiteVertical(c,y,g-4,g)||w.isWhiteVertical(c,y,g+7,g+11))&&l++}return l*w.N3}static isWhiteHorizontal(s,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let d=l;d<c;d++)if(1===s[d])return!1;return!0}static isWhiteVertical(s,l,c,d){c=Math.max(c,0),d=Math.min(d,s.length);for(let f=c;f<d;f++)if(1===s[f][l])return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const c=s.getArray(),d=s.getWidth(),f=s.getHeight();for(let C=0;C<f;C++){const E=c[C];for(let D=0;D<d;D++)1===E[D]&&l++}const g=s.getHeight()*s.getWidth();return Math.floor(10*Math.abs(2*l-g)/g)*w.N4}static getDataMaskBit(s,l,c){let d,f;switch(s){case 0:d=c+l&1;break;case 1:d=1&c;break;case 2:d=l%3;break;case 3:d=(c+l)%3;break;case 4:d=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:f=c*l,d=(1&f)+f%3;break;case 6:f=c*l,d=(1&f)+f%3&1;break;case 7:f=c*l,d=f%3+(c+l&1)&1;break;default:throw new ee("Invalid mask pattern: "+s)}return 0===d}static applyMaskPenaltyRule1Internal(s,l){let c=0;const d=l?s.getHeight():s.getWidth(),f=l?s.getWidth():s.getHeight(),g=s.getArray();for(let y=0;y<d;y++){let C=0,E=-1;for(let D=0;D<f;D++){const A=l?g[y][D]:g[D][y];A===E?C++:(C>=5&&(c+=w.N1+(C-5)),C=1,E=A)}C>=5&&(c+=w.N1+(C-5))}return c}}return w.N1=3,w.N2=3,w.N3=40,w.N4=10,w})();class Ma{constructor(o,s){this.width=o,this.height=s;const l=new Array(s);for(let c=0;c!==s;c++)l[c]=new Uint8Array(o);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(o,s){return this.bytes[s][o]}getArray(){return this.bytes}setNumber(o,s,l){this.bytes[s][o]=l}setBoolean(o,s,l){this.bytes[s][o]=l?1:0}clear(o){for(const s of this.bytes)St.fill(s,o)}equals(o){if(!(o instanceof Ma))return!1;const s=o;if(this.width!==s.width||this.height!==s.height)return!1;for(let l=0,c=this.height;l<c;++l){const d=this.bytes[l],f=s.bytes[l];for(let g=0,y=this.width;g<y;++g)if(d[g]!==f[g])return!1}return!0}toString(){const o=new Xe;for(let s=0,l=this.height;s<l;++s){const c=this.bytes[s];for(let d=0,f=this.width;d<f;++d)switch(c[d]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ")}o.append("\n")}return o.toString()}}let te=(()=>{class w{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Xe;return s.append("<<\n"),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append("\n ecLevel: "),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append("\n version: "),s.append(this.version?this.version.toString():"null"),s.append("\n maskPattern: "),s.append(this.maskPattern.toString()),this.matrix?(s.append("\n matrix:\n"),s.append(this.matrix.toString())):s.append("\n matrix: null\n"),s.append(">>\n"),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<w.NUM_MASK_PATTERNS}}return w.NUM_MASK_PATTERNS=8,w})(),rt=(()=>{class w extends Kt{}return w.kind="WriterException",w})();class de{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,s,l,c,d){de.clearMatrix(d),de.embedBasicPatterns(l,d),de.embedTypeInfo(s,c,d),de.maybeEmbedVersionInfo(l,d),de.embedDataBits(o,c,d)}static embedBasicPatterns(o,s){de.embedPositionDetectionPatternsAndSeparators(s),de.embedDarkDotAtLeftBottomCorner(s),de.maybeEmbedPositionAdjustmentPatterns(o,s),de.embedTimingPatterns(s)}static embedTypeInfo(o,s,l){const c=new ot;de.makeTypeInfoBits(o,s,c);for(let d=0,f=c.getSize();d<f;++d){const g=c.get(c.getSize()-1-d),y=de.TYPE_INFO_COORDINATES[d];if(l.setBoolean(y[0],y[1],g),d<8){const D=l.getWidth()-d-1;l.setBoolean(D,8,g)}else{const A=l.getHeight()-7+(d-8);l.setBoolean(8,A,g)}}}static maybeEmbedVersionInfo(o,s){if(o.getVersionNumber()<7)return;const l=new ot;de.makeVersionInfoBits(o,l);let c=17;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const g=l.get(c);c--,s.setBoolean(d,s.getHeight()-11+f,g),s.setBoolean(s.getHeight()-11+f,d,g)}}static embedDataBits(o,s,l){let c=0,d=-1,f=l.getWidth()-1,g=l.getHeight()-1;for(;f>0;){for(6===f&&(f-=1);g>=0&&g<l.getHeight();){for(let y=0;y<2;++y){const C=f-y;if(!de.isEmpty(l.get(C,g)))continue;let E;c<o.getSize()?(E=o.get(c),++c):E=!1,255!==s&&wo.getDataMaskBit(s,C,g)&&(E=!E),l.setBoolean(C,g,E)}g+=d}d=-d,g+=d,f-=2}if(c!==o.getSize())throw new rt("Not all bits consumed: "+c+"/"+o.getSize())}static findMSBSet(o){return 32-xe.numberOfLeadingZeros(o)}static calculateBCHCode(o,s){if(0===s)throw new ee("0 polynomial");const l=de.findMSBSet(s);for(o<<=l-1;de.findMSBSet(o)>=l;)o^=s<<de.findMSBSet(o)-l;return o}static makeTypeInfoBits(o,s,l){if(!te.isValidMaskPattern(s))throw new rt("Invalid mask pattern");const c=o.getBits()<<3|s;l.appendBits(c,5);const d=de.calculateBCHCode(c,de.TYPE_INFO_POLY);l.appendBits(d,10);const f=new ot;if(f.appendBits(de.TYPE_INFO_MASK_PATTERN,15),l.xor(f),15!==l.getSize())throw new rt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(o,s){s.appendBits(o.getVersionNumber(),6);const l=de.calculateBCHCode(o.getVersionNumber(),de.VERSION_INFO_POLY);if(s.appendBits(l,12),18!==s.getSize())throw new rt("should not happen but we got: "+s.getSize())}static isEmpty(o){return 255===o}static embedTimingPatterns(o){for(let s=8;s<o.getWidth()-8;++s){const l=(s+1)%2;de.isEmpty(o.get(s,6))&&o.setNumber(s,6,l),de.isEmpty(o.get(6,s))&&o.setNumber(6,s,l)}}static embedDarkDotAtLeftBottomCorner(o){if(0===o.get(8,o.getHeight()-8))throw new rt;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,s,l){for(let c=0;c<8;++c){if(!de.isEmpty(l.get(o+c,s)))throw new rt;l.setNumber(o+c,s,0)}}static embedVerticalSeparationPattern(o,s,l){for(let c=0;c<7;++c){if(!de.isEmpty(l.get(o,s+c)))throw new rt;l.setNumber(o,s+c,0)}}static embedPositionAdjustmentPattern(o,s,l){for(let c=0;c<5;++c){const d=de.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)l.setNumber(o+f,s+c,d[f])}}static embedPositionDetectionPattern(o,s,l){for(let c=0;c<7;++c){const d=de.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)l.setNumber(o+f,s+c,d[f])}}static embedPositionDetectionPatternsAndSeparators(o){const s=de.POSITION_DETECTION_PATTERN[0].length;de.embedPositionDetectionPattern(0,0,o),de.embedPositionDetectionPattern(o.getWidth()-s,0,o),de.embedPositionDetectionPattern(0,o.getWidth()-s,o);de.embedHorizontalSeparationPattern(0,7,o),de.embedHorizontalSeparationPattern(o.getWidth()-8,7,o),de.embedHorizontalSeparationPattern(0,o.getWidth()-8,o);de.embedVerticalSeparationPattern(7,0,o),de.embedVerticalSeparationPattern(o.getHeight()-7-1,0,o),de.embedVerticalSeparationPattern(7,o.getHeight()-7,o)}static maybeEmbedPositionAdjustmentPatterns(o,s){if(o.getVersionNumber()<2)return;const l=o.getVersionNumber()-1,c=de.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=c.length;d!==f;d++){const g=c[d];if(g>=0)for(let y=0;y!==f;y++){const C=c[y];C>=0&&de.isEmpty(s.get(C,g))&&de.embedPositionAdjustmentPattern(C-2,g-2,s)}}}}de.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),de.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),de.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),de.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),de.VERSION_INFO_POLY=7973,de.TYPE_INFO_POLY=1335,de.TYPE_INFO_MASK_PATTERN=21522;class Dc{constructor(o,s){this.dataBytes=o,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class lt{constructor(){}static calculateMaskPenalty(o){return wo.applyMaskPenaltyRule1(o)+wo.applyMaskPenaltyRule2(o)+wo.applyMaskPenaltyRule3(o)+wo.applyMaskPenaltyRule4(o)}static encode(o,s,l=null){let c=lt.DEFAULT_BYTE_MODE_ENCODING;const d=null!==l&&void 0!==l.get(zt.CHARACTER_SET);d&&(c=l.get(zt.CHARACTER_SET).toString());const f=this.chooseMode(o,c),g=new ot;if(f===ue.BYTE&&(d||lt.DEFAULT_BYTE_MODE_ENCODING!==c)){const Q=q.getCharacterSetECIByName(c);void 0!==Q&&this.appendECI(Q,g)}this.appendModeInfo(f,g);const y=new ot;let C;if(this.appendBytes(o,f,y,c),null!==l&&void 0!==l.get(zt.QR_VERSION)){const Q=Number.parseInt(l.get(zt.QR_VERSION).toString(),10);C=ae.getVersionForNumber(Q);const B=this.calculateBitsNeeded(f,g,y,C);if(!this.willFit(B,C,s))throw new rt("Data too big for requested version")}else C=this.recommendVersion(s,f,g,y);const E=new ot;E.appendBitArray(g);const D=f===ue.BYTE?y.getSizeInBytes():o.length;this.appendLengthInfo(D,C,f,E),E.appendBitArray(y);const A=C.getECBlocksForLevel(s),b=C.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(b,E);const M=this.interleaveWithECBytes(E,C.getTotalCodewords(),b,A.getNumBlocks()),T=new te;T.setECLevel(s),T.setMode(f),T.setVersion(C);const O=C.getDimensionForVersion(),L=new Ma(O,O),$=this.chooseMaskPattern(M,s,C,L);return T.setMaskPattern($),de.buildMatrix(M,s,C,$,L),T.setMatrix(L),T}static recommendVersion(o,s,l,c){const d=this.calculateBitsNeeded(s,l,c,ae.getVersionForNumber(1)),f=this.chooseVersion(d,o),g=this.calculateBitsNeeded(s,l,c,f);return this.chooseVersion(g,o)}static calculateBitsNeeded(o,s,l,c){return s.getSize()+o.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(o){return o<lt.ALPHANUMERIC_TABLE.length?lt.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,s=null){if(q.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(o))return ue.KANJI;let l=!1,c=!1;for(let d=0,f=o.length;d<f;++d){const g=o.charAt(d);if(lt.isDigit(g))l=!0;else{if(-1===this.getAlphanumericCode(g.charCodeAt(0)))return ue.BYTE;c=!0}}return c?ue.ALPHANUMERIC:l?ue.NUMERIC:ue.BYTE}static isOnlyDoubleByteKanji(o){let s;try{s=$t.encode(o,q.SJIS)}catch{return!1}const l=s.length;if(l%2!=0)return!1;for(let c=0;c<l;c+=2){const d=255&s[c];if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(o,s,l,c){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<te.NUM_MASK_PATTERNS;g++){de.buildMatrix(o,s,l,g,c);let y=this.calculateMaskPenalty(c);y<d&&(d=y,f=g)}return f}static chooseVersion(o,s){for(let l=1;l<=40;l++){const c=ae.getVersionForNumber(l);if(lt.willFit(o,c,s))return c}throw new rt("Data too big")}static willFit(o,s,l){return s.getTotalCodewords()-s.getECBlocksForLevel(l).getTotalECCodewords()>=(o+7)/8}static terminateBits(o,s){const l=8*o;if(s.getSize()>l)throw new rt("data bits cannot fit in the QR Code"+s.getSize()+" > "+l);for(let f=0;f<4&&s.getSize()<l;++f)s.appendBit(!1);const c=7&s.getSize();if(c>0)for(let f=c;f<8;f++)s.appendBit(!1);const d=o-s.getSizeInBytes();for(let f=0;f<d;++f)s.appendBits(1&f?17:236,8);if(s.getSize()!==l)throw new rt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,s,l,c,d,f){if(c>=l)throw new rt("Block ID too large");const g=o%l,y=l-g,C=Math.floor(o/l),E=C+1,D=Math.floor(s/l),A=D+1,b=C-D,M=E-A;if(b!==M)throw new rt("EC bytes mismatch");if(l!==y+g)throw new rt("RS blocks mismatch");if(o!==(D+b)*y+(A+M)*g)throw new rt("Total bytes mismatch");c<y?(d[0]=D,f[0]=b):(d[0]=A,f[0]=M)}static interleaveWithECBytes(o,s,l,c){if(o.getSizeInBytes()!==l)throw new rt("Number of bits and data bytes does not match");let d=0,f=0,g=0;const y=new Array;for(let E=0;E<c;++E){const D=new Int32Array(1),A=new Int32Array(1);lt.getNumDataBytesAndNumECBytesForBlockID(s,l,c,E,D,A);const b=D[0],M=new Uint8Array(b);o.toBytes(8*d,M,0,b);const T=lt.generateECBytes(M,A[0]);y.push(new Dc(M,T)),f=Math.max(f,b),g=Math.max(g,T.length),d+=D[0]}if(l!==d)throw new rt("Data bytes does not match offset");const C=new ot;for(let E=0;E<f;++E)for(const D of y){const A=D.getDataBytes();E<A.length&&C.appendBits(A[E],8)}for(let E=0;E<g;++E)for(const D of y){const A=D.getErrorCorrectionBytes();E<A.length&&C.appendBits(A[E],8)}if(s!==C.getSizeInBytes())throw new rt("Interleaving error: "+s+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(o,s){const l=o.length,c=new Int32Array(l+s);for(let f=0;f<l;f++)c[f]=255&o[f];new nt(Ve.QR_CODE_FIELD_256).encode(c,s);const d=new Uint8Array(s);for(let f=0;f<s;f++)d[f]=c[l+f];return d}static appendModeInfo(o,s){s.appendBits(o.getBits(),4)}static appendLengthInfo(o,s,l,c){const d=l.getCharacterCountBits(s);if(o>=1<<d)throw new rt(o+" is bigger than "+((1<<d)-1));c.appendBits(o,d)}static appendBytes(o,s,l,c){switch(s){case ue.NUMERIC:lt.appendNumericBytes(o,l);break;case ue.ALPHANUMERIC:lt.appendAlphanumericBytes(o,l);break;case ue.BYTE:lt.append8BitBytes(o,l,c);break;case ue.KANJI:lt.appendKanjiBytes(o,l);break;default:throw new rt("Invalid mode: "+s)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const s=lt.getDigit(o);return s>=0&&s<=9}static appendNumericBytes(o,s){const l=o.length;let c=0;for(;c<l;){const d=lt.getDigit(o.charAt(c));if(c+2<l){const f=lt.getDigit(o.charAt(c+1)),g=lt.getDigit(o.charAt(c+2));s.appendBits(100*d+10*f+g,10),c+=3}else if(c+1<l){const f=lt.getDigit(o.charAt(c+1));s.appendBits(10*d+f,7),c+=2}else s.appendBits(d,4),c++}}static appendAlphanumericBytes(o,s){const l=o.length;let c=0;for(;c<l;){const d=lt.getAlphanumericCode(o.charCodeAt(c));if(-1===d)throw new rt;if(c+1<l){const f=lt.getAlphanumericCode(o.charCodeAt(c+1));if(-1===f)throw new rt;s.appendBits(45*d+f,11),c+=2}else s.appendBits(d,6),c++}}static append8BitBytes(o,s,l){let c;try{c=$t.encode(o,l)}catch(d){throw new rt(d)}for(let d=0,f=c.length;d!==f;d++)s.appendBits(c[d],8)}static appendKanjiBytes(o,s){let l;try{l=$t.encode(o,q.SJIS)}catch(d){throw new rt(d)}const c=l.length;for(let d=0;d<c;d+=2){const y=(255&l[d])<<8&4294967295|255&l[d+1];let C=-1;if(y>=33088&&y<=40956?C=y-33088:y>=57408&&y<=60351&&(C=y-49472),-1===C)throw new rt("Invalid byte sequence");s.appendBits(192*(C>>8)+(255&C),13)}}static appendECI(o,s){s.appendBits(ue.ECI.getBits(),4),s.appendBits(o.getValue(),8)}}lt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),lt.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();let Qd=(()=>{class w{write(s,l,c,d=null){if(0===s.length)throw new ee("Found empty contents");if(l<0||c<0)throw new ee("Requested dimensions are too small: "+l+"x"+c);let f=Fe.L,g=w.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(zt.ERROR_CORRECTION)&&(f=Fe.fromString(d.get(zt.ERROR_CORRECTION).toString())),void 0!==d.get(zt.MARGIN)&&(g=Number.parseInt(d.get(zt.MARGIN).toString(),10)));const y=lt.encode(s,f,d);return this.renderResult(y,l,c,g)}writeToDom(s,l,c,d,f=null){"string"==typeof s&&(s=document.querySelector(s));const g=this.write(l,c,d,f);s&&s.appendChild(g)}renderResult(s,l,c,d){const f=s.getMatrix();if(null===f)throw new br;const g=f.getWidth(),y=f.getHeight(),C=g+2*d,E=y+2*d,D=Math.max(l,C),A=Math.max(c,E),b=Math.min(Math.floor(D/C),Math.floor(A/E)),M=Math.floor((D-g*b)/2),T=Math.floor((A-y*b)/2),O=this.createSVGElement(D,A);for(let L=0,$=T;L<y;L++,$+=b)for(let Q=0,B=M;Q<g;Q++,B+=b)if(1===f.get(Q,L)){const Oe=this.createSvgRectElement(B,$,b,b);O.appendChild(Oe)}return O}createSVGElement(s,l){const c=document.createElementNS(w.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(s,l,c,d){const f=document.createElementNS(w.SVG_NS,"rect");return f.setAttributeNS(null,"x",s.toString()),f.setAttributeNS(null,"y",l.toString()),f.setAttributeNS(null,"height",c.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}return w.QUIET_ZONE_SIZE=4,w.SVG_NS="http://www.w3.org/2000/svg",w})(),Jo=(()=>{class w{encode(s,l,c,d,f){if(0===s.length)throw new ee("Found empty contents");if(l!==fe.QR_CODE)throw new ee("Can only encode QR_CODE, but got "+l);if(c<0||d<0)throw new ee(`Requested dimensions are too small: ${c}x${d}`);let g=Fe.L,y=w.QUIET_ZONE_SIZE;null!==f&&(void 0!==f.get(zt.ERROR_CORRECTION)&&(g=Fe.fromString(f.get(zt.ERROR_CORRECTION).toString())),void 0!==f.get(zt.MARGIN)&&(y=Number.parseInt(f.get(zt.MARGIN).toString(),10)));const C=lt.encode(s,g,f);return w.renderResult(C,c,d,y)}static renderResult(s,l,c,d){const f=s.getMatrix();if(null===f)throw new br;const g=f.getWidth(),y=f.getHeight(),C=g+2*d,E=y+2*d,D=Math.max(l,C),A=Math.max(c,E),b=Math.min(Math.floor(D/C),Math.floor(A/E)),M=Math.floor((D-g*b)/2),T=Math.floor((A-y*b)/2),O=new Vt(D,A);for(let L=0,$=T;L<y;L++,$+=b)for(let Q=0,B=M;Q<g;Q++,B+=b)1===f.get(Q,L)&&O.setRegion(B,$,b,b);return O}}return w.QUIET_ZONE_SIZE=4,w})();let l0=(()=>{class w extends Ni{constructor(s,l,c,d,f,g,y,C){if(super(g,y),this.yuvData=s,this.dataWidth=l,this.dataHeight=c,this.left=d,this.top=f,d+g>l||f+y>c)throw new ee("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(g,y)}getRow(s,l){if(s<0||s>=this.getHeight())throw new ee("Requested row is outside the image: "+s);const c=this.getWidth();return(null==l||l.length<c)&&(l=new Uint8ClampedArray(c)),it.arraycopy(this.yuvData,(s+this.top)*this.dataWidth+this.left,l,0,c),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=s*l,d=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return it.arraycopy(this.yuvData,f,d,0,c),d;for(let g=0;g<l;g++)it.arraycopy(this.yuvData,f,d,g*s,s),f+=this.dataWidth;return d}isCropSupported(){return!0}crop(s,l,c,d){return new w(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,c,d,!1)}renderThumbnail(){const s=this.getWidth()/w.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/w.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*l),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let g=0;g<l;g++){const y=g*s;for(let C=0;C<s;C++)c[y+C]=4278190080|65793*(255&d[f+C*w.THUMBNAIL_SCALE_FACTOR]);f+=this.dataWidth*w.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/w.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/w.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const c=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<l;d++,f+=this.dataWidth){const g=f+s/2;for(let y=f,C=f+s-1;y<g;y++,C--){const E=c[y];c[y]=c[C],c[C]=E}}}invert(){return new st(this)}}return w.THUMBNAIL_SCALE_FACTOR=2,w})();class Ac extends Ni{constructor(o,s,l,c,d,f,g){if(super(s,l),this.dataWidth=c,this.dataHeight=d,this.left=f,this.top=g,4===o.BYTES_PER_ELEMENT){const y=s*l,C=new Uint8ClampedArray(y);for(let E=0;E<y;E++){const D=o[E];C[E]=((D>>16&255)+(D>>7&510)+(255&D))/4&255}this.luminances=C}else this.luminances=o;if(void 0===c&&(this.dataWidth=s),void 0===d&&(this.dataHeight=l),void 0===f&&(this.left=0),void 0===g&&(this.top=0),this.left+s>this.dataWidth||this.top+l>this.dataHeight)throw new ee("Crop rectangle does not fit within image data.")}getRow(o,s){if(o<0||o>=this.getHeight())throw new ee("Requested row is outside the image: "+o);const l=this.getWidth();return(null==s||s.length<l)&&(s=new Uint8ClampedArray(l)),it.arraycopy(this.luminances,(o+this.top)*this.dataWidth+this.left,s,0,l),s}getMatrix(){const o=this.getWidth(),s=this.getHeight();if(o===this.dataWidth&&s===this.dataHeight)return this.luminances;const l=o*s,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return it.arraycopy(this.luminances,d,c,0,l),c;for(let f=0;f<s;f++)it.arraycopy(this.luminances,d,c,f*o,o),d+=this.dataWidth;return c}isCropSupported(){return!0}crop(o,s,l,c){return new Ac(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+o,this.top+s)}invert(){return new st(this)}}class Kd extends q{static forName(o){return this.getCharacterSetECIByName(o)}}class Ic{}Ic.ISO_8859_1=q.ISO8859_1;class Fi{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class es{static singletonList(o){return[o]}static min(o,s){return o.sort(s)[0]}}class ts{constructor(o){this.previous=o}getPrevious(){return this.previous}}class ki extends ts{constructor(o,s,l){super(o),this.value=s,this.bitCount=l}appendTo(o,s){o.appendBits(this.value,this.bitCount)}add(o,s){return new ki(this,o,s)}addBinaryShift(o,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ki(this,o,s)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+xe.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Ta extends ki{constructor(o,s,l){super(o,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=l}appendTo(o,s){for(let l=0;l<this.binaryShiftByteCount;l++)(0===l||31===l&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):o.appendBits(0===l?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),o.appendBits(s[this.binaryShiftStart+l],8)}addBinaryShift(o,s){return new Ta(this,o,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Bi(w,o,s){return new ki(w,o,s)}const Vi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ne=new ki(null,0,0),Ui=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const ji=function Na(w){for(let o of w)St.fill(o,-1);return w[0][4]=0,w[1][4]=0,w[1][0]=28,w[3][4]=0,w[2][4]=0,w[2][0]=15,w}(St.createInt32Array(6,6));class gr{constructor(o,s,l,c){this.token=o,this.mode=s,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,s){let l=this.bitCount,c=this.token;if(o!==this.mode){let f=Ui[this.mode][o];c=Bi(c,65535&f,f>>16),l+=f>>16}let d=2===o?4:5;return c=Bi(c,s,d),new gr(c,o,0,l+d)}shiftAndAppend(o,s){let l=this.token,c=2===this.mode?4:5;return l=Bi(l,ji[this.mode][o],c),l=Bi(l,s,5),new gr(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(o){let s=this.token,l=this.mode,c=this.bitCount;if(4===this.mode||2===this.mode){let g=Ui[l][0];s=Bi(s,65535&g,g>>16),c+=g>>16,l=0}let f=new gr(s,l,this.binaryShiftByteCount+1,c+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===f.binaryShiftByteCount&&(f=f.endBinaryShift(o+1)),f}endBinaryShift(o){if(0===this.binaryShiftByteCount)return this;let s=this.token;return s=function Jd(w,o,s){return new Ta(w,o,s)}(s,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new gr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let s=this.bitCount+(Ui[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?s+=gr.calculateBinaryShiftCost(o)-gr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(s+=10),s<=o.bitCount}toBitArray(o){let s=[];for(let c=this.endBinaryShift(o.length).token;null!==c;c=c.getPrevious())s.unshift(c);let l=new ot;for(const c of s)c.appendTo(l,o);return l}toString(){return Ce.format("%s bits=%d bytes=%d",Vi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}gr.INITIAL_STATE=new gr(ne,0,0,0);const Oa=function ef(w){const o=Ce.getCharCode(" "),s=Ce.getCharCode("."),l=Ce.getCharCode(",");w[0][o]=1;const c=Ce.getCharCode("Z"),d=Ce.getCharCode("A");for(let A=d;A<=c;A++)w[0][A]=A-d+2;w[1][o]=1;const f=Ce.getCharCode("z"),g=Ce.getCharCode("a");for(let A=g;A<=f;A++)w[1][A]=A-g+2;w[2][o]=1;const y=Ce.getCharCode("9"),C=Ce.getCharCode("0");for(let A=C;A<=y;A++)w[2][A]=A-C+2;w[2][l]=12,w[2][s]=13;const E=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let A=0;A<E.length;A++)w[3][Ce.getCharCode(E[A])]=A;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<D.length;A++)Ce.getCharCode(D[A])>0&&(w[4][Ce.getCharCode(D[A])]=A);return w}(St.createInt32Array(5,256));class _n{constructor(o){this.text=o}encode(){const o=Ce.getCharCode(" "),s=Ce.getCharCode("\n");let l=es.singletonList(gr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,g=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Ce.getCharCode("\r"):f=g===s?2:0;break;case Ce.getCharCode("."):f=g===o?3:0;break;case Ce.getCharCode(","):f=g===o?4:0;break;case Ce.getCharCode(":"):f=g===o?5:0;break;default:f=0}f>0?(l=_n.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return es.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,s){const l=[];for(let c of o)this.updateStateForChar(c,s,l);return _n.simplifyStates(l)}updateStateForChar(o,s,l){let c=255&this.text[s],d=Oa[o.getMode()][c]>0,f=null;for(let g=0;g<=4;g++){let y=Oa[g][c];if(y>0){if(null==f&&(f=o.endBinaryShift(s)),!d||g===o.getMode()||2===g){const C=f.latchAndAppend(g,y);l.push(C)}if(!d&&ji[o.getMode()][g]>=0){const C=f.shiftAndAppend(g,y);l.push(C)}}}if(o.getBinaryShiftByteCount()>0||0===Oa[o.getMode()][c]){let g=o.addBinaryShiftChar(s);l.push(g)}}static updateStateListForPair(o,s,l){const c=[];for(let d of o)this.updateStateForPair(d,s,l,c);return this.simplifyStates(c)}static updateStateForPair(o,s,l,c){let d=o.endBinaryShift(s);if(c.push(d.latchAndAppend(4,l)),4!==o.getMode()&&c.push(d.shiftAndAppend(4,l)),3===l||4===l){let f=d.latchAndAppend(2,16-l).latchAndAppend(2,1);c.push(f)}if(o.getBinaryShiftByteCount()>0){let f=o.addBinaryShiftChar(s).addBinaryShiftChar(s+1);c.push(f)}}static simplifyStates(o){let s=[];for(const l of o){let c=!0;for(const d of s){if(d.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(d)&&(s=s.filter(f=>f!==d))}c&&s.push(l)}return s}}class Pe{constructor(){}static encodeBytes(o){return Pe.encode(o,Pe.DEFAULT_EC_PERCENT,Pe.DEFAULT_AZTEC_LAYERS)}static encode(o,s,l){let g,y,C,E,D,c=new _n(o).encode(),d=xe.truncDivision(c.getSize()*s,100)+11,f=c.getSize()+d;if(l!==Pe.DEFAULT_AZTEC_LAYERS){if(g=l<0,y=Math.abs(l),y>(g?Pe.MAX_NB_BITS_COMPACT:Pe.MAX_NB_BITS))throw new ee(Ce.format("Illegal value %s for layers",l));C=Pe.totalBitsInLayer(y,g),E=Pe.WORD_SIZE[y];let B=C-C%E;if(D=Pe.stuffBits(c,E),D.getSize()+d>B)throw new ee("Data to large for user specified layer");if(g&&D.getSize()>64*E)throw new ee("Data to large for user specified layer")}else{E=0,D=null;for(let B=0;;B++){if(B>Pe.MAX_NB_BITS)throw new ee("Data too large for an Aztec code");if(g=B<=3,y=g?B+1:B,C=Pe.totalBitsInLayer(y,g),f>C)continue;(null==D||E!==Pe.WORD_SIZE[y])&&(E=Pe.WORD_SIZE[y],D=Pe.stuffBits(c,E));let Oe=C-C%E;if(!(g&&D.getSize()>64*E)&&D.getSize()+d<=Oe)break}}let L,A=Pe.generateCheckWords(D,C,E),b=D.getSize()/E,M=Pe.generateModeMessage(g,y,b),T=(g?11:14)+4*y,O=new Int32Array(T);if(g){L=T;for(let B=0;B<O.length;B++)O[B]=B}else{L=T+1+2*xe.truncDivision(xe.truncDivision(T,2)-1,15);let B=xe.truncDivision(T,2),Oe=xe.truncDivision(L,2);for(let ve=0;ve<B;ve++){let pn=ve+xe.truncDivision(ve,15);O[B-ve-1]=Oe-pn-1,O[B+ve]=Oe+pn+1}}let $=new Vt(L);for(let B=0,Oe=0;B<y;B++){let ve=4*(y-B)+(g?9:12);for(let pn=0;pn<ve;pn++){let Jn=2*pn;for(let mn=0;mn<2;mn++)A.get(Oe+Jn+mn)&&$.set(O[2*B+mn],O[2*B+pn]),A.get(Oe+2*ve+Jn+mn)&&$.set(O[2*B+pn],O[T-1-2*B-mn]),A.get(Oe+4*ve+Jn+mn)&&$.set(O[T-1-2*B-mn],O[T-1-2*B-pn]),A.get(Oe+6*ve+Jn+mn)&&$.set(O[T-1-2*B-pn],O[2*B+mn])}Oe+=8*ve}if(Pe.drawModeMessage($,g,L,M),g)Pe.drawBullsEye($,xe.truncDivision(L,2),5);else{Pe.drawBullsEye($,xe.truncDivision(L,2),7);for(let B=0,Oe=0;B<xe.truncDivision(T,2)-1;B+=15,Oe+=16)for(let ve=1&xe.truncDivision(L,2);ve<L;ve+=2)$.set(xe.truncDivision(L,2)-Oe,ve),$.set(xe.truncDivision(L,2)+Oe,ve),$.set(ve,xe.truncDivision(L,2)-Oe),$.set(ve,xe.truncDivision(L,2)+Oe)}let Q=new Fi;return Q.setCompact(g),Q.setSize(L),Q.setLayers(y),Q.setCodeWords(b),Q.setMatrix($),Q}static drawBullsEye(o,s,l){for(let c=0;c<l;c+=2)for(let d=s-c;d<=s+c;d++)o.set(d,s-c),o.set(d,s+c),o.set(s-c,d),o.set(s+c,d);o.set(s-l,s-l),o.set(s-l+1,s-l),o.set(s-l,s-l+1),o.set(s+l,s-l),o.set(s+l,s-l+1),o.set(s+l,s+l-1)}static generateModeMessage(o,s,l){let c=new ot;return o?(c.appendBits(s-1,2),c.appendBits(l-1,6),c=Pe.generateCheckWords(c,28,4)):(c.appendBits(s-1,5),c.appendBits(l-1,11),c=Pe.generateCheckWords(c,40,4)),c}static drawModeMessage(o,s,l,c){let d=xe.truncDivision(l,2);if(s)for(let f=0;f<7;f++){let g=d-3+f;c.get(f)&&o.set(g,d-5),c.get(f+7)&&o.set(d+5,g),c.get(20-f)&&o.set(g,d+5),c.get(27-f)&&o.set(d-5,g)}else for(let f=0;f<10;f++){let g=d-5+f+xe.truncDivision(f,5);c.get(f)&&o.set(g,d-7),c.get(f+10)&&o.set(d+7,g),c.get(29-f)&&o.set(g,d+7),c.get(39-f)&&o.set(d-7,g)}}static generateCheckWords(o,s,l){let c=o.getSize()/l,d=new nt(Pe.getGF(l)),f=xe.truncDivision(s,l),g=Pe.bitsToWords(o,l,f);d.encode(g,f-c);let y=s%l,C=new ot;C.appendBits(0,y);for(const E of Array.from(g))C.appendBits(E,l);return C}static bitsToWords(o,s,l){let d,f,c=new Int32Array(l);for(d=0,f=o.getSize()/s;d<f;d++){let g=0;for(let y=0;y<s;y++)g|=o.get(d*s+y)?1<<s-y-1:0;c[d]=g}return c}static getGF(o){switch(o){case 4:return Ve.AZTEC_PARAM;case 6:return Ve.AZTEC_DATA_6;case 8:return Ve.AZTEC_DATA_8;case 10:return Ve.AZTEC_DATA_10;case 12:return Ve.AZTEC_DATA_12;default:throw new ee("Unsupported word size "+o)}}static stuffBits(o,s){let l=new ot,c=o.getSize(),d=(1<<s)-2;for(let f=0;f<c;f+=s){let g=0;for(let y=0;y<s;y++)(f+y>=c||o.get(f+y))&&(g|=1<<s-1-y);(g&d)===d?(l.appendBits(g&d,s),f--):g&d?l.appendBits(g,s):(l.appendBits(1|g,s),f--)}return l}static totalBitsInLayer(o,s){return((s?88:112)+16*o)*o}}Pe.DEFAULT_EC_PERCENT=33,Pe.DEFAULT_AZTEC_LAYERS=0,Pe.MAX_NB_BITS=32,Pe.MAX_NB_BITS_COMPACT=4,Pe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class gn{encode(o,s,l,c){return this.encodeWithHints(o,s,l,c,null)}encodeWithHints(o,s,l,c,d){let f=Ic.ISO_8859_1,g=Pe.DEFAULT_EC_PERCENT,y=Pe.DEFAULT_AZTEC_LAYERS;return null!=d&&(d.has(zt.CHARACTER_SET)&&(f=Kd.forName(d.get(zt.CHARACTER_SET).toString())),d.has(zt.ERROR_CORRECTION)&&(g=xe.parseInt(d.get(zt.ERROR_CORRECTION).toString())),d.has(zt.AZTEC_LAYERS)&&(y=xe.parseInt(d.get(zt.AZTEC_LAYERS).toString()))),gn.encodeLayers(o,s,l,c,f,g,y)}static encodeLayers(o,s,l,c,d,f,g){if(s!==fe.AZTEC)throw new ee("Can only encode AZTEC, but got "+s);let y=Pe.encode(Ce.getBytes(o,d),f,g);return gn.renderResult(y,l,c)}static renderResult(o,s,l){let c=o.getMatrix();if(null==c)throw new br;let d=c.getWidth(),f=c.getHeight(),g=Math.max(s,d),y=Math.max(l,f),C=Math.min(g/d,y/f),E=(g-d*C)/2,D=(y-f*C)/2,A=new Vt(g,y);for(let b=0,M=D;b<f;b++,M+=C)for(let T=0,O=E;T<d;T++,O+=C)c.get(T,b)&&A.setRegion(O,M,C,C);return A}}G.AbstractExpandedDecoder=Da,G.ArgumentException=Dn,G.ArithmeticException=ya,G.AztecCode=Fi,G.AztecCodeReader=Yn,G.AztecCodeWriter=gn,G.AztecDecoder=ac,G.AztecDetector=cc,G.AztecDetectorResult=lc,G.AztecEncoder=Pe,G.AztecHighLevelEncoder=_n,G.AztecPoint=sn,G.BarcodeFormat=fe,G.Binarizer=jo,G.BinaryBitmap=Ar,G.BitArray=ot,G.BitMatrix=Vt,G.BitSource=Ia,G.BrowserAztecCodeReader=class uc extends ai{constructor(o=500){super(new Yn,o)}},G.BrowserBarcodeReader=class mc extends ai{constructor(o=500,s){super(new ui(s),o,s)}},G.BrowserCodeReader=ai,G.BrowserDatamatrixCodeReader=class yc extends ai{constructor(o=500){super(new me,o)}},G.BrowserMultiFormatReader=class ba extends ai{constructor(o=null,s=500){const l=new Ne;l.setHints(o),super(l,s)}decodeBitmap(o){return this.reader.decodeWithState(o)}},G.BrowserPDF417Reader=class vc extends ai{constructor(o=500){super(new Ht,o)}},G.BrowserQRCodeReader=class hn extends ai{constructor(o=500){super(new zr,o)}},G.BrowserQRCodeSvgWriter=Qd,G.CharacterSetECI=q,G.ChecksumException=Pt,G.Code128Reader=X,G.Code39Reader=Ea,G.DataMatrixDecodedBitStreamParser=mt,G.DataMatrixReader=me,G.DecodeHintType=ht,G.DecoderResult=co,G.DefaultGridSampler=xa,G.DetectorResult=ho,G.EAN13Reader=Ho,G.EncodeHintType=zt,G.Exception=Kt,G.FormatException=Z,G.GenericGF=Ve,G.GenericGFPoly=Jt,G.GlobalHistogramBinarizer=gt,G.GridSampler=wa,G.GridSamplerInstance=Br,G.HTMLCanvasElementLuminanceSource=_r,G.HybridBinarizer=Se,G.ITFReader=at,G.IllegalArgumentException=ee,G.IllegalStateException=br,G.InvertedLuminanceSource=st,G.LuminanceSource=Ni,G.MathUtils=je,G.MultiFormatOneDReader=ui,G.MultiFormatReader=Ne,G.MultiFormatWriter=class a0{encode(o,s,l,c,d){let f;if(s!==fe.QR_CODE)throw new ee("No encoder available for format "+s);return f=new Jo,f.encode(o,s,l,c,d)}},G.NotFoundException=U,G.OneDReader=Tt,G.PDF417DecodedBitStreamParser=F,G.PDF417DecoderErrorCorrection=qd,G.PDF417Reader=Ht,G.PDF417ResultMetadata=Xd,G.PerspectiveTransform=An,G.PlanarYUVLuminanceSource=l0,G.QRCodeByteMatrix=Ma,G.QRCodeDataMask=fn,G.QRCodeDecodedBitStreamParser=Yo,G.QRCodeDecoderErrorCorrectionLevel=Fe,G.QRCodeDecoderFormatInformation=en,G.QRCodeEncoder=lt,G.QRCodeEncoderQRCode=te,G.QRCodeMaskUtil=wo,G.QRCodeMatrixUtil=de,G.QRCodeMode=ue,G.QRCodeReader=zr,G.QRCodeVersion=ae,G.QRCodeWriter=Jo,G.RGBLuminanceSource=Ac,G.RSS14Reader=Dt,G.RSSExpandedReader=j,G.ReaderException=_a,G.ReedSolomonDecoder=fo,G.ReedSolomonEncoder=nt,G.ReedSolomonException=uo,G.Result=pt,G.ResultMetadataType=Re,G.ResultPoint=ie,G.StringUtils=Ce,G.UnsupportedOperationException=Ir,G.VideoInputDevice=sc,G.WhiteRectangleDetector=Oi,G.WriterException=rt,G.ZXingArrays=St,G.ZXingCharset=Kd,G.ZXingInteger=xe,G.ZXingStandardCharsets=Ic,G.ZXingStringBuilder=Xe,G.ZXingStringEncoding=$t,G.ZXingSystem=it,G.createAbstractExpandedDecoder=pc,Object.defineProperty(G,"__esModule",{value:!0})}(nc)}},tc=>{tc(tc.s=846)}]);