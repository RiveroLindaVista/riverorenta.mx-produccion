{"version":3,"file":"component---src-pages-confirmacion-js-ad80c24fb03e0f006ee2.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/confirmacion.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { Col, Row, Container, Button } from \"react-bootstrap\";\r\nimport { navigate } from \"gatsby\";\r\n\r\nimport Layout from \"../components/layout.js\";\r\nimport Seo from \"../components/seo\";\r\nimport Keyboards from \"../components/Keyboards.js\";\r\nimport \"../components/pages-css/sCita.css\";\r\nimport VideoSeccion from \"../components/videoSeccion.js\";\r\nimport ModalEmergente from \"../components/ModalEmergente.js\";\r\nimport Timer from \"../components/timer.js\";\r\nimport api from \"../components/actions/riveroapi\";\r\n\r\nexport default function Confirmacion() {\r\n  const [show, setShow] = useState(false);\r\n  const [modal, setModal] = useState(false);\r\n  const [error, setError] = useState(0);\r\n  const [errorInput, setErrorInput] = useState(false);\r\n  const [click, setClick] = useState(false);\r\n  const [mensajeModal, setMensajeModal] = useState(\"\");\r\n\r\n  const [optionsKeyboard, setOptionsKeyboard] = useState({\r\n    inpName: \"\",\r\n    layoName: \"phone\",\r\n    name: \"\",\r\n    value: {}\r\n  })\r\n\r\n  const refForm = useRef();\r\n\r\n  function reenviarCodigo(){\r\n    var datosJ = JSON.parse(localStorage.getItem(\"informacion\"));\r\n    //console.log(\"datosJ: \", datosJ);\r\n\r\n    const params = {\r\n      envio: \"envio codigo\",\r\n      contacto: datosJ.contactoCliente.email,\r\n      medio: \"correo\"\r\n    }\r\n    //console.log(\"params: \", params);\r\n    api.CodigosVerficiacion(params).then((respCo) => {}).catch((error) => console.log(\"Error, \", error))\r\n  }\r\n\r\n  function continuar(){\r\n    //console.log(\"Me han pulsado jjii\");\r\n    if(optionsKeyboard.value.Codigo === undefined || optionsKeyboard.value.Codigo === \"\"){\r\n        //console.log(\"Ah pulsado en continuar está vacio!!!\", optionsKeyboard.value.Codigo);\r\n        setError(0);\r\n        setModal(true);\r\n        setErrorInput(true);\r\n    } else {\r\n        //console.log(\"Ah pulsado en continuar tengo algo\");\r\n\r\n        var datosJ = JSON.parse(localStorage.getItem(\"informacion\"));\r\n\r\n        const params = {\r\n          envio: \"valida codigo\",\r\n          codigo: optionsKeyboard.value.Codigo,\r\n          correo: datosJ.contactoCliente.email\r\n        }\r\n    \r\n        api.CodigosVerficiacion(params).then((respCo) => {\r\n          //console.log(\"La respuesta: \", respCo)\r\n\r\n          if(respCo.result === \"Código Incorrecto\"){\r\n            setError(14);\r\n            setModal(true);\r\n            setErrorInput(true);\r\n            setMensajeModal(\r\n              <center>\r\n                <div>❌ Codigo incorrecto, hubo un error en tu código de confirmación.</div>\r\n              </center>\r\n            )\r\n          } else {\r\n            //console.log(\"El codigo esta correcto\");\r\n            navigate(\"/datos-facturacion\")\r\n          }\r\n\r\n        }).catch((error) => console.log(\"Error, \", error))      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout backUrl={\"/datos-actuales\"}>\r\n      <Seo title=\"Auto servicio\" />\r\n        <Container className=\"container-sin-cita\" onClick={() => {setClick(true)}}>\r\n       { <Timer click={click} setClick={setClick} setError={setError} setModal={setModal}/>}\r\n            <Row className=\"row-cita-arriba\">\r\n                <div className=\"container-cita\">\r\n                  <Row>\r\n                    <Col className=\"titulo-cita\"><h1 className=\"titulo-h1\">Confirmación de Cliente</h1></Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col className=\"titulo-cita\"><p className=\"texto-gris\">Te acabamos de enviar tu código de verificación.</p></Col>\r\n                  </Row>\r\n                  <Row className=\"row-cita-abajo\" style={{marginBottom: 0}}>\r\n                      <Col lg={6}>\r\n                            <input\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                id={errorInput === true ? \"inputContactoError\" : \"inputContacto\"}\r\n                                className=\"form-control\"\r\n                                placeholder=\"Ingresar el código de verificación\"\r\n                                onClick={() => setShow(true)}\r\n                                onFocus={() => setOptionsKeyboard({...optionsKeyboard, inpName: \"Codigo\"})}\r\n                                value={optionsKeyboard.value.Codigo || \"\"}\r\n                            />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col className=\"titulo-cita\"><p className=\"texto-gris\">¿Aún no lo tienes?, vuelve a recibir el código de verificación aquí: <u><a onClick={() => reenviarCodigo()}>reenviar</a></u></p></Col>\r\n                  </Row>\r\n                  <Button ref={refForm} onClick={() => continuar()} style={{display: 'none'}}></Button>\r\n                  {show === true ? \r\n                      <center className=\"pt-5\">\r\n                        <Keyboards options={optionsKeyboard} setOptionsKeyboard={setOptionsKeyboard} optionsKeyboard={optionsKeyboard}/>\r\n                      </center>\r\n                  : null }\r\n                </div>\r\n            </Row>\r\n            <Row className=\"row-cita-abajo\">\r\n              <VideoSeccion refForm={refForm} none=\"tiene\"/>\r\n            </Row>\r\n        </Container>\r\n        <ModalEmergente modal={modal} setModal={setModal} error={error} setClick={setClick} mensajeModal={mensajeModal}/>\r\n    </Layout>\r\n  )\r\n}\r\n"],"names":["Confirmacion","useState","show","setShow","modal","setModal","error","setError","errorInput","setErrorInput","click","setClick","mensajeModal","setMensajeModal","inpName","layoName","name","value","optionsKeyboard","setOptionsKeyboard","refForm","useRef","backUrl","title","className","onClick","style","marginBottom","lg","autoComplete","type","id","placeholder","onFocus","Codigo","params","envio","contacto","JSON","parse","localStorage","getItem","contactoCliente","email","medio","api","then","respCo","catch","console","log","ref","undefined","datosJ","codigo","correo","result","navigate","continuar","display","options","none"],"sourceRoot":""}