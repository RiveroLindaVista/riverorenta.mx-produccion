{"version":3,"file":"component---src-pages-datos-actuales-js-8e272d40a1cd742a7640.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/datos-actuales.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Col, Row, Container, Button } from \"react-bootstrap\";\r\nimport { navigate } from \"gatsby\";\r\n\r\nimport Layout from \"../components/layout.js\";\r\nimport Seo from \"../components/seo\";\r\nimport Keyboards from \"../components/Keyboards.js\";\r\nimport \"../components/pages-css/sCita.css\";\r\nimport VideoSeccion from \"../components/videoSeccion.js\";\r\nimport ModalEmergente from \"../components/ModalEmergente.js\";\r\nimport Timer from \"../components/timer.js\";\r\nimport api from \"../components/actions/riveroapi\";\r\n\r\nexport default function DatosActuales() {\r\n\r\n  const [show, setShow] = useState(false);\r\n  const [modal, setModal] = useState(false);\r\n  const [error, setError] = useState(0);\r\n  const [click, setClick] = useState(false);\r\n\r\n  const [pruebaDatos, setPruebaDatos] = useState({\r\n    nombre: \"\",\r\n    correo: \"\",\r\n    telefono: \"\"\r\n  })\r\n\r\n  const refForm = useRef();\r\n\r\n  useEffect(() => {\r\n\r\n    if (typeof window !== 'undefined') {\r\n\r\n      var jParse = JSON.parse(localStorage.getItem(\"informacion\"));\r\n      //console.log(\"Informacion: \", jParse);\r\n\r\n      var correo = jParse.contactoCliente.email;\r\n      var nombre = jParse.datosCliente.fullName;\r\n      var numero = jParse.contactoCliente.mobile;\r\n\r\n      let replaceEmail = correo.replace(/(\\w{4}).*?@/, '$1****@');\r\n\r\n      let replaceName = nombre.replace(/,/g, \" \");\r\n\r\n      let splitName = replaceName.split(/[\" \"]+/);\r\n    \r\n      const mapita = splitName.map((obj) => {\r\n          let asteriskName = obj.slice(0, 3);\r\n          let nuevaName = `${asteriskName}******`;\r\n          return nuevaName;\r\n      })\r\n    \r\n      let joinName = mapita.join(\" \");\r\n\r\n\r\n    let replacePhone = numero.replace(/^(\\d{6})|\\d?\\d?(\\d{4}$)|(\\d)/, '****');\r\n\r\n      setPruebaDatos({\r\n        ...pruebaDatos,\r\n        correo: replaceEmail,\r\n        nombre: joinName,\r\n        telefono: replacePhone\r\n      })\r\n\r\n  } else {\r\n      //console.log('we are running on the server');\r\n  }\r\n\r\n  }, []);\r\n\r\n  function continuar (){\r\n\r\n    var datosJ = JSON.parse(localStorage.getItem(\"informacion\"));\r\n    //console.log(\"Me han pulsado jiji\", datosJ);\r\n\r\n    const params = {\r\n      envio: \"envio codigo\",\r\n      contacto: datosJ.contactoCliente.email,\r\n      medio: \"correo\"\r\n    }\r\n\r\n    api.CodigosVerficiacion(params).then((respCo) => {}).catch((error) => console.log(\"Error, \", error))\r\n\r\n    navigate(\"/confirmacion\");\r\n  }\r\n\r\n  return (\r\n    <Layout backUrl={\"/kilometraje\"}>\r\n      <Seo title=\"Auto servicio\" />\r\n        <Container className=\"container-sin-cita\" onClick={() => {setClick(true)}}>\r\n        {<Timer click={click} setClick={setClick} setError={setError} setModal={setModal}/>}\r\n            <Row className=\"row-cita-arriba\">\r\n                <div className=\"container-cita\">\r\n                  <Row>\r\n                    <Col className=\"titulo-cita\"><h1 className=\"titulo-h1\">Datos actuales</h1></Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col className=\"titulo-cita\"><p className=\"texto-gris\">Te enviaremos un código de verificación.</p></Col>\r\n                  </Row>\r\n                  <Row className=\"row-cita-abajo\" style={{marginBottom: 0}}>\r\n                      <Col lg={9}>\r\n                        <p className=\"texto-negro\">Nombre: </p>\r\n                            <input\r\n                                disabled\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                id=\"inputContacto\"\r\n                                className=\"form-control\"\r\n                                placeholder={pruebaDatos.nombre}\r\n                            />\r\n                      </Col>\r\n                      <Col lg={9}>\r\n                        <p className=\"texto-negro\">Correo: </p>\r\n                            <input\r\n                                disabled\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                id=\"inputContacto\"\r\n                                className=\"form-control\"\r\n                                placeholder={pruebaDatos.correo}\r\n                            />\r\n                      </Col>\r\n                      <Col lg={9}>\r\n                        <p className=\"texto-negro\">Telefono: </p>\r\n                            <input\r\n                                disabled\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                id=\"inputContacto\"\r\n                                className=\"form-control\"\r\n                                placeholder={pruebaDatos.telefono}\r\n                            />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{height: '10%'}} className=\"titulo-cita\">\r\n                    <Col lg={9} className=\"minititulo-cita\">\r\n                        <p style={{marginBottom: 0}} className=\"texto-gris\">Enviar mi código de verificación a: </p>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row >\r\n                    <Col className=\"titulo-cita\">\r\n                        <Button onClick={() => continuar()} className=\"btn-celeste\">Correo electrónico</Button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n            </Row>\r\n            <Row className=\"row-cita-abajo\">\r\n              <VideoSeccion refForm={refForm} none='none'/>\r\n            </Row>\r\n        </Container>\r\n        <ModalEmergente modal={modal} setModal={setModal} error={error} setClick={setClick}/>\r\n    </Layout>\r\n  )\r\n}\r\n"],"names":["DatosActuales","useState","modal","setModal","error","setError","click","setClick","nombre","correo","telefono","pruebaDatos","setPruebaDatos","refForm","useRef","useEffect","window","jParse","JSON","parse","localStorage","getItem","contactoCliente","email","datosCliente","fullName","numero","mobile","replaceEmail","replace","joinName","split","map","obj","slice","join","replacePhone","backUrl","title","className","onClick","style","marginBottom","lg","disabled","autoComplete","type","id","placeholder","height","params","envio","contacto","medio","api","then","respCo","catch","console","log","navigate","none"],"sourceRoot":""}