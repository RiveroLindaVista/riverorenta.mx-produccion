(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[809],{5058:function(e,o,t){var a=t(4687),n=t(7156),r=t(9728),l=function(){"use strict";function e(){}var o=e.prototype;return o.ValidadorWhatsApp=function(){var e=n(a.mark((function e(o){var t,n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=!1,void 0===o||""===o?(t=0,n=!0):10===o.length?(t=5,n=!1):(t=2,n=!0),r={data:t,boolean:n},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),o.ValidadorCorreo=function(){var e=n(a.mark((function e(o){var t,n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=!1,void 0===o||""===o?(t=0,n=!0):!0===/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(o)?(t=5,n=!1):(t=1,n=!0),r={data:t,boolean:n},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),o.ValidadorVIN=function(){var e=n(a.mark((function e(o){var t,n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=!1,console.log("Entra validador"),void 0===o||""===o?(t=0,n=!0):8===o.length?(t=5,n=!1):(t=3,n=!0),r={data:t,boolean:n},e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),o.ValidadorRFC=function(){var e=n(a.mark((function e(o,t){var n,r,l,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,r=!1,l=!1,"Selecciona"===t?(n=8,l=!0):"Física"===t?(l=!1,""===o||void 0===o?(console.log("llega aquí vacio"),n=0,r=!0):(console.log("llega aquí tiene valores"),13===o.length?(n=5,r=!1):(n=9,r=!0))):"Moral"===t&&(l=!1,""===o||void 0===o?(n=0,r=!0):12===o.length?(n=5,r=!1):(n=9,r=!0)),i={data:n,booleanRFC:r,booleanRegimen:l},e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(o,t){return e.apply(this,arguments)}}(),o.ValidadorGenero=function(){var e=n(a.mark((function e(o){var t,n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=!1,"Selecciona"===o?(t=8,n=!0):(t=5,n=!1),r={data:t,boolean:n},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),o.ValidadorNombre=function(){var e=n(a.mark((function e(o){var t,n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=!1,""===o||void 0===o?(t=0,n=!0):(t=5,n=!1),r={data:t,boolean:n},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),o.ValidadorCamposFacturacion=function(){var e=n(a.mark((function e(o){var t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,t=""===o.Calle||""===o.Celular||""===o.Colonia||""===o.Correo||""===o.Nombre||""===o.RFC||""===o.Telefono||""===o.CodigoP?0:5,e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),o.ValidadorCamposNuevoUsuario=function(){var e=n(a.mark((function e(o){var t,n,r,l,i,u,c,s,m,f,v;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=5,e.next=3,this.ValidadorNombre(o.Nombre);case 3:return n=e.sent,e.next=6,this.ValidadorCorreo(o.Correo);case 6:return r=e.sent,e.next=9,this.ValidadorWhatsApp(o.Celular);case 9:return l=e.sent,e.next=12,this.ValidadorRFC(o.RFC,o.Regimen);case 12:return i=e.sent,e.next=15,this.ValidadorGenero(o.Genero);case 15:return u=e.sent,e.next=18,this.ValidadorNombre(o.Calle);case 18:return c=e.sent,e.next=21,this.ValidadorNombre(o.Numero);case 21:return s=e.sent,e.next=24,this.ValidadorNombre(o.Colonia);case 24:return m=e.sent,e.next=27,this.ValidadorNombre(o.CPostal);case 27:return f=e.sent,0===n.data||0===r.data||0===l.data||0===i.data||0===c.data||0===s.data||0===m.data||0===f.data?t=0:1===r.data?t=r.data:2===l.data?t=l.data:8===i.data||9===i.data?t=i.data:8===u.data&&(t=u.data),v={error:t,nombre:n,correo:r,celular:l,rfc:i,genero:u,calle:c,numero:s,colonia:m,cpostal:f},e.abrupt("return",v);case 31:case"end":return e.stop()}}),e,this)})));return function(o){return e.apply(this,arguments)}}(),o.ValidadorCamposDatosAutos=function(){var e=n(a.mark((function e(o){var t,n,r,l,i,u,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,this.ValidadorNombre(o.Color);case 3:return n=e.sent,e.next=6,this.ValidadorNombre(o.Anio);case 6:return r=e.sent,e.next=9,this.ValidadorNombre(o.VINDatos);case 9:return l=e.sent,e.next=12,this.ValidadorNombre(o.Placas);case 12:return i=e.sent,e.next=15,this.ValidadorNombre(o.Kilometraje);case 15:return u=e.sent,t=0===n.data||0===r.data||0===l.data||0===i.data||0===u.data?0:5,c={error:t,color:n,anio:r,vin:l,placas:i,kilometraje:u},e.abrupt("return",c);case 19:case"end":return e.stop()}}),e,this)})));return function(o){return e.apply(this,arguments)}}(),r(e,null,[{key:"instance",get:function(){return null===e._val&&(e._val=new e),e._val}}]),e}();l._val=null,e.exports=l.instance},6209:function(e,o,t){"use strict";function a(e,o,t,a,n,r,l){try{var i=e[r](l),u=i.value}catch(c){return void t(c)}i.done?o(u):Promise.resolve(u).then(a,n)}function n(e){return function(){var o=this,t=arguments;return new Promise((function(n,r){var l=e.apply(o,t);function i(e){a(l,n,r,i,u,"next",e)}function u(e){a(l,n,r,i,u,"throw",e)}i(void 0)}))}}t.r(o),t.d(o,{default:function(){return F}});var r=t(4687),l=t.n(r),i=t(7294),u=t(3639),c=t(994),s=t(7408),m=t(2082),f=t(3134),v=t(1082),d=t(7655),p=t(5058),N=t.n(p),C=t(9357),g=t(3635),b=t(9034),E=t(5936),h=t(7580),y=t(2449),Z=t.n(y);function F(){var e=(0,i.useState)(!1),o=e[0],t=e[1],a=(0,i.useState)(!1),r=a[0],p=a[1],y=(0,i.useState)(0),F=y[0],S=y[1],w=(0,i.useState)(!1),x=w[0],j=(w[1],(0,i.useState)({Nombreform:!1,Correoform:!1,Celularform:!1,Regimenform:!1,RFCform:!1,Fnacimientoform:!1,Generoform:!1,Calleform:!1,Numeroform:!1,Coloniaform:!1,CPostalform:!1})),k=j[0],O=j[1],R=(0,i.useState)(!1),V=R[0],P=R[1],I=(0,i.useState)({inpName:"",layoName:"default",name:"",value:{NombreNuevo:void 0,CorreoNuevo:void 0,RFCNuevo:void 0,CelularNuevo:void 0,TelefonoNuevo:void 0,fNacimiento:void 0,ColoniaNuevo:void 0,NumeroNuevo:void 0,CalleNuevo:void 0,CodigoPNuevo:void 0}}),T=I[0],M=I[1],D=(0,i.useState)({regimen:void 0,genero:void 0,fNacimiento:void 0}),A=D[0],z=D[1],G=(0,i.useState)({estado:"",municipio:""}),_=G[0],B=G[1],L=(0,i.useState)({estados:{},ciudades:{}}),K=L[0],U=L[1],W=(0,i.useRef)();function q(e){var o;console.log("Recibo: ",e);var t=((null===(o=e.ParamEstado)||void 0===o?void 0:o.normalize("NFD").replace(/[^a-zA-Z0-9 ]/g,""))||"nuevo leon").toLowerCase(),a=e.ParamMuni.normalize("NFD").replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase();Z().getMunicipios(t).then((function(e){console.log("Tengo los estados: ",e);var o=e.estados.map((function(e){var o=e.toLowerCase();if((null==o?void 0:o.normalize("NFD").replace(/[^a-zA-Z0-9 ]/g,""))===t)return e})).filter((function(e){return void 0!==e})),n=e.ciudades.map((function(e){var o=e.toLowerCase();if((null==o?void 0:o.normalize("NFD").replace(/[^a-zA-Z0-9 ]/g,""))===a)return e})).filter((function(e){return void 0!==e}));B(Object.assign({},_,{estado:o[0],municipio:n[0]})),U(Object.assign({},K,{estados:e.estados,ciudades:e.ciudades}))}))}function H(){return(H=n(l().mark((function e(){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={Nombre:T.value.NombreNuevo,Correo:T.value.CorreoNuevo,Regimen:A.regimen,RFC:T.value.RFCNuevo,Celular:T.value.CelularNuevo,Telefono:T.value.TelefonoNuevo,Nacimiento:A.fNacimiento,Genero:A.genero,Colonia:T.value.ColoniaNuevo,Numero:T.value.NumeroNuevo,Calle:T.value.CalleNuevo,CPostal:T.value.CodigoPNuevo},N().ValidadorCamposNuevoUsuario(o).then((function(e){if(O(Object.assign({},k,{Nombreform:e.nombre.boolean,Correoform:e.correo.boolean,Celularform:e.celular.boolean,Regimenform:e.rfc.booleanRegimen,RFCform:e.rfc.booleanRFC,Generoform:e.genero.boolean,Calleform:e.calle.boolean,Numeroform:e.numero.boolean,Coloniaform:e.colonia.boolean,CPostalform:e.cpostal.boolean})),0===e.error||1===e.error||2===e.error||8===e.error||9===e.error)S(e.error),p(!0);else if(5===e.error){var o=T.value.TelefonoNuevo||"",t={data:{},id:0,codigo:0,datosCliente:{Nombre:T.value.NombreNuevo,RFC:T.value.RFCNuevo,DiaNacimiento:A.fNacimiento},direccionCliente:{Calle:T.value.CalleNuevo,Numero:T.value.NumeroNuevo,Colonia:T.value.ColoniaNuevo,CodigoPostal:T.value.CodigoPNuevo,Estado:_.estado,Municipio:_.municipio,Pais:"MEXICO"},clienteContacto:{Celular:T.value.CelularNuevo,Telefono:o,Correo:T.value.CorreoNuevo,Preferencia:"WhatsApp"}};(0,v.navigate)("/registrar-vehiculo"),localStorage.setItem("RutaNavegacion","nuevo-usuario"),localStorage.setItem("informacion",JSON.stringify(t))}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.useEffect)((function(){if("undefined"!=typeof window){console.log("we are running on the client"),M(Object.assign({},T,{value:{NombreNuevo:localStorage.getItem("NombreNuevo")||"",CorreoNuevo:localStorage.getItem("CorreoNuevo")||"",RFCNuevo:localStorage.getItem("RFCNuevo")||"",CelularNuevo:localStorage.getItem("CelularNuevo")||"",TelefonoNuevo:localStorage.getItem("TelefonoNuevo")||"",fNacimiento:localStorage.getItem("fNacimiento")||"",ColoniaNuevo:localStorage.getItem("ColoniaNuevo")||"",NumeroNuevo:localStorage.getItem("NumeroNuevo")||"",CalleNuevo:localStorage.getItem("CalleNuevo")||"",CodigoPNuevo:localStorage.getItem("CodigoPNuevo")||""}})),z(Object.assign({},A,{regimen:localStorage.getItem("regimen")||"",genero:localStorage.getItem("genero")||"",fNacimiento:localStorage.getItem("fNacimiento")||""}));q({ParamEstado:"Nuevo León",ParamMuni:""})}else console.log("we are running on the server")}),[]),i.createElement(d.Z,{backUrl:"/"},i.createElement(C.Z,{title:"Auto servicio"}),i.createElement(u.Z,{className:"container-sin-cita",onClick:function(){P(!0)}},i.createElement(h.Z,{click:V,setClick:P,setError:S,setModal:p}),i.createElement(c.Z,{className:"row-cita-arriba"},i.createElement("form",{className:"container-cita",style:{overflowY:"scroll",height:"100%"}},i.createElement(c.Z,null,i.createElement(s.Z,{className:"titulo-cita"},i.createElement("h1",{className:"titulo-h1",style:{marginTop:"0.8rem"}},"Datos del usuario"))),i.createElement(c.Z,{className:"titulo-cita"},i.createElement("h3",{className:"titulo-h1",style:{marginTop:"0.6rem",marginBottom:"0.6rem"}},"Cliente"),i.createElement(u.Z,null,i.createElement(c.Z,null,i.createElement(s.Z,{lg:4},"Nombre completo:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===k.Nombreform?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"default"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"NombreNuevo"}))},value:T.value.NombreNuevo||""})),i.createElement(s.Z,{lg:4},"Correo electrónico:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===k.Correoform?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"default"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"CorreoNuevo"}))},value:T.value.CorreoNuevo||""})),i.createElement(s.Z,{lg:2},i.createElement("div",{style:{paddingBottom:10}},"Tipo de regimen: "),i.createElement(m.Z.Select,{"aria-label":"Default select example",id:!0===k.Regimenform?"inputContactoError":"inputContacto",className:"form-control",onChange:function(e){console.log("Estamos en el select de regimen",e.target.value),z(Object.assign({},A,{regimen:e.target.value}))},value:A.regimen},i.createElement("option",{value:"Selecciona"},"Selecciona"),i.createElement("option",{value:"Física"},"Física"),i.createElement("option",{value:"Moral"},"Moral"))),i.createElement(s.Z,{lg:2},"RFC:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===k.RFCform?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"vin"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"RFCNuevo"}))},value:T.value.RFCNuevo||""}))),i.createElement(c.Z,null,i.createElement(s.Z,{lg:3},"Celular:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===k.Celularform?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"phone"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"CelularNuevo"}))},value:T.value.CelularNuevo||""})),i.createElement(s.Z,{lg:3},"Teléfono:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"phone"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"TelefonoNuevo"}))},value:T.value.TelefonoNuevo||""})),i.createElement(s.Z,{lg:3},"Fecha de nacimiento:",i.createElement("input",{autoComplete:"off",type:"date",id:"inputContacto",className:"form-control",onChange:function(e){z(Object.assign({},A,{fNacimiento:e.target.value}))},value:A.fNacimiento})),i.createElement(s.Z,{lg:3},i.createElement("div",{style:{paddingBottom:10}},"Genero: "),i.createElement(m.Z.Select,{"aria-label":"Default select example",id:!0===k.Generoform?"inputContactoError":"inputContacto",className:"form-control",onChange:function(e){console.log("Selecciono la fecha: ",e.target.value),z(Object.assign({},A,{genero:e.target.value}))},value:A.genero},i.createElement("option",null,"Selecciona"),i.createElement("option",{value:"Hombre"},"Hombre"),i.createElement("option",{value:"Mujer"},"Mujer")))))),i.createElement(c.Z,{className:"titulo-cita"},i.createElement("h3",{className:"titulo-h1",style:{marginTop:"0.6rem",marginBottom:"0.6rem"}},"Domicilio"),i.createElement(u.Z,null,i.createElement(c.Z,null,i.createElement(s.Z,{lg:4},"Calle:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===k.Calleform?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"default"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"CalleNuevo"}))},value:T.value.CalleNuevo||""})),i.createElement(s.Z,{lg:4},"Número:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===k.Numeroform?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"phone"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"NumeroNuevo"}))},value:T.value.NumeroNuevo||""})),i.createElement(s.Z,{lg:4},"Colonia:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===k.Coloniaform?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"default"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"ColoniaNuevo"}))},value:T.value.ColoniaNuevo||""}))),i.createElement(c.Z,null,i.createElement(s.Z,{lg:4},i.createElement("div",{style:{paddingBottom:10}},"Estado: "),i.createElement(m.Z.Select,{"aria-label":"Default select example",id:"inputContacto",className:"form-control",onChange:function(e){q({ParamEstado:e.target.value,ParamMuni:""})},value:_.estado},i.createElement("option",{value:"Selecciona"},"Seleccionar"),K&&K.estados&&K.estados.length>0?K.estados.map((function(e,o){return i.createElement(i.Fragment,null,i.createElement("option",{value:e},e))})):null)),i.createElement(s.Z,{lg:4},i.createElement("div",{style:{paddingBottom:10}},"Municipio: "),i.createElement(m.Z.Select,{"aria-label":"Default select example",id:"inputContacto",className:"form-control",onChange:function(e){B(Object.assign({},_,{municipio:e.target.value}))},value:_.municipio},i.createElement("option",{value:"Selecciona"},"Seleccionar"),K&&K.ciudades&&K.ciudades.length>0?K.ciudades.map((function(e,o){return i.createElement(i.Fragment,null,i.createElement("option",{value:e},e))})):null)),i.createElement(s.Z,{lg:4},"Código postal:",i.createElement("input",{autoComplete:"off",type:"text",id:!0===k.CPostalform?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){t(!0),M(Object.assign({},T,{layoName:"phone"}))},onFocus:function(){return M(Object.assign({},T,{inpName:"CodigoPNuevo"}))},value:T.value.CodigoPNuevo||""}))))),!0===o?i.createElement("center",{className:"pt-3"},i.createElement(g.Z,{options:T,setOptionsKeyboard:M,optionsKeyboard:T})):null)),i.createElement(f.Z,{ref:W,onClick:function(){return function(){return H.apply(this,arguments)}()},style:{display:"none"}}),i.createElement(c.Z,{className:"row-cita-abajo"},i.createElement(b.Z,{refForm:W,none:"tiene"}))),i.createElement(E.Z,{modal:r,error:F,setModal:p,setClick:P}))}}}]);
//# sourceMappingURL=component---src-pages-nuevo-usuario-js-d4c55171500979f59bbf.js.map