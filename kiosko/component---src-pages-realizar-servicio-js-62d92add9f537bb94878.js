"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[76],{2447:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var l=a(7294),n=a(994),r=a(7408),o=a(3639),c=a(3134),i=a(1082),s=a(7655),m=a(9357),u=a(9034),g=a(5936),d=a(7580),p=a(9324),E=a(2449),f=a.n(E);function v(){var e=(0,l.useRef)(),t=(0,l.useState)(!1),a=t[0],E=t[1],v=(0,l.useState)(0),S=v[0],y=v[1],N=(0,l.useState)(!1),h=N[0],b=N[1],k=(0,l.useState)({paquetes:{}}),Z=k[0],I=k[1],q=(0,l.useState)(),C=q[0],w=q[1],P=(0,l.useState)({Clase:"",Precio:"",Id:""}),R=P[0],x=P[1],j=(0,l.useState)(""),O=j[0],z=j[1],B=[0].map((function(e,t){return l.createElement(n.Z,null,l.createElement(r.Z,{lg:4},l.createElement(p.Z,null)))}));return(0,l.useEffect)((function(){if("undefined"!=typeof window){var e="",t=0;if("sin-cita"===localStorage.getItem("RutaNavegacion"))e=JSON.parse(localStorage.getItem("informacion")).data.model,t=localStorage.getItem("Kilo");else if("orden-reparacion"===localStorage.getItem("RutaNavegacion")){e=JSON.parse(localStorage.getItem("informacion"))[0].car.model,t=localStorage.getItem("Kilo")}else if("nuevo-usuario"===localStorage.getItem("RutaNavegacion")){var a=JSON.parse(localStorage.getItem("informacion"));e=a.data.Modelo,t=a.data.Kilometraje}var n={modelo:e,kilometros:t};f().getPaquetesDisponible(n).then((function(e){var t,a=null===(t=e.data)||void 0===t?void 0:t.paquetes;if(a){var r=null==a?void 0:a.sort((function(e,t){return e.total-t.total}));I(Object.assign({},Z,{paquetes:r}))}else b(!0),y(14),z(l.createElement("center",null,l.createElement("div",null,"❌ Lo sentimos, no existen paquetes para el modelo: ",n.modelo),l.createElement("p",{style:{marginBottom:0},className:"texto-gris"},"* Favor de contactar con un asesor. ")));w(e.data.poliza)})).catch((function(e){}))}}),[]),l.createElement(s.Z,{backUrl:"/servicio-a-realizar",poliza:C,setSelected:x,selected:R},l.createElement(m.Z,{title:"Auto servicio"}),l.createElement(o.Z,{className:"container-sin-cita",onClick:function(){E(!0)}},l.createElement(d.Z,{click:a,setClick:E,setError:y,setModal:b}),l.createElement(n.Z,{className:"row-cita-arriba"},l.createElement("div",{className:"container-cita"},l.createElement(n.Z,null,l.createElement(r.Z,{className:"titulo-cita"},l.createElement("h1",{className:"titulo-h1"},"Paquetes disponibles"))),l.createElement(r.Z,{lg:12,className:"titulo-cita"},l.createElement("p",{className:"texto-gris",style:{marginBottom:5}},"Seleccione un paquete.")),l.createElement(n.Z,{style:{height:620,position:"relative"}},Z&&Z.paquetes&&Z.paquetes.length>0?Z.paquetes.map((function(e,t){var a=e.incluye;return l.createElement("label",{style:{width:"33%"},key:t},l.createElement("input",{class:"item-check",name:"keywords[]",type:"radio",value:"1"}),l.createElement(r.Z,{style:{border:"0.5px solid #858796",margin:5,padding:5},className:"item-name",onClick:function(t){x(Object.assign({},R,{Clase:e.clase,Precio:e.total,Id:e.id}))}},l.createElement(r.Z,{style:{background:"white",padding:10,borderRadius:8}},l.createElement("div",{className:"p-1",style:{backgroundColor:"#17a2b8",color:"white"}},l.createElement("center",null,l.createElement("h5",{style:{marginTop:"0.5rem"}},e.clase))),l.createElement("div",{className:"texto-azul",style:{marginBottom:25}},l.createElement("center",null,l.createElement("h3",{style:{marginTop:"0.5rem"}},"$ ",e.total))),l.createElement("strong",null,l.createElement("center",null,"25 PUNTOS DE SEGURIDAD")),l.createElement("div",null,a.map((function(e,t){return l.createElement("li",{key:t,className:"list-group-item fila-incluye",style:{fontSize:15,marginBottom:0,margin:7,justifyContent:"flex-start",display:"flex"}},l.createElement("img",{style:{width:20,height:20,marginRight:14,marginLeft:14},src:e.imagen}),e.nombre)}))))))})):B))),l.createElement(c.Z,{ref:e,onClick:function(){return console.log("Pulsado",R),void(R.Clase>=0?(y(13),b(!0)):(localStorage.setItem("paqueteClase",R.Clase),localStorage.setItem("paquetePrecio",R.Precio),localStorage.setItem("paqueteId",R.Id),"sin-cita"===localStorage.getItem("RutaNavegacion")?(0,i.navigate)("/comentarios-paquetes"):(0,i.navigate)("/resumen-servicios")))},style:{display:"none"}}),l.createElement(n.Z,{className:"row-cita-abajo"},l.createElement(u.Z,{refForm:e,none:"tiene"}))),l.createElement(g.Z,{modal:h,error:S,setModal:b,registro:!1,setClick:E,mensajeModal:O}))}}}]);
//# sourceMappingURL=component---src-pages-realizar-servicio-js-62d92add9f537bb94878.js.map