{"version":3,"file":"component---src-pages-kilometraje-js-f02c1b8c0b6deec5a6d4.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/kilometraje.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Col, Row, Container, Button } from \"react-bootstrap\";\r\nimport { navigate } from \"gatsby\";\r\n\r\nimport Layout from \"../components/layout.js\";\r\nimport Seo from \"../components/seo\";\r\nimport Keyboards from \"../components/Keyboards.js\";\r\nimport \"../components/pages-css/sCita.css\";\r\nimport VideoSeccion from \"../components/videoSeccion.js\";\r\nimport ModalEmergente from \"../components/ModalEmergente.js\";\r\nimport Timer from \"../components/timer.js\";\r\n\r\nexport default function Kilometraje(props) {\r\n\r\n  const [kilometraje, setKilometraje] = useState({\r\n    KM: \"\",\r\n    textoKM: \"\"\r\n  });\r\n\r\n  const [show, setShow] = useState(false);\r\n  const [modal, setModal] = useState(false);\r\n  const [error, setError] = useState(0);\r\n  const [errorInput, setErrorInput] = useState(false);\r\n  const [click, setClick] = useState(false);\r\n  const [mensajeModal, setMensajeModal] = useState(\"\");\r\n\r\n  const refForm = useRef();\r\n\r\n  const [optionsKeyboard, setOptionsKeyboard] = useState({\r\n    inpName: \"\",\r\n    layoName: \"phone\",\r\n    name: \"\",\r\n    value: {\r\n      Kilo: undefined\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n        //console.log('we are running on the client');\r\n        setOptionsKeyboard({\r\n          ...optionsKeyboard,\r\n          value: {\r\n            Kilo: localStorage.getItem('Kilo') || \"\",\r\n          }\r\n        })\r\n        var Kilometros = JSON.parse(localStorage.getItem(\"informacion\"));\r\n        //console.log(\"Tengo informacion: \", Kilometros);\r\n\r\n        if(localStorage.getItem(\"RutaNavegacion\") === \"sin-cita\" || \"\"){\r\n          setKilometraje({\r\n            ...kilometraje,\r\n            KM: Kilometros.data.km,\r\n            textoKM: `Kilometraje registrado ${Kilometros.data.km}`\r\n          });\r\n        } else {\r\n          setKilometraje({\r\n            ...kilometraje,\r\n            KM: Kilometros[0].car.km,\r\n            textoKM: `Kilometraje registrado ${Kilometros[0].car.km}`\r\n          });\r\n        }\r\n    } else {\r\n        //console.log('we are running on the server');\r\n    }\r\n  }, [])\r\n\r\n  function continuar (){\r\n    if(optionsKeyboard.value.Kilo === undefined || optionsKeyboard.value.Kilo === \"\"){\r\n        setError(0);\r\n        setModal(true);\r\n        setErrorInput(true);\r\n    } else {\r\n      if(optionsKeyboard.value.Kilo >= kilometraje.KM){\r\n        localStorage.setItem('Kilo', optionsKeyboard.value.Kilo);\r\n        //console.log(\"Es mayor al kilometraje registrado\");\r\n        if(localStorage.getItem(\"RutaNavegacion\") === \"sin-cita\" || \"\"){\r\n          navigate(\"/datos-actuales\");\r\n        } else {\r\n          navigate(\"/servicio-a-realizar\");\r\n        }\r\n      } else {\r\n        //console.log(\"Es menor al kilometraje registrado\");\r\n        setModal(true)\r\n        setError(14);\r\n        setErrorInput(true);\r\n        setMensajeModal(\r\n          <center>\r\n            <div>Recuerda que el campo de km debe ser mayor a {kilometraje.KM} km.</div>\r\n          </center>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout backUrl={\"/sin-cita\"}>\r\n      <Seo title=\"Auto servicio\" />\r\n        <Container className=\"container-sin-cita\" onClick={() => {setClick(true)}}>\r\n        {<Timer click={click} setClick={setClick} setError={setError} setModal={setModal}/>}\r\n            <Row className=\"row-cita-arriba\">\r\n                <div className=\"container-cita\">\r\n\r\n                  <Row>\r\n                    <Col className=\"titulo-cita\"><h1 className=\"titulo-h1\">Ingresa tu Kilometraje actual</h1></Col>\r\n                  </Row>\r\n                  <Row className=\"row-cita-abajo\" style={{marginBottom: 0}}>\r\n                      <Col lg={9}>\r\n                            <input\r\n                                disabled\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                id=\"inputContacto\"\r\n                                className=\"form-control\"\r\n                                placeholder={kilometraje.textoKM}\r\n                            />\r\n                    \r\n                      </Col>\r\n                  </Row>\r\n                  <Row className=\"row-cita-abajo\" style={{marginBottom: 0}}>\r\n                      <Col lg={9}>\r\n                            <input\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                id={errorInput === true ? \"inputContactoError\" : \"inputContacto\"}\r\n                                className=\"form-control\"\r\n                                placeholder=\"Kilometraje actual (ejemplo: 12500)\"\r\n                                onClick={() => setShow(true)}\r\n                                onFocus={() => setOptionsKeyboard({...optionsKeyboard, inpName: \"Kilo\"})}\r\n                                value={optionsKeyboard.value.Kilo || \"\"}\r\n                            />\r\n                            <p className=\"texto-gris\">-Debe ser mayor a tu kilometraje registrado</p>\r\n                      </Col>\r\n                  </Row>\r\n                  <Button ref={refForm} onClick={() => continuar()} style={{display: 'none'}}></Button>\r\n                  {show === true ? \r\n                      <center className=\"pt-5\">\r\n                        <Keyboards options={optionsKeyboard} setOptionsKeyboard={setOptionsKeyboard} optionsKeyboard={optionsKeyboard}/>\r\n                      </center>\r\n                  : null }\r\n                </div>\r\n            </Row>\r\n            <Row className=\"row-cita-abajo\">\r\n              <VideoSeccion refForm={refForm} none=\"tiene\"/>\r\n            </Row>\r\n        </Container>\r\n        <ModalEmergente modal={modal} setModal={setModal} error={error} setClick={setClick} mensajeModal={mensajeModal}/>\r\n    </Layout>\r\n  )\r\n}\r\n"],"names":["Kilometraje","props","useState","KM","textoKM","kilometraje","setKilometraje","show","setShow","modal","setModal","error","setError","errorInput","setErrorInput","click","setClick","mensajeModal","setMensajeModal","refForm","useRef","inpName","layoName","name","value","Kilo","undefined","optionsKeyboard","setOptionsKeyboard","useEffect","window","localStorage","getItem","Kilometros","JSON","parse","data","km","car","backUrl","title","className","onClick","style","marginBottom","lg","disabled","autoComplete","type","id","placeholder","onFocus","ref","setItem","navigate","display","options","none"],"sourceRoot":""}